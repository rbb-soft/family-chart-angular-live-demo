(self.webpackChunkfamily_chart2=self.webpackChunkfamily_chart2||[]).push([[179],{255:Fa=>{function Ti(to){return Promise.resolve().then(()=>{var oi=new Error("Cannot find module '"+to+"'");throw oi.code="MODULE_NOT_FOUND",oi})}Ti.keys=()=>[],Ti.resolve=Ti,Ti.id=255,Fa.exports=Ti},358:(Fa,Ti,to)=>{"use strict";to.r(Ti),to.d(Ti,{Adder:()=>Xt,Delaunay:()=>Yg,FormatSpecifier:()=>Hd,InternMap:()=>yc,InternSet:()=>Nf,Voronoi:()=>S1,active:()=>$I,arc:()=>xy,area:()=>pp,areaRadial:()=>Ry,ascending:()=>Vt,autoType:()=>Jg,axisBottom:()=>D_,axisLeft:()=>oI,axisRight:()=>ko,axisTop:()=>zD,bin:()=>lt,bisect:()=>Ii,bisectCenter:()=>no,bisectLeft:()=>__,bisectRight:()=>Ba,bisector:()=>hr,blob:()=>pi,brush:()=>x2,brushSelection:()=>wg,brushX:()=>md,brushY:()=>l1,buffer:()=>W1,chord:()=>I2,chordDirected:()=>Er,chordTranspose:()=>zI,cluster:()=>cb,color:()=>uo,contourDensity:()=>E1,contours:()=>Td,count:()=>ms,create:()=>Cy,creator:()=>$p,cross:()=>Sf,csv:()=>Y1,csvFormat:()=>A1,csvFormatBody:()=>Z2,csvFormatRow:()=>J2,csvFormatRows:()=>X2,csvFormatValue:()=>eE,csvParse:()=>K2,csvParseRows:()=>GI,cubehelix:()=>Yr,cumsum:()=>Tf,curveBasis:()=>$A,curveBasisClosed:()=>pS,curveBasisOpen:()=>gS,curveBumpX:()=>HA,curveBumpY:()=>zA,curveBundle:()=>_S,curveCardinal:()=>sf,curveCardinalClosed:()=>af,curveCardinalOpen:()=>vS,curveCatmullRom:()=>jy,curveCatmullRomClosed:()=>qA,curveCatmullRomOpen:()=>fs,curveLinear:()=>nf,curveLinearClosed:()=>WA,curveMonotoneX:()=>GA,curveMonotoneY:()=>Hy,curveNatural:()=>YA,curveStep:()=>QA,curveStepAfter:()=>ES,curveStepBefore:()=>$C,descending:()=>gc,deviation:()=>mc,difference:()=>nI,disjoint:()=>gr,dispatch:()=>qa,drag:()=>Y2,dragDisable:()=>Yf,dragEnable:()=>Wt,dsv:()=>_E,dsvFormat:()=>mu,easeBack:()=>dE,easeBackIn:()=>ZI,easeBackInOut:()=>dE,easeBackOut:()=>z1,easeBounce:()=>ji,easeBounceIn:()=>fE,easeBounceInOut:()=>Ui,easeBounceOut:()=>ji,easeCircle:()=>B1,easeCircleIn:()=>aE,easeCircleInOut:()=>B1,easeCircleOut:()=>Gs,easeCubic:()=>hg,easeCubicIn:()=>C2,easeCubicInOut:()=>hg,easeCubicOut:()=>D2,easeElastic:()=>i0,easeElasticIn:()=>hE,easeElasticInOut:()=>pE,easeElasticOut:()=>i0,easeExp:()=>V1,easeExpIn:()=>L1,easeExpInOut:()=>V1,easeExpOut:()=>Pd,easeLinear:()=>iE,easePoly:()=>yu,easePolyIn:()=>YI,easePolyInOut:()=>yu,easePolyOut:()=>QI,easeQuad:()=>P1,easeQuadIn:()=>oE,easeQuadInOut:()=>P1,easeQuadOut:()=>sE,easeSin:()=>F1,easeSinIn:()=>n0,easeSinInOut:()=>F1,easeSinOut:()=>O1,every:()=>XT,extent:()=>ai,fcumsum:()=>Rf,filter:()=>eI,forceCenter:()=>K1,forceCollide:()=>rA,forceLink:()=>oA,forceManyBody:()=>tv,forceRadial:()=>h0,forceSimulation:()=>d0,forceX:()=>TE,forceY:()=>Xo,format:()=>bu,formatDefaultLocale:()=>rl,formatLocale:()=>y0,formatPrefix:()=>zd,formatSpecifier:()=>tl,fsum:()=>Af,geoAlbers:()=>Kv,geoAlbersUsa:()=>Ah,geoArea:()=>dv,geoAzimuthalEqualArea:()=>Zv,geoAzimuthalEqualAreaRaw:()=>Ou,geoAzimuthalEquidistant:()=>Xv,geoAzimuthalEquidistantRaw:()=>rm,geoBounds:()=>Du,geoCentroid:()=>O0,geoCircle:()=>Mv,geoClipAntimeridian:()=>Tv,geoClipCircle:()=>U0,geoClipExtent:()=>Rv,geoClipRectangle:()=>hl,geoConicConformal:()=>ex,geoConicConformalRaw:()=>eb,geoConicEqualArea:()=>xl,geoConicEqualAreaRaw:()=>tm,geoConicEquidistant:()=>tb,geoConicEquidistantRaw:()=>sm,geoContains:()=>Zr,geoDistance:()=>Jo,geoEqualEarth:()=>tx,geoEqualEarthRaw:()=>rb,geoEquirectangular:()=>om,geoEquirectangularRaw:()=>Lu,geoGnomonic:()=>ib,geoGnomonicRaw:()=>am,geoGraticule:()=>ia,geoGraticule10:()=>Iu,geoIdentity:()=>nx,geoInterpolate:()=>Au,geoLength:()=>ta,geoMercator:()=>im,geoMercatorRaw:()=>Fu,geoNaturalEarth1:()=>ob,geoNaturalEarth1Raw:()=>an,geoOrthographic:()=>rx,geoOrthographicRaw:()=>um,geoPath:()=>WE,geoProjection:()=>Nr,geoProjectionMutator:()=>ca,geoRotation:()=>xv,geoStereographic:()=>ix,geoStereographicRaw:()=>Nh,geoStream:()=>$i,geoTransform:()=>GE,geoTransverseMercator:()=>sb,geoTransverseMercatorRaw:()=>Ph,gray:()=>fu,greatest:()=>QT,greatestIndex:()=>KT,group:()=>Pf,groupSort:()=>ve,groups:()=>kp,hcl:()=>wd,hierarchy:()=>lm,histogram:()=>lt,hsl:()=>Xa,html:()=>Ld,image:()=>bE,index:()=>_c,indexes:()=>v_,interpolate:()=>tn,interpolateArray:()=>u2,interpolateBasis:()=>Tc,interpolateBasisClosed:()=>$n,interpolateBlues:()=>jM,interpolateBrBG:()=>tc,interpolateBuGn:()=>PA,interpolateBuPu:()=>PM,interpolateCividis:()=>zM,interpolateCool:()=>WM,interpolateCubehelix:()=>Lb,interpolateCubehelixDefault:()=>lp,interpolateCubehelixLong:()=>$h,interpolateDate:()=>Ac,interpolateDiscrete:()=>ye,interpolateGnBu:()=>aC,interpolateGreens:()=>UM,interpolateGreys:()=>$M,interpolateHcl:()=>Ob,interpolateHclLong:()=>Fb,interpolateHsl:()=>yA,interpolateHslLong:()=>Pb,interpolateHue:()=>Dx,interpolateInferno:()=>CC,interpolateLab:()=>bm,interpolateMagma:()=>QM,interpolateNumber:()=>br,interpolateNumberArray:()=>Jf,interpolateObject:()=>Jp,interpolateOrRd:()=>py,interpolateOranges:()=>ni,interpolatePRGn:()=>Xw,interpolatePiYG:()=>fy,interpolatePlasma:()=>wy,interpolatePuBu:()=>FM,interpolatePuBuGn:()=>OM,interpolatePuOr:()=>eC,interpolatePuRd:()=>LM,interpolatePurples:()=>Jl,interpolateRainbow:()=>_y,interpolateRdBu:()=>tC,interpolateRdGy:()=>RM,interpolateRdPu:()=>VM,interpolateRdYlBu:()=>iC,interpolateRdYlGn:()=>NA,interpolateReds:()=>HM,interpolateRgb:()=>Ic,interpolateRgbBasis:()=>Xf,interpolateRgbBasisClosed:()=>Zp,interpolateRound:()=>jh,interpolateSinebow:()=>by,interpolateSpectral:()=>NM,interpolateString:()=>eg,interpolateTransformCss:()=>sg,interpolateTransformSvg:()=>ag,interpolateTurbo:()=>GM,interpolateViridis:()=>YM,interpolateWarm:()=>qM,interpolateYlGn:()=>pC,interpolateYlGnBu:()=>BM,interpolateYlOrBr:()=>gC,interpolateYlOrRd:()=>mC,interpolateZoom:()=>Pl,interrupt:()=>Ho,intersection:()=>rI,interval:()=>WC,isoFormat:()=>qC,isoParse:()=>Yy,json:()=>Qe,lab:()=>du,lch:()=>F2,least:()=>Yn,leastIndex:()=>b_,line:()=>My,lineRadial:()=>Ay,linkHorizontal:()=>kC,linkRadial:()=>iS,linkVertical:()=>rS,local:()=>dp,map:()=>jD,matcher:()=>wc,max:()=>xe,maxIndex:()=>gn,mean:()=>Ai,median:()=>Re,merge:()=>Ff,min:()=>Fe,minIndex:()=>ui,namespace:()=>qe,namespaces:()=>Vo,nice:()=>be,now:()=>kc,pack:()=>_x,packEnclose:()=>dm,packSiblings:()=>gx,pairs:()=>qt,partition:()=>vx,path:()=>Go,permute:()=>K,pie:()=>tS,piecewise:()=>Vb,pointRadial:()=>of,pointer:()=>pt,pointers:()=>ZM,polygonArea:()=>kl,polygonCentroid:()=>Sx,polygonContains:()=>jb,polygonHull:()=>Bb,polygonLength:()=>Ub,precisionFixed:()=>ov,precisionPrefix:()=>_0,precisionRound:()=>AE,quadtree:()=>c0,quantile:()=>de,quantileSorted:()=>Pe,quantize:()=>Mx,quickselect:()=>Ne,radialArea:()=>Ry,radialLine:()=>Ay,randomBates:()=>Hb,randomBernoulli:()=>Rx,randomBeta:()=>Wb,randomBinomial:()=>Nx,randomCauchy:()=>vA,randomExponential:()=>zb,randomGamma:()=>Em,randomGeometric:()=>Dm,randomInt:()=>Ll,randomIrwinHall:()=>$b,randomLcg:()=>Qb,randomLogNormal:()=>Ax,randomLogistic:()=>bA,randomNormal:()=>Cm,randomPareto:()=>qb,randomPoisson:()=>Gb,randomUniform:()=>Fl,randomWeibull:()=>_A,range:()=>Se,reduce:()=>tI,reverse:()=>UD,rgb:()=>it,ribbon:()=>P2,ribbonArrow:()=>k2,rollup:()=>kf,rollups:()=>In,scaleBand:()=>Sm,scaleDiverging:()=>Yw,scaleDivergingLog:()=>Qw,scaleDivergingPow:()=>cy,scaleDivergingSqrt:()=>EM,scaleDivergingSymlog:()=>uy,scaleIdentity:()=>ew,scaleImplicit:()=>xm,scaleLinear:()=>Tm,scaleLog:()=>ow,scaleOrdinal:()=>Mm,scalePoint:()=>Zb,scalePow:()=>Nm,scaleQuantile:()=>Kh,scaleQuantize:()=>lw,scaleRadial:()=>km,scaleSequential:()=>ay,scaleSequentialLog:()=>ec,scaleSequentialPow:()=>ap,scaleSequentialQuantile:()=>Gw,scaleSequentialSqrt:()=>DM,scaleSequentialSymlog:()=>CM,scaleSqrt:()=>$x,scaleSymlog:()=>Am,scaleThreshold:()=>fw,scaleTime:()=>wM,scaleUtc:()=>Xl,scan:()=>Lf,schemeAccent:()=>RA,schemeBlues:()=>yC,schemeBrBG:()=>Zw,schemeBuGn:()=>Ea,schemeBuPu:()=>hy,schemeCategory10:()=>AA,schemeDark2:()=>ly,schemeGnBu:()=>kM,schemeGreens:()=>_C,schemeGreys:()=>vC,schemeOrRd:()=>uC,schemeOranges:()=>cp,schemePRGn:()=>kn,schemePaired:()=>xM,schemePastel1:()=>MM,schemePastel2:()=>SM,schemePiYG:()=>ti,schemePuBu:()=>lC,schemePuBuGn:()=>cC,schemePuOr:()=>Jw,schemePuRd:()=>fC,schemePurples:()=>bC,schemeRdBu:()=>dy,schemeRdGy:()=>nC,schemeRdPu:()=>dC,schemeRdYlBu:()=>rC,schemeRdYlGn:()=>oC,schemeReds:()=>rc,schemeSet1:()=>TM,schemeSet2:()=>IM,schemeSet3:()=>AM,schemeSpectral:()=>sC,schemeTableau10:()=>Kw,schemeYlGn:()=>nc,schemeYlGnBu:()=>hC,schemeYlOrBr:()=>gy,schemeYlOrRd:()=>my,select:()=>ft,selectAll:()=>DC,selection:()=>Mc,selector:()=>Bp,selectorAll:()=>Fo,shuffle:()=>pr,shuffler:()=>LD,some:()=>JT,sort:()=>G,stack:()=>MS,stackOffsetDiverging:()=>TS,stackOffsetExpand:()=>SS,stackOffsetNone:()=>lf,stackOffsetSilhouette:()=>zy,stackOffsetWiggle:()=>IS,stackOrderAppearance:()=>cn,stackOrderAscending:()=>_p,stackOrderDescending:()=>RS,stackOrderInsideOut:()=>qy,stackOrderNone:()=>ff,stackOrderReverse:()=>zC,stratify:()=>Sb,style:()=>ao,subset:()=>iI,sum:()=>VD,superset:()=>$D,svg:()=>gi,symbol:()=>dS,symbolCircle:()=>Py,symbolCross:()=>ky,symbolDiamond:()=>sS,symbolSquare:()=>cS,symbolStar:()=>uS,symbolTriangle:()=>lS,symbolWye:()=>fS,symbols:()=>UA,text:()=>Fd,thresholdFreedmanDiaconis:()=>we,thresholdScott:()=>Bt,thresholdSturges:()=>et,tickFormat:()=>Jb,tickIncrement:()=>Ve,tickStep:()=>Te,ticks:()=>ae,timeDay:()=>$l,timeDays:()=>wA,timeFormat:()=>Zl,timeFormatDefaultLocale:()=>Ww,timeFormatLocale:()=>Rw,timeFriday:()=>jm,timeFridays:()=>_w,timeHour:()=>gw,timeHours:()=>Jh,timeInterval:()=>Ot,timeMillisecond:()=>Bl,timeMilliseconds:()=>jl,timeMinute:()=>Vm,timeMinutes:()=>kr,timeMonday:()=>Hl,timeMondays:()=>qx,timeMonth:()=>Um,timeMonths:()=>ww,timeParse:()=>qw,timeSaturday:()=>mw,timeSaturdays:()=>vw,timeSecond:()=>Pr,timeSeconds:()=>pw,timeSunday:()=>Gu,timeSundays:()=>zx,timeThursday:()=>ns,timeThursdays:()=>yw,timeTickInterval:()=>Wm,timeTicks:()=>qm,timeTuesday:()=>ep,timeTuesdays:()=>Wx,timeWednesday:()=>zl,timeWednesdays:()=>Gx,timeWeek:()=>Gu,timeWeeks:()=>zx,timeYear:()=>rs,timeYears:()=>Cw,timeout:()=>Y_,timer:()=>od,timerFlush:()=>G_,transition:()=>w2,transpose:()=>BD,tree:()=>wx,treemap:()=>gA,treemapBinary:()=>Rb,treemapDice:()=>Al,treemapResquarify:()=>mA,treemapSlice:()=>Bh,treemapSliceDice:()=>Nb,treemapSquarify:()=>zn,tsv:()=>vE,tsvFormat:()=>Xg,tsvFormatBody:()=>tE,tsvFormatRow:()=>nE,tsvFormatRows:()=>Nt,tsvFormatValue:()=>rE,tsvParse:()=>Jc,tsvParseRows:()=>R1,union:()=>rt,utcDay:()=>va,utcDays:()=>Yx,utcFormat:()=>iy,utcFriday:()=>Qx,utcFridays:()=>Qi,utcHour:()=>$m,utcHours:()=>CA,utcMillisecond:()=>Bl,utcMilliseconds:()=>jl,utcMinute:()=>Yu,utcMinutes:()=>ql,utcMonday:()=>Wl,utcMondays:()=>Kx,utcMonth:()=>Aw,utcMonths:()=>Jx,utcParse:()=>oy,utcSaturday:()=>Sw,utcSaturdays:()=>Tw,utcSecond:()=>Pr,utcSeconds:()=>pw,utcSunday:()=>Qu,utcSundays:()=>Yi,utcThursday:()=>wa,utcThursdays:()=>tp,utcTickInterval:()=>np,utcTicks:()=>zm,utcTuesday:()=>xw,utcTuesdays:()=>Zx,utcWednesday:()=>Mw,utcWednesdays:()=>Xx,utcWeek:()=>Qu,utcWeeks:()=>Yi,utcYear:()=>is,utcYears:()=>eM,variance:()=>If,version:()=>ps,window:()=>_r,xml:()=>Q1,zip:()=>ZT,zoom:()=>ZC,zoomIdentity:()=>fr,zoomTransform:()=>YC});var ps="6.7.0";function Vt(r,o){return r<o?-1:r>o?1:r>=o?0:NaN}function hr(r){let o=r,a=r;function u(h,g,m,_){for(null==m&&(m=0),null==_&&(_=h.length);m<_;){const v=m+_>>>1;a(h[v],g)<0?m=v+1:_=v}return m}return 1===r.length&&(o=(h,g)=>r(h)-g,a=function(r){return(o,a)=>Vt(r(o),a)}(r)),{left:u,center:function(h,g,m,_){null==m&&(m=0),null==_&&(_=h.length);const v=u(h,g,m,_-1);return v>m&&o(h[v-1],g)>-o(h[v],g)?v-1:v},right:function(h,g,m,_){for(null==m&&(m=0),null==_&&(_=h.length);m<_;){const v=m+_>>>1;a(h[v],g)>0?_=v:m=v+1}return m}}}function Va(r){return null===r?NaN:+r}const Pt=hr(Vt),Ba=Pt.right,__=Pt.left,no=hr(Va).center,Ii=Ba;function ms(r,o){let a=0;if(void 0===o)for(let u of r)null!=u&&(u=+u)>=u&&++a;else{let u=-1;for(let l of r)null!=(l=o(l,++u,r))&&(l=+l)>=l&&++a}return a}function si(r){return 0|r.length}function ja(r){return!(r>0)}function Ua(r){return"object"!=typeof r||"length"in r?r:Array.from(r)}function Sf(...r){const o="function"==typeof r[r.length-1]&&function(r){return o=>r(...o)}(r.pop()),a=(r=r.map(Ua)).map(si),u=r.length-1,l=new Array(u+1).fill(0),d=[];if(u<0||a.some(ja))return d;for(;;){d.push(l.map((g,m)=>r[m][g]));let h=u;for(;++l[h]===a[h];){if(0===h)return o?d.map(o):d;l[h--]=0}}}function Tf(r,o){var a=0,u=0;return Float64Array.from(r,void 0===o?l=>a+=+l||0:l=>a+=+o(l,u++,r)||0)}function gc(r,o){return o<r?-1:o>r?1:o>=r?0:NaN}function If(r,o){let u,a=0,l=0,d=0;if(void 0===o)for(let h of r)null!=h&&(h=+h)>=h&&(u=h-l,l+=u/++a,d+=u*(h-l));else{let h=-1;for(let g of r)null!=(g=o(g,++h,r))&&(g=+g)>=g&&(u=g-l,l+=u/++a,d+=u*(g-l))}if(a>1)return d/(a-1)}function mc(r,o){const a=If(r,o);return a&&Math.sqrt(a)}function ai(r,o){let a,u;if(void 0===o)for(const l of r)null!=l&&(void 0===a?l>=l&&(a=u=l):(a>l&&(a=l),u<l&&(u=l)));else{let l=-1;for(let d of r)null!=(d=o(d,++l,r))&&(void 0===a?d>=d&&(a=u=d):(a>d&&(a=d),u<d&&(u=d)))}return[a,u]}class Xt{constructor(){this._partials=new Float64Array(32),this._n=0}add(o){const a=this._partials;let u=0;for(let l=0;l<this._n&&l<32;l++){const d=a[l],h=o+d,g=Math.abs(o)<Math.abs(d)?o-(h-d):d-(h-o);g&&(a[u++]=g),o=h}return a[u]=o,this._n=u+1,this}valueOf(){const o=this._partials;let u,l,d,a=this._n,h=0;if(a>0){for(h=o[--a];a>0&&(u=h,l=o[--a],h=u+l,d=l-(h-u),!d););a>0&&(d<0&&o[a-1]<0||d>0&&o[a-1]>0)&&(l=2*d,u=h+l,l==u-h&&(h=u))}return h}}function Af(r,o){const a=new Xt;if(void 0===o)for(let u of r)(u=+u)&&a.add(u);else{let u=-1;for(let l of r)(l=+o(l,++u,r))&&a.add(l)}return+a}function Rf(r,o){const a=new Xt;let u=-1;return Float64Array.from(r,void 0===o?l=>a.add(+l||0):l=>a.add(+o(l,++u,r)||0))}class yc extends Map{constructor(o,a=_s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),null!=o)for(const[u,l]of o)this.set(u,l)}get(o){return super.get(ys(this,o))}has(o){return super.has(ys(this,o))}set(o,a){return super.set($a(this,o),a)}delete(o){return super.delete(Ha(this,o))}}class Nf extends Set{constructor(o,a=_s){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),null!=o)for(const u of o)this.add(u)}has(o){return super.has(ys(this,o))}add(o){return super.add($a(this,o))}delete(o){return super.delete(Ha(this,o))}}function ys({_intern:r,_key:o},a){const u=o(a);return r.has(u)?r.get(u):a}function $a({_intern:r,_key:o},a){const u=o(a);return r.has(u)?r.get(u):(r.set(u,a),a)}function Ha({_intern:r,_key:o},a){const u=o(a);return r.has(u)&&(a=r.get(a),r.delete(u)),a}function _s(r){return null!==r&&"object"==typeof r?r.valueOf():r}function ro(r){return r}function Pf(r,...o){return W(r,ro,ro,o)}function kp(r,...o){return W(r,Array.from,ro,o)}function kf(r,o,...a){return W(r,ro,o,a)}function In(r,o,...a){return W(r,Array.from,o,a)}function _c(r,...o){return W(r,ro,O,o)}function v_(r,...o){return W(r,Array.from,O,o)}function O(r){if(1!==r.length)throw new Error("duplicate key");return r[0]}function W(r,o,a,u){return function l(d,h){if(h>=u.length)return a(d);const g=new yc,m=u[h++];let _=-1;for(const v of d){const C=m(v,++_,d),b=g.get(C);b?b.push(v):g.set(C,[v])}for(const[v,C]of g)g.set(v,l(C,h));return o(g)}(r,0)}function K(r,o){return Array.from(o,a=>r[a])}function G(r,...o){if("function"!=typeof r[Symbol.iterator])throw new TypeError("values is not iterable");r=Array.from(r);let[a=Vt]=o;if(1===a.length||o.length>1){const u=Uint32Array.from(r,(l,d)=>d);return o.length>1?(o=o.map(l=>r.map(l)),u.sort((l,d)=>{for(const h of o){const g=Vt(h[l],h[d]);if(g)return g}})):(a=r.map(a),u.sort((l,d)=>Vt(a[l],a[d]))),K(r,u)}return r.sort(a)}function ve(r,o,a){return(1===o.length?G(kf(r,o,a),([u,l],[d,h])=>Vt(l,h)||Vt(u,d)):G(Pf(r,a),([u,l],[d,h])=>o(l,h)||Vt(u,d))).map(([u])=>u)}var ce=Array.prototype.slice;function se(r){return function(){return r}}var fe=Math.sqrt(50),Le=Math.sqrt(10),bt=Math.sqrt(2);function ae(r,o,a){var u,d,h,g,l=-1;if(a=+a,(r=+r)==(o=+o)&&a>0)return[r];if((u=o<r)&&(d=r,r=o,o=d),0===(g=Ve(r,o,a))||!isFinite(g))return[];if(g>0){let m=Math.round(r/g),_=Math.round(o/g);for(m*g<r&&++m,_*g>o&&--_,h=new Array(d=_-m+1);++l<d;)h[l]=(m+l)*g}else{g=-g;let m=Math.round(r*g),_=Math.round(o*g);for(m/g<r&&++m,_/g>o&&--_,h=new Array(d=_-m+1);++l<d;)h[l]=(m+l)/g}return u&&h.reverse(),h}function Ve(r,o,a){var u=(o-r)/Math.max(0,a),l=Math.floor(Math.log(u)/Math.LN10),d=u/Math.pow(10,l);return l>=0?(d>=fe?10:d>=Le?5:d>=bt?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(d>=fe?10:d>=Le?5:d>=bt?2:1)}function Te(r,o,a){var u=Math.abs(o-r)/Math.max(0,a),l=Math.pow(10,Math.floor(Math.log(u)/Math.LN10)),d=u/l;return d>=fe?l*=10:d>=Le?l*=5:d>=bt&&(l*=2),o<r?-l:l}function be(r,o,a){let u;for(;;){const l=Ve(r,o,a);if(l===u||0===l||!isFinite(l))return[r,o];l>0?(r=Math.floor(r/l)*l,o=Math.ceil(o/l)*l):l<0&&(r=Math.ceil(r*l)/l,o=Math.floor(o*l)/l),u=l}}function et(r){return Math.ceil(Math.log(ms(r))/Math.LN2)+1}function lt(){var r=ro,o=ai,a=et;function u(l){Array.isArray(l)||(l=Array.from(l));var d,g,h=l.length,m=new Array(h);for(d=0;d<h;++d)m[d]=r(l[d],d,l);var _=o(m),v=_[0],C=_[1],b=a(m,v,C);if(!Array.isArray(b)){const x=C,S=+b;if(o===ai&&([v,C]=be(v,C,S)),(b=ae(v,C,S))[b.length-1]>=C)if(x>=C&&o===ai){const P=Ve(v,C,S);isFinite(P)&&(P>0?C=(Math.floor(C/P)+1)*P:P<0&&(C=(Math.ceil(C*-P)+1)/-P))}else b.pop()}for(var D=b.length;b[0]<=v;)b.shift(),--D;for(;b[D-1]>C;)b.pop(),--D;var I,T=new Array(D+1);for(d=0;d<=D;++d)(I=T[d]=[]).x0=d>0?b[d-1]:v,I.x1=d<D?b[d]:C;for(d=0;d<h;++d)v<=(g=m[d])&&g<=C&&T[Ii(b,g,0,D)].push(l[d]);return T}return u.value=function(l){return arguments.length?(r="function"==typeof l?l:se(l),u):r},u.domain=function(l){return arguments.length?(o="function"==typeof l?l:se([l[0],l[1]]),u):o},u.thresholds=function(l){return arguments.length?(a="function"==typeof l?l:Array.isArray(l)?se(ce.call(l)):se(l),u):a},u}function xe(r,o){let a;if(void 0===o)for(const u of r)null!=u&&(a<u||void 0===a&&u>=u)&&(a=u);else{let u=-1;for(let l of r)null!=(l=o(l,++u,r))&&(a<l||void 0===a&&l>=l)&&(a=l)}return a}function Fe(r,o){let a;if(void 0===o)for(const u of r)null!=u&&(a>u||void 0===a&&u>=u)&&(a=u);else{let u=-1;for(let l of r)null!=(l=o(l,++u,r))&&(a>l||void 0===a&&l>=l)&&(a=l)}return a}function Ne(r,o,a=0,u=r.length-1,l=Vt){for(;u>a;){if(u-a>600){const m=u-a+1,_=o-a+1,v=Math.log(m),C=.5*Math.exp(2*v/3),b=.5*Math.sqrt(v*C*(m-C)/m)*(_-m/2<0?-1:1);Ne(r,o,Math.max(a,Math.floor(o-_*C/m+b)),Math.min(u,Math.floor(o+(m-_)*C/m+b)),l)}const d=r[o];let h=a,g=u;for(Ie(r,a,o),l(r[u],d)>0&&Ie(r,a,u);h<g;){for(Ie(r,h,g),++h,--g;l(r[h],d)<0;)++h;for(;l(r[g],d)>0;)--g}0===l(r[a],d)?Ie(r,a,g):(++g,Ie(r,g,u)),g<=o&&(a=g+1),o<=g&&(u=g-1)}return r}function Ie(r,o,a){const u=r[o];r[o]=r[a],r[a]=u}function de(r,o,a){if(r=Float64Array.from(function*(r,o){if(void 0===o)for(let a of r)null!=a&&(a=+a)>=a&&(yield a);else{let a=-1;for(let u of r)null!=(u=o(u,++a,r))&&(u=+u)>=u&&(yield u)}}(r,a)),u=r.length){if((o=+o)<=0||u<2)return Fe(r);if(o>=1)return xe(r);var u,l=(u-1)*o,d=Math.floor(l),h=xe(Ne(r,d).subarray(0,d+1));return h+(Fe(r.subarray(d+1))-h)*(l-d)}}function Pe(r,o,a=Va){if(u=r.length){if((o=+o)<=0||u<2)return+a(r[0],0,r);if(o>=1)return+a(r[u-1],u-1,r);var u,l=(u-1)*o,d=Math.floor(l),h=+a(r[d],d,r);return h+(+a(r[d+1],d+1,r)-h)*(l-d)}}function we(r,o,a){return Math.ceil((a-o)/(2*(de(r,.75)-de(r,.25))*Math.pow(ms(r),-1/3)))}function Bt(r,o,a){return Math.ceil((a-o)/(3.5*mc(r)*Math.pow(ms(r),-1/3)))}function gn(r,o){let a,u=-1,l=-1;if(void 0===o)for(const d of r)++l,null!=d&&(a<d||void 0===a&&d>=d)&&(a=d,u=l);else for(let d of r)null!=(d=o(d,++l,r))&&(a<d||void 0===a&&d>=d)&&(a=d,u=l);return u}function Ai(r,o){let a=0,u=0;if(void 0===o)for(let l of r)null!=l&&(l=+l)>=l&&(++a,u+=l);else{let l=-1;for(let d of r)null!=(d=o(d,++l,r))&&(d=+d)>=d&&(++a,u+=d)}if(a)return u/a}function Re(r,o){return de(r,.5,o)}function Ff(r){return Array.from(function*(r){for(const o of r)yield*o}(r))}function ui(r,o){let a,u=-1,l=-1;if(void 0===o)for(const d of r)++l,null!=d&&(a>d||void 0===a&&d>=d)&&(a=d,u=l);else for(let d of r)null!=(d=o(d,++l,r))&&(a>d||void 0===a&&d>=d)&&(a=d,u=l);return u}function qt(r,o=jt){const a=[];let u,l=!1;for(const d of r)l&&a.push(o(u,d)),u=d,l=!0;return a}function jt(r,o){return[r,o]}function Se(r,o,a){r=+r,o=+o,a=(l=arguments.length)<2?(o=r,r=0,1):l<3?1:+a;for(var u=-1,l=0|Math.max(0,Math.ceil((o-r)/a)),d=new Array(l);++u<l;)d[u]=r+u*a;return d}function Yn(r,o=Vt){let a,u=!1;if(1===o.length){let l;for(const d of r){const h=o(d);(u?Vt(h,l)<0:0===Vt(h,h))&&(a=d,l=h,u=!0)}}else for(const l of r)(u?o(l,a)<0:0===o(l,l))&&(a=l,u=!0);return a}function b_(r,o=Vt){if(1===o.length)return ui(r,o);let a,u=-1,l=-1;for(const d of r)++l,(u<0?0===o(d,d):o(d,a)<0)&&(a=d,u=l);return u}function QT(r,o=Vt){let a,u=!1;if(1===o.length){let l;for(const d of r){const h=o(d);(u?Vt(h,l)>0:0===Vt(h,h))&&(a=d,l=h,u=!0)}}else for(const l of r)(u?o(l,a)>0:0===o(l,l))&&(a=l,u=!0);return a}function KT(r,o=Vt){if(1===o.length)return gn(r,o);let a,u=-1,l=-1;for(const d of r)++l,(u<0?0===o(d,d):o(d,a)>0)&&(a=d,u=l);return u}function Lf(r,o){const a=b_(r,o);return a<0?void 0:a}const pr=LD(Math.random);function LD(r){return function(a,u=0,l=a.length){let d=l-(u=+u);for(;d;){const h=r()*d--|0,g=a[d+u];a[d+u]=a[h+u],a[h+u]=g}return a}}function VD(r,o){let a=0;if(void 0===o)for(let u of r)(u=+u)&&(a+=u);else{let u=-1;for(let l of r)(l=+o(l,++u,r))&&(a+=l)}return a}function BD(r){if(!(d=r.length))return[];for(var o=-1,a=Fe(r,io),u=new Array(a);++o<a;)for(var d,l=-1,h=u[o]=new Array(d);++l<d;)h[l]=r[l][o];return u}function io(r){return r.length}function ZT(){return BD(arguments)}function XT(r,o){if("function"!=typeof o)throw new TypeError("test is not a function");let a=-1;for(const u of r)if(!o(u,++a,r))return!1;return!0}function JT(r,o){if("function"!=typeof o)throw new TypeError("test is not a function");let a=-1;for(const u of r)if(o(u,++a,r))return!0;return!1}function eI(r,o){if("function"!=typeof o)throw new TypeError("test is not a function");const a=[];let u=-1;for(const l of r)o(l,++u,r)&&a.push(l);return a}function jD(r,o){if("function"!=typeof r[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof o)throw new TypeError("mapper is not a function");return Array.from(r,(a,u)=>o(a,u,r))}function tI(r,o,a){if("function"!=typeof o)throw new TypeError("reducer is not a function");const u=r[Symbol.iterator]();let l,d,h=-1;if(arguments.length<3){if(({done:l,value:a}=u.next()),l)return;++h}for(;({done:l,value:d}=u.next()),!l;)a=o(a,d,++h,r);return a}function UD(r){if("function"!=typeof r[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(r).reverse()}function nI(r,...o){r=new Set(r);for(const a of o)for(const u of a)r.delete(u);return r}function gr(r,o){const a=o[Symbol.iterator](),u=new Set;for(const l of r){if(u.has(l))return!1;let d,h;for(;({value:d,done:h}=a.next())&&!h;){if(Object.is(l,d))return!1;u.add(d)}}return!0}function Rt(r){return r instanceof Set?r:new Set(r)}function rI(r,...o){r=new Set(r),o=o.map(Rt);e:for(const a of r)for(const u of o)if(!u.has(a)){r.delete(a);continue e}return r}function $D(r,o){const a=r[Symbol.iterator](),u=new Set;for(const l of o){if(u.has(l))continue;let d,h;for(;({value:d,done:h}=a.next());){if(h)return!1;if(u.add(d),Object.is(l,d))break}}return!0}function iI(r,o){return $D(o,r)}function rt(...r){const o=new Set;for(const a of r)for(const u of a)o.add(u);return o}var w_=Array.prototype.slice;function oo(r){return r}function Vf(r){return"translate("+r+",0)"}function Lp(r){return"translate(0,"+r+")"}function C_(r){return o=>+r(o)}function HD(r,o){return o=Math.max(0,r.bandwidth()-2*o)/2,r.round()&&(o=Math.round(o)),a=>+r(a)+o}function Ue(){return!this.__axis}function za(r,o){var a=[],u=null,l=null,d=6,h=6,g=3,m="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,_=1===r||4===r?-1:1,v=4===r||2===r?"x":"y",C=1===r||3===r?Vf:Lp;function b(D){var T=null==u?o.ticks?o.ticks.apply(o,a):o.domain():u,I=null==l?o.tickFormat?o.tickFormat.apply(o,a):oo:l,x=Math.max(d,0)+g,S=o.range(),P=+S[0]+m,N=+S[S.length-1]+m,A=(o.bandwidth?HD:C_)(o.copy(),m),F=D.selection?D.selection():D,V=F.selectAll(".domain").data([null]),Q=F.selectAll(".tick").data(T,o).order(),Z=Q.exit(),te=Q.enter().append("g").attr("class","tick"),H=Q.select("line"),j=Q.select("text");V=V.merge(V.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Q=Q.merge(te),H=H.merge(te.append("line").attr("stroke","currentColor").attr(v+"2",_*d)),j=j.merge(te.append("text").attr("fill","currentColor").attr(v,_*x).attr("dy",1===r?"0em":3===r?"0.71em":"0.32em")),D!==F&&(V=V.transition(D),Q=Q.transition(D),H=H.transition(D),j=j.transition(D),Z=Z.transition(D).attr("opacity",1e-6).attr("transform",function(J){return isFinite(J=A(J))?C(J+m):this.getAttribute("transform")}),te.attr("opacity",1e-6).attr("transform",function(J){var Y=this.parentNode.__axis;return C((Y&&isFinite(Y=Y(J))?Y:A(J))+m)})),Z.remove(),V.attr("d",4===r||2===r?h?"M"+_*h+","+P+"H"+m+"V"+N+"H"+_*h:"M"+m+","+P+"V"+N:h?"M"+P+","+_*h+"V"+m+"H"+N+"V"+_*h:"M"+P+","+m+"H"+N),Q.attr("opacity",1).attr("transform",function(J){return C(A(J)+m)}),H.attr(v+"2",_*d),j.attr(v,_*x).text(I),F.filter(Ue).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===r?"start":4===r?"end":"middle"),F.each(function(){this.__axis=A})}return b.scale=function(D){return arguments.length?(o=D,b):o},b.ticks=function(){return a=w_.call(arguments),b},b.tickArguments=function(D){return arguments.length?(a=null==D?[]:w_.call(D),b):a.slice()},b.tickValues=function(D){return arguments.length?(u=null==D?null:w_.call(D),b):u&&u.slice()},b.tickFormat=function(D){return arguments.length?(l=D,b):l},b.tickSize=function(D){return arguments.length?(d=h=+D,b):d},b.tickSizeInner=function(D){return arguments.length?(d=+D,b):d},b.tickSizeOuter=function(D){return arguments.length?(h=+D,b):h},b.tickPadding=function(D){return arguments.length?(g=+D,b):g},b.offset=function(D){return arguments.length?(m=+D,b):m},b}function zD(r){return za(1,r)}function ko(r){return za(2,r)}function D_(r){return za(3,r)}function oI(r){return za(4,r)}var Oo={value:()=>{}};function mr(){for(var u,r=0,o=arguments.length,a={};r<o;++r){if(!(u=arguments[r]+"")||u in a||/[\s.]/.test(u))throw new Error("illegal type: "+u);a[u]=[]}return new Vp(a)}function Vp(r){this._=r}function sI(r,o){return r.trim().split(/^|\s+/).map(function(a){var u="",l=a.indexOf(".");if(l>=0&&(u=a.slice(l+1),a=a.slice(0,l)),a&&!o.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:u}})}function mn(r,o){for(var l,a=0,u=r.length;a<u;++a)if((l=r[a]).name===o)return l.value}function E_(r,o,a){for(var u=0,l=r.length;u<l;++u)if(r[u].name===o){r[u]=Oo,r=r.slice(0,u).concat(r.slice(u+1));break}return null!=a&&r.push({name:o,value:a}),r}Vp.prototype=mr.prototype={constructor:Vp,on:function(r,o){var l,a=this._,u=sI(r+"",a),d=-1,h=u.length;if(!(arguments.length<2)){if(null!=o&&"function"!=typeof o)throw new Error("invalid callback: "+o);for(;++d<h;)if(l=(r=u[d]).type)a[l]=E_(a[l],r.name,o);else if(null==o)for(l in a)a[l]=E_(a[l],r.name,null);return this}for(;++d<h;)if((l=(r=u[d]).type)&&(l=mn(a[l],r.name)))return l},copy:function(){var r={},o=this._;for(var a in o)r[a]=o[a].slice();return new Vp(r)},call:function(r,o){if((l=arguments.length-2)>0)for(var l,d,a=new Array(l),u=0;u<l;++u)a[u]=arguments[u+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(u=0,l=(d=this._[r]).length;u<l;++u)d[u].value.apply(o,a)},apply:function(r,o,a){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var u=this._[r],l=0,d=u.length;l<d;++l)u[l].value.apply(o,a)}};const qa=mr;function qD(){}function Bp(r){return null==r?qD:function(){return this.querySelector(r)}}function x_(r){return"object"==typeof r&&"length"in r?r:Array.from(r)}function aI(){return[]}function Fo(r){return null==r?aI:function(){return this.querySelectorAll(r)}}function wc(r){return function(){return this.matches(r)}}function jf(r){return function(o){return o.matches(r)}}var M_=Array.prototype.find;function so(){return this.firstElementChild}var GD=Array.prototype.filter;function Wa(){return this.children}function jp(r){return new Array(r.length)}function Uf(r,o){this.ownerDocument=r.ownerDocument,this.namespaceURI=r.namespaceURI,this._next=null,this._parent=r,this.__data__=o}function I_(r){return function(){return r}}function Bn(r,o,a,u,l,d){for(var g,h=0,m=o.length,_=d.length;h<_;++h)(g=o[h])?(g.__data__=d[h],u[h]=g):a[h]=new Uf(r,d[h]);for(;h<m;++h)(g=o[h])&&(l[h]=g)}function sr(r,o,a,u,l,d,h){var g,m,D,_=new Map,v=o.length,C=d.length,b=new Array(v);for(g=0;g<v;++g)(m=o[g])&&(b[g]=D=h.call(m,m.__data__,g,o)+"",_.has(D)?l[g]=m:_.set(D,m));for(g=0;g<C;++g)D=h.call(r,d[g],g,d)+"",(m=_.get(D))?(u[g]=m,m.__data__=d[g],_.delete(D)):a[g]=new Uf(r,d[g]);for(g=0;g<v;++g)(m=o[g])&&_.get(b[g])===m&&(l[g]=m)}function jn(r){return r.__data__}function ut(r,o){return r<o?-1:r>o?1:r>=o?0:NaN}Uf.prototype={constructor:Uf,appendChild:function(r){return this._parent.insertBefore(r,this._next)},insertBefore:function(r,o){return this._parent.insertBefore(r,o)},querySelector:function(r){return this._parent.querySelector(r)},querySelectorAll:function(r){return this._parent.querySelectorAll(r)}};var Ds="http://www.w3.org/1999/xhtml";const Vo={svg:"http://www.w3.org/2000/svg",xhtml:Ds,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function qe(r){var o=r+="",a=o.indexOf(":");return a>=0&&"xmlns"!==(o=r.slice(0,a))&&(r=r.slice(a+1)),Vo.hasOwnProperty(o)?{space:Vo[o],local:r}:r}function $f(r){return function(){this.removeAttribute(r)}}function Ga(r){return function(){this.removeAttributeNS(r.space,r.local)}}function Up(r,o){return function(){this.setAttribute(r,o)}}function Ya(r,o){return function(){this.setAttributeNS(r.space,r.local,o)}}function Qn(r,o){return function(){var a=o.apply(this,arguments);null==a?this.removeAttribute(r):this.setAttribute(r,a)}}function Dc(r,o){return function(){var a=o.apply(this,arguments);null==a?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,a)}}function _r(r){return r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView}function kt(r){return function(){this.style.removeProperty(r)}}function KD(r,o,a){return function(){this.style.setProperty(r,o,a)}}function ZD(r,o,a){return function(){var u=o.apply(this,arguments);null==u?this.style.removeProperty(r):this.style.setProperty(r,u,a)}}function ao(r,o){return r.style.getPropertyValue(o)||_r(r).getComputedStyle(r,null).getPropertyValue(o)}function Ec(r){return function(){delete this[r]}}function zf(r,o){return function(){this[r]=o}}function Es(r,o){return function(){var a=o.apply(this,arguments);null==a?delete this[r]:this[r]=a}}function A_(r){return r.trim().split(/^|\s+/)}function $r(r){return r.classList||new Hr(r)}function Hr(r){this._node=r,this._names=A_(r.getAttribute("class")||"")}function qf(r,o){for(var a=$r(r),u=-1,l=o.length;++u<l;)a.add(o[u])}function xc(r,o){for(var a=$r(r),u=-1,l=o.length;++u<l;)a.remove(o[u])}function Wf(r){return function(){qf(this,r)}}function ci(r){return function(){xc(this,r)}}function XD(r,o){return function(){(o.apply(this,arguments)?qf:xc)(this,r)}}function JD(){this.textContent=""}function e2(r){return function(){this.textContent=r}}function cI(r){return function(){var o=r.apply(this,arguments);this.textContent=null==o?"":o}}function fI(){this.innerHTML=""}function dI(r){return function(){this.innerHTML=r}}function hI(r){return function(){var o=r.apply(this,arguments);this.innerHTML=null==o?"":o}}function gI(){this.nextSibling&&this.parentNode.appendChild(this)}function yI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function vI(r){return function(){var o=this.ownerDocument,a=this.namespaceURI;return a===Ds&&o.documentElement.namespaceURI===Ds?o.createElement(r):o.createElementNS(a,r)}}function bI(r){return function(){return this.ownerDocument.createElementNS(r.space,r.local)}}function $p(r){var o=qe(r);return(o.local?bI:vI)(o)}function R_(){return null}function CI(){var r=this.parentNode;r&&r.removeChild(this)}function EI(){var r=this.cloneNode(!1),o=this.parentNode;return o?o.insertBefore(r,this.nextSibling):r}function xs(){var r=this.cloneNode(!0),o=this.parentNode;return o?o.insertBefore(r,this.nextSibling):r}function t2(r){return r.trim().split(/^|\s+/).map(function(o){var a="",u=o.indexOf(".");return u>=0&&(a=o.slice(u+1),o=o.slice(0,u)),{type:o,name:a}})}function n2(r){return function(){var o=this.__on;if(o){for(var d,a=0,u=-1,l=o.length;a<l;++a)d=o[a],r.type&&d.type!==r.type||d.name!==r.name?o[++u]=d:this.removeEventListener(d.type,d.listener,d.options);++u?o.length=u:delete this.__on}}}function k_(r,o,a){return function(){var l,u=this.__on,d=function(r){return function(o){r.call(this,o,this.__data__)}}(o);if(u)for(var h=0,g=u.length;h<g;++h)if((l=u[h]).type===r.type&&l.name===r.name)return this.removeEventListener(l.type,l.listener,l.options),this.addEventListener(l.type,l.listener=d,l.options=a),void(l.value=o);this.addEventListener(r.type,d,a),l={type:r.type,name:r.name,value:o,listener:d,options:a},u?u.push(l):this.__on=[l]}}function F_(r,o,a){var u=_r(r),l=u.CustomEvent;"function"==typeof l?l=new l(o,a):(l=u.document.createEvent("Event"),a?(l.initEvent(o,a.bubbles,a.cancelable),l.detail=a.detail):l.initEvent(o,!1,!1)),r.dispatchEvent(l)}function zp(r,o){return function(){return F_(this,r,o)}}function r2(r,o){return function(){return F_(this,r,o.apply(this,arguments))}}Hr.prototype={add:function(r){this._names.indexOf(r)<0&&(this._names.push(r),this._node.setAttribute("class",this._names.join(" ")))},remove:function(r){var o=this._names.indexOf(r);o>=0&&(this._names.splice(o,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(r){return this._names.indexOf(r)>=0}};var Gf=[null];function Cn(r,o){this._groups=r,this._parents=o}function V_(){return new Cn([[document.documentElement]],Gf)}Cn.prototype=V_.prototype={constructor:Cn,select:function(r){"function"!=typeof r&&(r=Bp(r));for(var o=this._groups,a=o.length,u=new Array(a),l=0;l<a;++l)for(var m,_,d=o[l],h=d.length,g=u[l]=new Array(h),v=0;v<h;++v)(m=d[v])&&(_=r.call(m,m.__data__,v,d))&&("__data__"in m&&(_.__data__=m.__data__),g[v]=_);return new Cn(u,this._parents)},selectAll:function(r){r="function"==typeof r?function(r){return function(){var o=r.apply(this,arguments);return null==o?[]:x_(o)}}(r):Fo(r);for(var o=this._groups,a=o.length,u=[],l=[],d=0;d<a;++d)for(var m,h=o[d],g=h.length,_=0;_<g;++_)(m=h[_])&&(u.push(r.call(m,m.__data__,_,h)),l.push(m));return new Cn(u,l)},selectChild:function(r){return this.select(null==r?so:function(r){return function(){return M_.call(this.children,r)}}("function"==typeof r?r:jf(r)))},selectChildren:function(r){return this.selectAll(null==r?Wa:function(r){return function(){return GD.call(this.children,r)}}("function"==typeof r?r:jf(r)))},filter:function(r){"function"!=typeof r&&(r=wc(r));for(var o=this._groups,a=o.length,u=new Array(a),l=0;l<a;++l)for(var m,d=o[l],h=d.length,g=u[l]=[],_=0;_<h;++_)(m=d[_])&&r.call(m,m.__data__,_,d)&&g.push(m);return new Cn(u,this._parents)},data:function(r,o){if(!arguments.length)return Array.from(this,jn);var a=o?sr:Bn,u=this._parents,l=this._groups;"function"!=typeof r&&(r=I_(r));for(var d=l.length,h=new Array(d),g=new Array(d),m=new Array(d),_=0;_<d;++_){var v=u[_],C=l[_],b=C.length,D=x_(r.call(v,v&&v.__data__,_,u)),T=D.length,I=g[_]=new Array(T),x=h[_]=new Array(T),S=m[_]=new Array(b);a(v,C,I,x,S,D,o);for(var A,F,P=0,N=0;P<T;++P)if(A=I[P]){for(P>=N&&(N=P+1);!(F=x[N])&&++N<T;);A._next=F||null}}return(h=new Cn(h,u))._enter=g,h._exit=m,h},enter:function(){return new Cn(this._enter||this._groups.map(jp),this._parents)},exit:function(){return new Cn(this._exit||this._groups.map(jp),this._parents)},join:function(r,o,a){var u=this.enter(),l=this,d=this.exit();return u="function"==typeof r?r(u):u.append(r+""),null!=o&&(l=o(l)),null==a?d.remove():a(d),u&&l?u.merge(l).order():l},merge:function(r){if(!(r instanceof Cn))throw new Error("invalid merge");for(var o=this._groups,a=r._groups,u=o.length,d=Math.min(u,a.length),h=new Array(u),g=0;g<d;++g)for(var b,m=o[g],_=a[g],v=m.length,C=h[g]=new Array(v),D=0;D<v;++D)(b=m[D]||_[D])&&(C[D]=b);for(;g<u;++g)h[g]=o[g];return new Cn(h,this._parents)},selection:function(){return this},order:function(){for(var r=this._groups,o=-1,a=r.length;++o<a;)for(var h,u=r[o],l=u.length-1,d=u[l];--l>=0;)(h=u[l])&&(d&&4^h.compareDocumentPosition(d)&&d.parentNode.insertBefore(h,d),d=h);return this},sort:function(r){function o(C,b){return C&&b?r(C.__data__,b.__data__):!C-!b}r||(r=ut);for(var a=this._groups,u=a.length,l=new Array(u),d=0;d<u;++d){for(var _,h=a[d],g=h.length,m=l[d]=new Array(g),v=0;v<g;++v)(_=h[v])&&(m[v]=_);m.sort(o)}return new Cn(l,this._parents).order()},call:function(){var r=arguments[0];return arguments[0]=this,r.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var r=this._groups,o=0,a=r.length;o<a;++o)for(var u=r[o],l=0,d=u.length;l<d;++l){var h=u[l];if(h)return h}return null},size:function(){let r=0;for(const o of this)++r;return r},empty:function(){return!this.node()},each:function(r){for(var o=this._groups,a=0,u=o.length;a<u;++a)for(var g,l=o[a],d=0,h=l.length;d<h;++d)(g=l[d])&&r.call(g,g.__data__,d,l);return this},attr:function(r,o){var a=qe(r);if(arguments.length<2){var u=this.node();return a.local?u.getAttributeNS(a.space,a.local):u.getAttribute(a)}return this.each((null==o?a.local?Ga:$f:"function"==typeof o?a.local?Dc:Qn:a.local?Ya:Up)(a,o))},style:function(r,o,a){return arguments.length>1?this.each((null==o?kt:"function"==typeof o?ZD:KD)(r,o,null==a?"":a)):ao(this.node(),r)},property:function(r,o){return arguments.length>1?this.each((null==o?Ec:"function"==typeof o?Es:zf)(r,o)):this.node()[r]},classed:function(r,o){var a=A_(r+"");if(arguments.length<2){for(var u=$r(this.node()),l=-1,d=a.length;++l<d;)if(!u.contains(a[l]))return!1;return!0}return this.each(("function"==typeof o?XD:o?Wf:ci)(a,o))},text:function(r){return arguments.length?this.each(null==r?JD:("function"==typeof r?cI:e2)(r)):this.node().textContent},html:function(r){return arguments.length?this.each(null==r?fI:("function"==typeof r?hI:dI)(r)):this.node().innerHTML},raise:function(){return this.each(gI)},lower:function(){return this.each(yI)},append:function(r){var o="function"==typeof r?r:$p(r);return this.select(function(){return this.appendChild(o.apply(this,arguments))})},insert:function(r,o){var a="function"==typeof r?r:$p(r),u=null==o?R_:"function"==typeof o?o:Bp(o);return this.select(function(){return this.insertBefore(a.apply(this,arguments),u.apply(this,arguments)||null)})},remove:function(){return this.each(CI)},clone:function(r){return this.select(r?xs:EI)},datum:function(r){return arguments.length?this.property("__data__",r):this.node().__data__},on:function(r,o,a){var l,h,u=t2(r+""),d=u.length;if(!(arguments.length<2)){for(g=o?k_:n2,l=0;l<d;++l)this.each(g(u[l],o,a));return this}var g=this.node().__on;if(g)for(var v,m=0,_=g.length;m<_;++m)for(l=0,v=g[m];l<d;++l)if((h=u[l]).type===v.type&&h.name===v.name)return v.value},dispatch:function(r,o){return this.each(("function"==typeof o?r2:zp)(r,o))},[Symbol.iterator]:function*(){for(var r=this._groups,o=0,a=r.length;o<a;++o)for(var h,u=r[o],l=0,d=u.length;l<d;++l)(h=u[l])&&(yield h)}};const Mc=V_;function ft(r){return"string"==typeof r?new Cn([[document.querySelector(r)]],[document.documentElement]):new Cn([[r]],Gf)}function B_(r){r.stopImmediatePropagation()}function Ss(r){r.preventDefault(),r.stopImmediatePropagation()}function Yf(r){var o=r.document.documentElement,a=ft(r).on("dragstart.drag",Ss,!0);"onselectstart"in o?a.on("selectstart.drag",Ss,!0):(o.__noselect=o.style.MozUserSelect,o.style.MozUserSelect="none")}function Wt(r,o){var a=r.document.documentElement,u=ft(r).on("dragstart.drag",null);o&&(u.on("click.drag",Ss,!0),setTimeout(function(){u.on("click.drag",null)},0)),"onselectstart"in a?u.on("selectstart.drag",null):(a.style.MozUserSelect=a.__noselect,delete a.__noselect)}function Ka(r,o,a){r.prototype=o.prototype=a,a.constructor=r}function Qf(r,o){var a=Object.create(r.prototype);for(var u in o)a[u]=o[u];return a}function li(){}var Za=1/.7,Bo="\\s*([+-]?\\d+)\\s*",Ri="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",en="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",j_=/^#([0-9a-f]{3,8})$/,Wp=new RegExp("^rgb\\("+[Bo,Bo,Bo]+"\\)$"),i2=new RegExp("^rgb\\("+[en,en,en]+"\\)$"),jo=new RegExp("^rgba\\("+[Bo,Bo,Bo,Ri]+"\\)$"),U_=new RegExp("^rgba\\("+[en,en,en,Ri]+"\\)$"),Gp=new RegExp("^hsl\\("+[Ri,en,en]+"\\)$"),We=new RegExp("^hsla\\("+[Ri,en,en,Ri]+"\\)$"),o2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $_(){return this.rgb().formatHex()}function H_(){return this.rgb().formatRgb()}function uo(r){var o,a;return r=(r+"").trim().toLowerCase(),(o=j_.exec(r))?(a=o[1].length,o=parseInt(o[1],16),6===a?z_(o):3===a?new An(o>>8&15|o>>4&240,o>>4&15|240&o,(15&o)<<4|15&o,1):8===a?Kf(o>>24&255,o>>16&255,o>>8&255,(255&o)/255):4===a?Kf(o>>12&15|o>>8&240,o>>8&15|o>>4&240,o>>4&15|240&o,((15&o)<<4|15&o)/255):null):(o=Wp.exec(r))?new An(o[1],o[2],o[3],1):(o=i2.exec(r))?new An(255*o[1]/100,255*o[2]/100,255*o[3]/100,1):(o=jo.exec(r))?Kf(o[1],o[2],o[3],o[4]):(o=U_.exec(r))?Kf(255*o[1]/100,255*o[2]/100,255*o[3]/100,o[4]):(o=Gp.exec(r))?fi(o[1],o[2]/100,o[3]/100,1):(o=We.exec(r))?fi(o[1],o[2]/100,o[3]/100,o[4]):o2.hasOwnProperty(r)?z_(o2[r]):"transparent"===r?new An(NaN,NaN,NaN,0):null}function z_(r){return new An(r>>16&255,r>>8&255,255&r,1)}function Kf(r,o,a,u){return u<=0&&(r=o=a=NaN),new An(r,o,a,u)}function ne(r){return r instanceof li||(r=uo(r)),r?new An((r=r.rgb()).r,r.g,r.b,r.opacity):new An}function it(r,o,a,u){return 1===arguments.length?ne(r):new An(r,o,a,null==u?1:u)}function An(r,o,a,u){this.r=+r,this.g=+o,this.b=+a,this.opacity=+u}function dn(){return"#"+Ts(this.r)+Ts(this.g)+Ts(this.b)}function Yp(){var r=this.opacity;return(1===(r=isNaN(r)?1:Math.max(0,Math.min(1,r)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===r?")":", "+r+")")}function Ts(r){return((r=Math.max(0,Math.min(255,Math.round(r)||0)))<16?"0":"")+r.toString(16)}function fi(r,o,a,u){return u<=0?r=o=a=NaN:a<=0||a>=1?r=o=NaN:o<=0&&(r=NaN),new co(r,o,a,u)}function Zf(r){if(r instanceof co)return new co(r.h,r.s,r.l,r.opacity);if(r instanceof li||(r=uo(r)),!r)return new co;if(r instanceof co)return r;var o=(r=r.rgb()).r/255,a=r.g/255,u=r.b/255,l=Math.min(o,a,u),d=Math.max(o,a,u),h=NaN,g=d-l,m=(d+l)/2;return g?(h=o===d?(a-u)/g+6*(a<u):a===d?(u-o)/g+2:(o-a)/g+4,g/=m<.5?d+l:2-d-l,h*=60):g=m>0&&m<1?0:h,new co(h,g,m,r.opacity)}function Xa(r,o,a,u){return 1===arguments.length?Zf(r):new co(r,o,a,null==u?1:u)}function co(r,o,a,u){this.h=+r,this.s=+o,this.l=+a,this.opacity=+u}function Qp(r,o,a){return 255*(r<60?o+(a-o)*r/60:r<180?a:r<240?o+(a-o)*(240-r)/60:o)}function Sc(r,o,a,u,l){var d=r*r,h=d*r;return((1-3*r+3*d-h)*o+(4-6*d+3*h)*a+(1+3*r+3*d-3*h)*u+h*l)/6}function Tc(r){var o=r.length-1;return function(a){var u=a<=0?a=0:a>=1?(a=1,o-1):Math.floor(a*o),l=r[u],d=r[u+1];return Sc((a-u/o)*o,u>0?r[u-1]:2*l-d,l,d,u<o-1?r[u+2]:2*d-l)}}function $n(r){var o=r.length;return function(a){var u=Math.floor(((a%=1)<0?++a:a)*o);return Sc((a-u/o)*o,r[(u+o-1)%o],r[u%o],r[(u+1)%o],r[(u+2)%o])}}Ka(li,uo,{copy:function(r){return Object.assign(new this.constructor,this,r)},displayable:function(){return this.rgb().displayable()},hex:$_,formatHex:$_,formatHsl:function(){return Zf(this).formatHsl()},formatRgb:H_,toString:H_}),Ka(An,it,Qf(li,{brighter:function(r){return r=null==r?Za:Math.pow(Za,r),new An(this.r*r,this.g*r,this.b*r,this.opacity)},darker:function(r){return r=null==r?.7:Math.pow(.7,r),new An(this.r*r,this.g*r,this.b*r,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dn,formatHex:dn,formatRgb:Yp,toString:Yp})),Ka(co,Xa,Qf(li,{brighter:function(r){return r=null==r?Za:Math.pow(Za,r),new co(this.h,this.s,this.l*r,this.opacity)},darker:function(r){return r=null==r?.7:Math.pow(.7,r),new co(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=this.h%360+360*(this.h<0),o=isNaN(r)||isNaN(this.s)?0:this.s,a=this.l,u=a+(a<.5?a:1-a)*o,l=2*a-u;return new An(Qp(r>=240?r-240:r+120,l,u),Qp(r,l,u),Qp(r<120?r+240:r-120,l,u),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var r=this.opacity;return(1===(r=isNaN(r)?1:Math.max(0,Math.min(1,r)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===r?")":", "+r+")")}}));const vr=r=>()=>r;function Kp(r,o){return function(a){return r+a*o}}function qr(r,o){var a=o-r;return a?Kp(r,a>180||a<-180?a-360*Math.round(a/360):a):vr(isNaN(r)?o:r)}function _n(r,o){var a=o-r;return a?Kp(r,a):vr(isNaN(r)?o:r)}const Ic=function r(o){var a=function(r){return 1==(r=+r)?_n:function(o,a){return a-o?function(r,o,a){return r=Math.pow(r,a),o=Math.pow(o,a)-r,a=1/a,function(u){return Math.pow(r+u*o,a)}}(o,a,r):vr(isNaN(o)?a:o)}}(o);function u(l,d){var h=a((l=it(l)).r,(d=it(d)).r),g=a(l.g,d.g),m=a(l.b,d.b),_=_n(l.opacity,d.opacity);return function(v){return l.r=h(v),l.g=g(v),l.b=m(v),l.opacity=_(v),l+""}}return u.gamma=r,u}(1);function q_(r){return function(o){var h,g,a=o.length,u=new Array(a),l=new Array(a),d=new Array(a);for(h=0;h<a;++h)g=it(o[h]),u[h]=g.r||0,l[h]=g.g||0,d[h]=g.b||0;return u=r(u),l=r(l),d=r(d),g.opacity=1,function(m){return g.r=u(m),g.g=l(m),g.b=d(m),g+""}}}var Xf=q_(Tc),Zp=q_($n);function Jf(r,o){o||(o=[]);var l,a=r?Math.min(o.length,r.length):0,u=o.slice();return function(d){for(l=0;l<a;++l)u[l]=r[l]*(1-d)+o[l]*d;return u}}function ed(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function u2(r,o){return(ed(o)?Jf:Xp)(r,o)}function Xp(r,o){var h,a=o?o.length:0,u=r?Math.min(a,r.length):0,l=new Array(u),d=new Array(a);for(h=0;h<u;++h)l[h]=tn(r[h],o[h]);for(;h<a;++h)d[h]=o[h];return function(g){for(h=0;h<u;++h)d[h]=l[h](g);return d}}function Ac(r,o){var a=new Date;return r=+r,o=+o,function(u){return a.setTime(r*(1-u)+o*u),a}}function br(r,o){return r=+r,o=+o,function(a){return r*(1-a)+o*a}}function Jp(r,o){var l,a={},u={};for(l in(null===r||"object"!=typeof r)&&(r={}),(null===o||"object"!=typeof o)&&(o={}),o)l in r?a[l]=tn(r[l],o[l]):u[l]=o[l];return function(d){for(l in a)u[l]=a[l](d);return u}}var td=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nd=new RegExp(td.source,"g");function eg(r,o){var u,l,d,a=td.lastIndex=nd.lastIndex=0,h=-1,g=[],m=[];for(r+="",o+="";(u=td.exec(r))&&(l=nd.exec(o));)(d=l.index)>a&&(d=o.slice(a,d),g[h]?g[h]+=d:g[++h]=d),(u=u[0])===(l=l[0])?g[h]?g[h]+=l:g[++h]=l:(g[++h]=null,m.push({i:h,x:br(u,l)})),a=nd.lastIndex;return a<o.length&&(d=o.slice(a),g[h]?g[h]+=d:g[++h]=d),g.length<2?m[0]?function(r){return function(o){return r(o)+""}}(m[0].x):function(r){return function(){return r}}(o):(o=m.length,function(_){for(var C,v=0;v<o;++v)g[(C=m[v]).i]=C.x(_);return g.join("")})}function tn(r,o){var u,a=typeof o;return null==o||"boolean"===a?vr(o):("number"===a?br:"string"===a?(u=uo(o))?(o=u,Ic):eg:o instanceof uo?Ic:o instanceof Date?Ac:ed(o)?Jf:Array.isArray(o)?Xp:"function"!=typeof o.valueOf&&"function"!=typeof o.toString||isNaN(o)?Jp:br)(r,o)}function lo(r){let o;for(;o=r.sourceEvent;)r=o;return r}function pt(r,o){if(r=lo(r),void 0===o&&(o=r.currentTarget),o){var a=o.ownerSVGElement||o;if(a.createSVGPoint){var u=a.createSVGPoint();return u.x=r.clientX,u.y=r.clientY,[(u=u.matrixTransform(o.getScreenCTM().inverse())).x,u.y]}if(o.getBoundingClientRect){var l=o.getBoundingClientRect();return[r.clientX-l.left-o.clientLeft,r.clientY-l.top-o.clientTop]}}return[r.pageX,r.pageY]}var id,Pc,eu=0,Rc=0,Nc=0,Is=0,Ni=0,As=0,Rs="object"==typeof performance&&performance.now?performance:Date,tg="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function kc(){return Ni||(tg(Uo),Ni=Rs.now()+As)}function Uo(){Ni=0}function fo(){this._call=this._time=this._next=null}function od(r,o,a){var u=new fo;return u.restart(r,o,a),u}function G_(){kc(),++eu;for(var o,r=id;r;)(o=Ni-r._time)>=0&&r._call.call(null,o),r=r._next;--eu}function tu(){Ni=(Is=Rs.now())+As,eu=Rc=0;try{G_()}finally{eu=0,function(){for(var r,a,o=id,u=1/0;o;)o._call?(u>o._time&&(u=o._time),r=o,o=o._next):(a=o._next,o._next=null,o=r?r._next=a:id=a);Pc=r,rg(u)}(),Ni=0}}function ng(){var r=Rs.now(),o=r-Is;o>1e3&&(As-=o,Is=r)}function rg(r){eu||(Rc&&(Rc=clearTimeout(Rc)),r-Ni>24?(r<1/0&&(Rc=setTimeout(tu,r-Rs.now()-As)),Nc&&(Nc=clearInterval(Nc))):(Nc||(Is=Rs.now(),Nc=setInterval(ng,1e3)),eu=1,tg(tu)))}function Y_(r,o,a){var u=new fo;return u.restart(l=>{u.stop(),r(l+o)},o=null==o?0:+o,a),u}fo.prototype=od.prototype={constructor:fo,restart:function(r,o,a){if("function"!=typeof r)throw new TypeError("callback is not a function");a=(null==a?kc():+a)+(null==o?0:+o),!this._next&&Pc!==this&&(Pc?Pc._next=this:id=this,Pc=this),this._call=r,this._time=a,rg()},stop:function(){this._call&&(this._call=null,this._time=1/0,rg())}};var xI=qa("start","end","cancel","interrupt"),sd=[];function ho(r,o,a,u,l,d){var h=r.__transition;if(h){if(a in h)return}else r.__transition={};!function(r,o,a){var l,u=r.__transition;function h(_){var v,C,b,D;if(1!==a.state)return m();for(v in u)if((D=u[v]).name===a.name){if(3===D.state)return Y_(h);4===D.state?(D.state=6,D.timer.stop(),D.on.call("interrupt",r,r.__data__,D.index,D.group),delete u[v]):+v<o&&(D.state=6,D.timer.stop(),D.on.call("cancel",r,r.__data__,D.index,D.group),delete u[v])}if(Y_(function(){3===a.state&&(a.state=4,a.timer.restart(g,a.delay,a.time),g(_))}),a.state=2,a.on.call("start",r,r.__data__,a.index,a.group),2===a.state){for(a.state=3,l=new Array(b=a.tween.length),v=0,C=-1;v<b;++v)(D=a.tween[v].value.call(r,r.__data__,a.index,a.group))&&(l[++C]=D);l.length=C+1}}function g(_){for(var v=_<a.duration?a.ease.call(null,_/a.duration):(a.timer.restart(m),a.state=5,1),C=-1,b=l.length;++C<b;)l[C].call(r,v);5===a.state&&(a.on.call("end",r,r.__data__,a.index,a.group),m())}function m(){for(var _ in a.state=6,a.timer.stop(),delete u[o],u)return;delete r.__transition}u[o]=a,a.timer=od(function(_){a.state=1,a.timer.restart(h,a.delay,a.time),a.delay<=_&&h(_-a.delay)},0,a.time)}(r,a,{name:o,index:u,group:l,on:xI,tween:sd,time:d.time,delay:d.delay,duration:d.duration,ease:d.ease,timer:null,state:0})}function Lc(r,o){var a=Pi(r,o);if(a.state>0)throw new Error("too late; already scheduled");return a}function wr(r,o){var a=Pi(r,o);if(a.state>3)throw new Error("too late; already running");return a}function Pi(r,o){var a=r.__transition;if(!a||!(a=a[o]))throw new Error("transition not found");return a}function Ho(r,o){var u,l,h,a=r.__transition,d=!0;if(a){for(h in o=null==o?null:o+"",a)(u=a[h]).name===o?(l=u.state>2&&u.state<5,u.state=6,u.timer.stop(),u.on.call(l?"interrupt":"cancel",r,r.__data__,u.index,u.group),delete a[h]):d=!1;d&&delete r.__transition}}var ru,K_=180/Math.PI,Ns={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ud(r,o,a,u,l,d){var h,g,m;return(h=Math.sqrt(r*r+o*o))&&(r/=h,o/=h),(m=r*a+o*u)&&(a-=r*m,u-=o*m),(g=Math.sqrt(a*a+u*u))&&(a/=g,u/=g,m/=g),r*u<o*a&&(r=-r,o=-o,m=-m,h=-h),{translateX:l,translateY:d,rotate:Math.atan2(o,r)*K_,skewX:Math.atan(m)*K_,scaleX:h,scaleY:g}}function Z_(r,o,a,u){function l(_){return _.length?_.pop()+" ":""}return function(_,v){var C=[],b=[];return _=r(_),v=r(v),function(_,v,C,b,D,T){if(_!==C||v!==b){var I=D.push("translate(",null,o,null,a);T.push({i:I-4,x:br(_,C)},{i:I-2,x:br(v,b)})}else(C||b)&&D.push("translate("+C+o+b+a)}(_.translateX,_.translateY,v.translateX,v.translateY,C,b),function(_,v,C,b){_!==v?(_-v>180?v+=360:v-_>180&&(_+=360),b.push({i:C.push(l(C)+"rotate(",null,u)-2,x:br(_,v)})):v&&C.push(l(C)+"rotate("+v+u)}(_.rotate,v.rotate,C,b),function(_,v,C,b){_!==v?b.push({i:C.push(l(C)+"skewX(",null,u)-2,x:br(_,v)}):v&&C.push(l(C)+"skewX("+v+u)}(_.skewX,v.skewX,C,b),function(_,v,C,b,D,T){if(_!==C||v!==b){var I=D.push(l(D)+"scale(",null,",",null,")");T.push({i:I-4,x:br(_,C)},{i:I-2,x:br(v,b)})}else(1!==C||1!==b)&&D.push(l(D)+"scale("+C+","+b+")")}(_.scaleX,_.scaleY,v.scaleX,v.scaleY,C,b),_=v=null,function(D){for(var x,T=-1,I=b.length;++T<I;)C[(x=b[T]).i]=x.x(D);return C.join("")}}}var sg=Z_(function(r){const o=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(r+"");return o.isIdentity?Ns:ud(o.a,o.b,o.c,o.d,o.e,o.f)},"px, ","px)","deg)"),ag=Z_(function(r){return null!=r&&(ru||(ru=document.createElementNS("http://www.w3.org/2000/svg","g")),ru.setAttribute("transform",r),r=ru.transform.baseVal.consolidate())?ud((r=r.matrix).a,r.b,r.c,r.d,r.e,r.f):Ns},", ",")",")");function X_(r,o){var a,u;return function(){var l=wr(this,r),d=l.tween;if(d!==a)for(var h=0,g=(u=a=d).length;h<g;++h)if(u[h].name===o){(u=u.slice()).splice(h,1);break}l.tween=u}}function J_(r,o,a){var u,l;if("function"!=typeof a)throw new Error;return function(){var d=wr(this,r),h=d.tween;if(h!==u){l=(u=h).slice();for(var g={name:o,value:a},m=0,_=l.length;m<_;++m)if(l[m].name===o){l[m]=g;break}m===_&&l.push(g)}d.tween=l}}function ug(r,o,a){var u=r._id;return r.each(function(){var l=wr(this,u);(l.value||(l.value={}))[o]=a.apply(this,arguments)}),function(l){return Pi(l,u).value[o]}}function Vc(r,o){var a;return("number"==typeof o?br:o instanceof uo?Ic:(a=uo(o))?(o=a,Ic):eg)(r,o)}function Bc(r){return function(){this.removeAttribute(r)}}function h2(r){return function(){this.removeAttributeNS(r.space,r.local)}}function e1(r,o,a){var u,d,l=a+"";return function(){var h=this.getAttribute(r);return h===l?null:h===u?d:d=o(u=h,a)}}function t1(r,o,a){var u,d,l=a+"";return function(){var h=this.getAttributeNS(r.space,r.local);return h===l?null:h===u?d:d=o(u=h,a)}}function iu(r,o,a){var u,l,d;return function(){var h,m,g=a(this);return null==g?void this.removeAttribute(r):(h=this.getAttribute(r))===(m=g+"")?null:h===u&&m===l?d:(l=m,d=o(u=h,g))}}function p2(r,o,a){var u,l,d;return function(){var h,m,g=a(this);return null==g?void this.removeAttributeNS(r.space,r.local):(h=this.getAttributeNS(r.space,r.local))===(m=g+"")?null:h===u&&m===l?d:(l=m,d=o(u=h,g))}}function jc(r,o){return function(a){this.setAttribute(r,o.call(this,a))}}function ou(r,o){return function(a){this.setAttributeNS(r.space,r.local,o.call(this,a))}}function su(r,o){var a,u;function l(){var d=o.apply(this,arguments);return d!==u&&(a=(u=d)&&ou(r,d)),a}return l._value=o,l}function au(r,o){var a,u;function l(){var d=o.apply(this,arguments);return d!==u&&(a=(u=d)&&jc(r,d)),a}return l._value=o,l}function lg(r,o){return function(){Lc(this,r).delay=+o.apply(this,arguments)}}function Ps(r,o){return o=+o,function(){Lc(this,r).delay=o}}function SI(r,o){return function(){wr(this,r).duration=+o.apply(this,arguments)}}function g2(r,o){return o=+o,function(){wr(this,r).duration=o}}function m2(r,o){if("function"!=typeof o)throw new Error;return function(){wr(this,r).ease=o}}function NI(r,o,a){var u,l,d=function(r){return(r+"").trim().split(/^|\s+/).every(function(o){var a=o.indexOf(".");return a>=0&&(o=o.slice(0,a)),!o||"start"===o})}(o)?Lc:wr;return function(){var h=d(this,r),g=h.on;g!==u&&(l=(u=g).copy()).on(o,a),h.on=l}}var $c=Mc.prototype.constructor;function Hc(r){return function(){this.style.removeProperty(r)}}function ki(r,o,a){return function(u){this.style.setProperty(r,o.call(this,u),a)}}function dd(r,o,a){var u,l;function d(){var h=o.apply(this,arguments);return h!==l&&(u=(l=h)&&ki(r,h,a)),u}return d._value=o,d}function b2(r){return function(o){this.textContent=r.call(this,o)}}function jI(r){var o,a;function u(){var l=r.apply(this,arguments);return l!==a&&(o=(a=l)&&b2(l)),o}return u._value=r,u}var fg=0;function Kn(r,o,a,u){this._groups=r,this._parents=o,this._name=a,this._id=u}function w2(r){return Mc().transition(r)}function dg(){return++fg}var Os=Mc.prototype;function C2(r){return r*r*r}function D2(r){return--r*r*r+1}function hg(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}Kn.prototype=w2.prototype={constructor:Kn,select:function(r){var o=this._name,a=this._id;"function"!=typeof r&&(r=Bp(r));for(var u=this._groups,l=u.length,d=new Array(l),h=0;h<l;++h)for(var v,C,g=u[h],m=g.length,_=d[h]=new Array(m),b=0;b<m;++b)(v=g[b])&&(C=r.call(v,v.__data__,b,g))&&("__data__"in v&&(C.__data__=v.__data__),_[b]=C,ho(_[b],o,a,b,_,Pi(v,a)));return new Kn(d,this._parents,o,a)},selectAll:function(r){var o=this._name,a=this._id;"function"!=typeof r&&(r=Fo(r));for(var u=this._groups,l=u.length,d=[],h=[],g=0;g<l;++g)for(var v,m=u[g],_=m.length,C=0;C<_;++C)if(v=m[C]){for(var D,b=r.call(v,v.__data__,C,m),T=Pi(v,a),I=0,x=b.length;I<x;++I)(D=b[I])&&ho(D,o,a,I,b,T);d.push(b),h.push(v)}return new Kn(d,h,o,a)},filter:function(r){"function"!=typeof r&&(r=wc(r));for(var o=this._groups,a=o.length,u=new Array(a),l=0;l<a;++l)for(var m,d=o[l],h=d.length,g=u[l]=[],_=0;_<h;++_)(m=d[_])&&r.call(m,m.__data__,_,d)&&g.push(m);return new Kn(u,this._parents,this._name,this._id)},merge:function(r){if(r._id!==this._id)throw new Error;for(var o=this._groups,a=r._groups,u=o.length,d=Math.min(u,a.length),h=new Array(u),g=0;g<d;++g)for(var b,m=o[g],_=a[g],v=m.length,C=h[g]=new Array(v),D=0;D<v;++D)(b=m[D]||_[D])&&(C[D]=b);for(;g<u;++g)h[g]=o[g];return new Kn(h,this._parents,this._name,this._id)},selection:function(){return new $c(this._groups,this._parents)},transition:function(){for(var r=this._name,o=this._id,a=dg(),u=this._groups,l=u.length,d=0;d<l;++d)for(var m,h=u[d],g=h.length,_=0;_<g;++_)if(m=h[_]){var v=Pi(m,o);ho(m,r,a,_,h,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new Kn(u,this._parents,r,a)},call:Os.call,nodes:Os.nodes,node:Os.node,size:Os.size,empty:Os.empty,each:Os.each,on:function(r,o){var a=this._id;return arguments.length<2?Pi(this.node(),a).on.on(r):this.each(NI(a,r,o))},attr:function(r,o){var a=qe(r),u="transform"===a?ag:Vc;return this.attrTween(r,"function"==typeof o?(a.local?p2:iu)(a,u,ug(this,"attr."+r,o)):null==o?(a.local?h2:Bc)(a):(a.local?t1:e1)(a,u,o))},attrTween:function(r,o){var a="attr."+r;if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==o)return this.tween(a,null);if("function"!=typeof o)throw new Error;var u=qe(r);return this.tween(a,(u.local?su:au)(u,o))},style:function(r,o,a){var u="transform"==(r+="")?sg:Vc;return null==o?this.styleTween(r,function(r,o){var a,u,l;return function(){var d=ao(this,r),h=(this.style.removeProperty(r),ao(this,r));return d===h?null:d===a&&h===u?l:l=o(a=d,u=h)}}(r,u)).on("end.style."+r,Hc(r)):"function"==typeof o?this.styleTween(r,function(r,o,a){var u,l,d;return function(){var h=ao(this,r),g=a(this),m=g+"";return null==g&&(this.style.removeProperty(r),m=g=ao(this,r)),h===m?null:h===u&&m===l?d:(l=m,d=o(u=h,g))}}(r,u,ug(this,"style."+r,o))).each(function(r,o){var a,u,l,g,d="style."+o,h="end."+d;return function(){var m=wr(this,r),_=m.on,v=null==m.value[d]?g||(g=Hc(o)):void 0;(_!==a||l!==v)&&(u=(a=_).copy()).on(h,l=v),m.on=u}}(this._id,r)):this.styleTween(r,function(r,o,a){var u,d,l=a+"";return function(){var h=ao(this,r);return h===l?null:h===u?d:d=o(u=h,a)}}(r,u,o),a).on("end.style."+r,null)},styleTween:function(r,o,a){var u="style."+(r+="");if(arguments.length<2)return(u=this.tween(u))&&u._value;if(null==o)return this.tween(u,null);if("function"!=typeof o)throw new Error;return this.tween(u,dd(r,o,null==a?"":a))},text:function(r){return this.tween("text","function"==typeof r?function(r){return function(){var o=r(this);this.textContent=null==o?"":o}}(ug(this,"text",r)):function(r){return function(){this.textContent=r}}(null==r?"":r+""))},textTween:function(r){var o="text";if(arguments.length<1)return(o=this.tween(o))&&o._value;if(null==r)return this.tween(o,null);if("function"!=typeof r)throw new Error;return this.tween(o,jI(r))},remove:function(){return this.on("end.remove",(r=this._id,function(){var o=this.parentNode;for(var a in this.__transition)if(+a!==r)return;o&&o.removeChild(this)}));var r},tween:function(r,o){var a=this._id;if(r+="",arguments.length<2){for(var h,u=Pi(this.node(),a).tween,l=0,d=u.length;l<d;++l)if((h=u[l]).name===r)return h.value;return null}return this.each((null==o?X_:J_)(a,r,o))},delay:function(r){var o=this._id;return arguments.length?this.each(("function"==typeof r?lg:Ps)(o,r)):Pi(this.node(),o).delay},duration:function(r){var o=this._id;return arguments.length?this.each(("function"==typeof r?SI:g2)(o,r)):Pi(this.node(),o).duration},ease:function(r){var o=this._id;return arguments.length?this.each(m2(o,r)):Pi(this.node(),o).ease},easeVarying:function(r){if("function"!=typeof r)throw new Error;return this.each(function(r,o){return function(){var a=o.apply(this,arguments);if("function"!=typeof a)throw new Error;wr(this,r).ease=a}}(this._id,r))},end:function(){var r,o,a=this,u=a._id,l=a.size();return new Promise(function(d,h){var g={value:h},m={value:function(){0==--l&&d()}};a.each(function(){var _=wr(this,u),v=_.on;v!==r&&((o=(r=v).copy())._.cancel.push(g),o._.interrupt.push(g),o._.end.push(m)),_.on=o}),0===l&&d()})},[Symbol.iterator]:Os[Symbol.iterator]};var E2={time:null,delay:0,duration:250,ease:hg};function zc(r,o){for(var a;!(a=r.__transition)||!(a=a[o]);)if(!(r=r.parentNode))throw new Error(`transition ${o} not found`);return a}Mc.prototype.interrupt=function(r){return this.each(function(){Ho(this,r)})},Mc.prototype.transition=function(r){var o,a;r instanceof Kn?(o=r._id,r=r._name):(o=dg(),(a=E2).time=kc(),r=null==r?null:r+"");for(var u=this._groups,l=u.length,d=0;d<l;++d)for(var m,h=u[d],g=h.length,_=0;_<g;++_)(m=h[_])&&ho(m,r,o,_,h,a||zc(m,o));return new Kn(u,this._parents,r,o)};var hd=[null];function $I(r,o){var u,l,a=r.__transition;if(a)for(l in o=null==o?null:o+"",a)if((u=a[l]).state>1&&u.name===o)return new Kn([[r]],hd,o,+l);return null}const Fs=r=>()=>r;function gg(r,{sourceEvent:o,target:a,selection:u,mode:l,dispatch:d}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},selection:{value:u,enumerable:!0,configurable:!0},mode:{value:l,enumerable:!0,configurable:!0},_:{value:d}})}function uu(r){r.stopImmediatePropagation()}function mg(r){r.preventDefault(),r.stopImmediatePropagation()}var o1={name:"drag"},yg={name:"space"},qo={name:"handle"},qc={name:"center"};const{abs:pd,max:hn,min:rn}=Math;function s1(r){return[+r[0],+r[1]]}function _e(r){return[s1(r[0]),s1(r[1])]}var Wc={name:"x",handles:["w","e"].map(Oi),input:function(r,o){return null==r?null:[[+r[0],o[0][1]],[+r[1],o[1][1]]]},output:function(r){return r&&[r[0][0],r[1][0]]}},_g={name:"y",handles:["n","s"].map(Oi),input:function(r,o){return null==r?null:[[o[0][0],+r[0]],[o[1][0],+r[1]]]},output:function(r){return r&&[r[0][1],r[1][1]]}},Ls={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Oi),input:function(r){return null==r?null:_e(r)},output:function(r){return r}},Dr={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},a1={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},vg={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},u1={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},HI={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Oi(r){return{type:r}}function ar(r){return!r.ctrlKey&&!r.button}function gd(){var r=this.ownerSVGElement||this;return r.hasAttribute("viewBox")?[[(r=r.viewBox.baseVal).x,r.y],[r.x+r.width,r.y+r.height]]:[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]}function Wo(){return navigator.maxTouchPoints||"ontouchstart"in this}function bg(r){for(;!r.__brush;)if(!(r=r.parentNode))return;return r.__brush}function c1(r){return r[0][0]===r[1][0]||r[0][1]===r[1][1]}function wg(r){var o=r.__brush;return o?o.dim.output(o.selection):null}function md(){return Cg(Wc)}function l1(){return Cg(_g)}function x2(){return Cg(Ls)}function Cg(r){var g,o=gd,a=ar,u=Wo,l=!0,d=qa("start","brush","end"),h=6;function m(x){var S=x.property("__brush",I).selectAll(".overlay").data([Oi("overlay")]);S.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Dr.overlay).merge(S).each(function(){var N=bg(this).extent;ft(this).attr("x",N[0][0]).attr("y",N[0][1]).attr("width",N[1][0]-N[0][0]).attr("height",N[1][1]-N[0][1])}),x.selectAll(".selection").data([Oi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Dr.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var P=x.selectAll(".handle").data(r.handles,function(N){return N.type});P.exit().remove(),P.enter().append("rect").attr("class",function(N){return"handle handle--"+N.type}).attr("cursor",function(N){return Dr[N.type]}),x.each(_).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",b).filter(u).on("touchstart.brush",b).on("touchmove.brush",D).on("touchend.brush touchcancel.brush",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(){var x=ft(this),S=bg(this).selection;S?(x.selectAll(".selection").style("display",null).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1]),x.selectAll(".handle").style("display",null).attr("x",function(P){return"e"===P.type[P.type.length-1]?S[1][0]-h/2:S[0][0]-h/2}).attr("y",function(P){return"s"===P.type[0]?S[1][1]-h/2:S[0][1]-h/2}).attr("width",function(P){return"n"===P.type||"s"===P.type?S[1][0]-S[0][0]+h:h}).attr("height",function(P){return"e"===P.type||"w"===P.type?S[1][1]-S[0][1]+h:h})):x.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function v(x,S,P){var N=x.__brush.emitter;return!N||P&&N.clean?new C(x,S,P):N}function C(x,S,P){this.that=x,this.args=S,this.state=x.__brush,this.active=0,this.clean=P}function b(x){if((!g||x.touches)&&a.apply(this,arguments)){var H,j,Y,B,z,ee,ue,pe,wt,Ct,pn,S=this,P=x.target.__data__.type,N="selection"===(l&&x.metaKey?P="overlay":P)?o1:l&&x.altKey?qc:qo,A=r===_g?null:u1[P],F=r===Wc?null:HI[P],V=bg(S),Q=V.extent,Z=V.selection,te=Q[0][0],J=Q[0][1],$=Q[1][0],ie=Q[1][1],De=0,Me=0,Je=A&&F&&l&&x.shiftKey,mt=Array.from(x.touches||[x],Xe=>{const ln=Xe.identifier;return(Xe=pt(Xe,S)).point0=Xe.slice(),Xe.identifier=ln,Xe});if("overlay"===P){Z&&(wt=!0);const Xe=[mt[0],mt[1]||mt[0]];V.selection=Z=[[H=r===_g?te:rn(Xe[0][0],Xe[1][0]),Y=r===Wc?J:rn(Xe[0][1],Xe[1][1])],[z=r===_g?$:hn(Xe[0][0],Xe[1][0]),ue=r===Wc?ie:hn(Xe[0][1],Xe[1][1])]],mt.length>1&&nn()}else H=Z[0][0],Y=Z[0][1],z=Z[1][0],ue=Z[1][1];j=H,B=Y,ee=z,pe=ue;var xn=ft(S).attr("pointer-events","none"),ge=xn.selectAll(".overlay").attr("cursor",Dr[P]);Ho(S);var Ye=v(S,arguments,!0).beforestart();if(x.touches)Ye.moved=le,Ye.ended=St;else{var $e=ft(x.view).on("mousemove.brush",le,!0).on("mouseup.brush",St,!0);l&&$e.on("keydown.brush",dr,!0).on("keyup.brush",Mn,!0),Yf(x.view)}_.call(S),Ye.start(x,N.name)}function le(Xe){for(const ln of Xe.changedTouches||[Xe])for(const vp of mt)vp.identifier===ln.identifier&&(vp.cur=pt(ln,S));if(Je&&!Ct&&!pn&&1===mt.length){const ln=mt[0];pd(ln.cur[0]-ln[0])>pd(ln.cur[1]-ln[1])?pn=!0:Ct=!0}for(const ln of mt)ln.cur&&(ln[0]=ln.cur[0],ln[1]=ln.cur[1]);wt=!0,mg(Xe),nn(Xe)}function nn(Xe){const ln=mt[0],vp=ln.point0;var Aa;switch(De=ln[0]-vp[0],Me=ln[1]-vp[1],N){case yg:case o1:A&&(De=hn(te-H,rn($-z,De)),j=H+De,ee=z+De),F&&(Me=hn(J-Y,rn(ie-ue,Me)),B=Y+Me,pe=ue+Me);break;case qo:mt[1]?(A&&(j=hn(te,rn($,mt[0][0])),ee=hn(te,rn($,mt[1][0])),A=1),F&&(B=hn(J,rn(ie,mt[0][1])),pe=hn(J,rn(ie,mt[1][1])),F=1)):(A<0?(De=hn(te-H,rn($-H,De)),j=H+De,ee=z):A>0&&(De=hn(te-z,rn($-z,De)),j=H,ee=z+De),F<0?(Me=hn(J-Y,rn(ie-Y,Me)),B=Y+Me,pe=ue):F>0&&(Me=hn(J-ue,rn(ie-ue,Me)),B=Y,pe=ue+Me));break;case qc:A&&(j=hn(te,rn($,H-De*A)),ee=hn(te,rn($,z+De*A))),F&&(B=hn(J,rn(ie,Y-Me*F)),pe=hn(J,rn(ie,ue+Me*F)))}ee<j&&(A*=-1,Aa=H,H=z,z=Aa,Aa=j,j=ee,ee=Aa,P in a1&&ge.attr("cursor",Dr[P=a1[P]])),pe<B&&(F*=-1,Aa=Y,Y=ue,ue=Aa,Aa=B,B=pe,pe=Aa,P in vg&&ge.attr("cursor",Dr[P=vg[P]])),V.selection&&(Z=V.selection),Ct&&(j=Z[0][0],ee=Z[1][0]),pn&&(B=Z[0][1],pe=Z[1][1]),(Z[0][0]!==j||Z[0][1]!==B||Z[1][0]!==ee||Z[1][1]!==pe)&&(V.selection=[[j,B],[ee,pe]],_.call(S),Ye.brush(Xe,N.name))}function St(Xe){if(uu(Xe),Xe.touches){if(Xe.touches.length)return;g&&clearTimeout(g),g=setTimeout(function(){g=null},500)}else Wt(Xe.view,wt),$e.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);xn.attr("pointer-events","all"),ge.attr("cursor",Dr.overlay),V.selection&&(Z=V.selection),c1(Z)&&(V.selection=null,_.call(S)),Ye.end(Xe,N.name)}function dr(Xe){switch(Xe.keyCode){case 16:Je=A&&F;break;case 18:N===qo&&(A&&(z=ee-De*A,H=j+De*A),F&&(ue=pe-Me*F,Y=B+Me*F),N=qc,nn());break;case 32:(N===qo||N===qc)&&(A<0?z=ee-De:A>0&&(H=j-De),F<0?ue=pe-Me:F>0&&(Y=B-Me),N=yg,ge.attr("cursor",Dr.selection),nn());break;default:return}mg(Xe)}function Mn(Xe){switch(Xe.keyCode){case 16:Je&&(Ct=pn=Je=!1,nn());break;case 18:N===qc&&(A<0?z=ee:A>0&&(H=j),F<0?ue=pe:F>0&&(Y=B),N=qo,nn());break;case 32:N===yg&&(Xe.altKey?(A&&(z=ee-De*A,H=j+De*A),F&&(ue=pe-Me*F,Y=B+Me*F),N=qc):(A<0?z=ee:A>0&&(H=j),F<0?ue=pe:F>0&&(Y=B),N=qo),ge.attr("cursor",Dr[P]),nn());break;default:return}mg(Xe)}}function D(x){v(this,arguments).moved(x)}function T(x){v(this,arguments).ended(x)}function I(){var x=this.__brush||{selection:null};return x.extent=_e(o.apply(this,arguments)),x.dim=r,x}return m.move=function(x,S){x.tween?x.on("start.brush",function(P){v(this,arguments).beforestart().start(P)}).on("interrupt.brush end.brush",function(P){v(this,arguments).end(P)}).tween("brush",function(){var P=this,N=P.__brush,A=v(P,arguments),F=N.selection,V=r.input("function"==typeof S?S.apply(this,arguments):S,N.extent),Q=tn(F,V);function Z(te){N.selection=1===te&&null===V?null:Q(te),_.call(P),A.brush()}return null!==F&&null!==V?Z:Z(1)}):x.each(function(){var P=this,N=arguments,A=P.__brush,F=r.input("function"==typeof S?S.apply(P,N):S,A.extent),V=v(P,N).beforestart();Ho(P),A.selection=null===F?null:F,_.call(P),V.start().brush().end()})},m.clear=function(x){m.move(x,null)},C.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(x,S){return this.starting?(this.starting=!1,this.emit("start",x,S)):this.emit("brush",x),this},brush:function(x,S){return this.emit("brush",x,S),this},end:function(x,S){return 0==--this.active&&(delete this.state.emitter,this.emit("end",x,S)),this},emit:function(x,S,P){var N=ft(this.that).datum();d.call(x,this.that,new gg(x,{sourceEvent:S,target:m,selection:r.output(this.state.selection),mode:P,dispatch:d}),N)}},m.extent=function(x){return arguments.length?(o="function"==typeof x?x:Fs(_e(x)),m):o},m.filter=function(x){return arguments.length?(a="function"==typeof x?x:Fs(!!x),m):a},m.touchable=function(x){return arguments.length?(u="function"==typeof x?x:Fs(!!x),m):u},m.handleSize=function(x){return arguments.length?(h=+x,m):h},m.keyModifiers=function(x){return arguments.length?(l=!!x,m):l},m.on=function(){var x=d.on.apply(d,arguments);return x===d?m:x},m}var Vs=Math.abs,Fi=Math.cos,cu=Math.sin,M2=Math.PI,Gc=M2/2,f1=2*M2,S2=Math.max,Dg=1e-12;function Eg(r,o){return Array.from({length:o-r},(a,u)=>r+u)}function T2(r){return function(o,a){return r(o.source.value+o.target.value,a.source.value+a.target.value)}}function I2(){return xg(!1,!1)}function zI(){return xg(!1,!0)}function Er(){return xg(!0,!1)}function xg(r,o){var a=0,u=null,l=null,d=null;function h(g){var T,m=g.length,_=new Array(m),v=Eg(0,m),C=new Array(m*m),b=new Array(m),D=0;g=Float64Array.from({length:m*m},o?(I,x)=>g[x%m][x/m|0]:(I,x)=>g[x/m|0][x%m]);for(let I=0;I<m;++I){let x=0;for(let S=0;S<m;++S)x+=g[I*m+S]+r*g[S*m+I];D+=_[I]=x}T=(D=S2(0,f1-a*m)/D)?a:f1/m;{let I=0;u&&v.sort((x,S)=>u(_[x],_[S]));for(const x of v){const S=I;if(r){const P=Eg(1+~m,m).filter(N=>N<0?g[~N*m+x]:g[x*m+N]);l&&P.sort((N,A)=>l(N<0?-g[~N*m+x]:g[x*m+N],A<0?-g[~A*m+x]:g[x*m+A]));for(const N of P)N<0?(C[~N*m+x]||(C[~N*m+x]={source:null,target:null})).target={index:x,startAngle:I,endAngle:I+=g[~N*m+x]*D,value:g[~N*m+x]}:(C[x*m+N]||(C[x*m+N]={source:null,target:null})).source={index:x,startAngle:I,endAngle:I+=g[x*m+N]*D,value:g[x*m+N]};b[x]={index:x,startAngle:S,endAngle:I,value:_[x]}}else{const P=Eg(0,m).filter(N=>g[x*m+N]||g[N*m+x]);l&&P.sort((N,A)=>l(g[x*m+N],g[x*m+A]));for(const N of P){let A;if(x<N?(A=C[x*m+N]||(C[x*m+N]={source:null,target:null}),A.source={index:x,startAngle:I,endAngle:I+=g[x*m+N]*D,value:g[x*m+N]}):(A=C[N*m+x]||(C[N*m+x]={source:null,target:null}),A.target={index:x,startAngle:I,endAngle:I+=g[x*m+N]*D,value:g[x*m+N]},x===N&&(A.source=A.target)),A.source&&A.target&&A.source.value<A.target.value){const F=A.source;A.source=A.target,A.target=F}}b[x]={index:x,startAngle:S,endAngle:I,value:_[x]}}I+=T}}return(C=Object.values(C)).groups=b,d?C.sort(d):C}return h.padAngle=function(g){return arguments.length?(a=S2(0,g),h):a},h.sortGroups=function(g){return arguments.length?(u=g,h):u},h.sortSubgroups=function(g){return arguments.length?(l=g,h):l},h.sortChords=function(g){return arguments.length?(null==g?d=null:(d=T2(g))._=g,h):d&&d._},h}const Mg=Math.PI,Sg=2*Mg,Li=1e-6,Zn=Sg-Li;function Yc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Tg(){return new Yc}Yc.prototype=Tg.prototype={constructor:Yc,moveTo:function(r,o){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+o)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(r,o){this._+="L"+(this._x1=+r)+","+(this._y1=+o)},quadraticCurveTo:function(r,o,a,u){this._+="Q"+ +r+","+ +o+","+(this._x1=+a)+","+(this._y1=+u)},bezierCurveTo:function(r,o,a,u,l,d){this._+="C"+ +r+","+ +o+","+ +a+","+ +u+","+(this._x1=+l)+","+(this._y1=+d)},arcTo:function(r,o,a,u,l){var d=this._x1,h=this._y1,g=(a=+a)-(r=+r),m=(u=+u)-(o=+o),_=d-r,v=h-o,C=_*_+v*v;if((l=+l)<0)throw new Error("negative radius: "+l);if(null===this._x1)this._+="M"+(this._x1=r)+","+(this._y1=o);else if(C>Li)if(Math.abs(v*g-m*_)>Li&&l){var b=a-d,D=u-h,T=g*g+m*m,I=b*b+D*D,x=Math.sqrt(T),S=Math.sqrt(C),P=l*Math.tan((Mg-Math.acos((T+C-I)/(2*x*S)))/2),N=P/S,A=P/x;Math.abs(N-1)>Li&&(this._+="L"+(r+N*_)+","+(o+N*v)),this._+="A"+l+","+l+",0,0,"+ +(v*b>_*D)+","+(this._x1=r+A*g)+","+(this._y1=o+A*m)}else this._+="L"+(this._x1=r)+","+(this._y1=o)},arc:function(r,o,a,u,l,d){r=+r,o=+o,d=!!d;var h=(a=+a)*Math.cos(u),g=a*Math.sin(u),m=r+h,_=o+g,v=1^d,C=d?u-l:l-u;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+m+","+_:(Math.abs(this._x1-m)>Li||Math.abs(this._y1-_)>Li)&&(this._+="L"+m+","+_),a&&(C<0&&(C=C%Sg+Sg),C>Zn?this._+="A"+a+","+a+",0,1,"+v+","+(r-h)+","+(o-g)+"A"+a+","+a+",0,1,"+v+","+(this._x1=m)+","+(this._y1=_):C>Li&&(this._+="A"+a+","+a+",0,"+ +(C>=Mg)+","+v+","+(this._x1=r+a*Math.cos(l))+","+(this._y1=o+a*Math.sin(l))))},rect:function(r,o,a,u){this._+="M"+(this._x0=this._x1=+r)+","+(this._y0=this._y1=+o)+"h"+ +a+"v"+ +u+"h"+-a+"Z"},toString:function(){return this._}};const Go=Tg;var Hn=Array.prototype.slice;function di(r){return function(){return r}}function Ig(r){return r.source}function A2(r){return r.target}function d1(r){return r.radius}function h1(r){return r.startAngle}function R2(r){return r.endAngle}function p1(){return 0}function N2(){return 10}function Ag(r){var o=Ig,a=A2,u=d1,l=d1,d=h1,h=R2,g=p1,m=null;function _(){var v,C=o.apply(this,arguments),b=a.apply(this,arguments),D=g.apply(this,arguments)/2,T=Hn.call(arguments),I=+u.apply(this,(T[0]=C,T)),x=d.apply(this,T)-Gc,S=h.apply(this,T)-Gc,P=+l.apply(this,(T[0]=b,T)),N=d.apply(this,T)-Gc,A=h.apply(this,T)-Gc;if(m||(m=v=Go()),D>Dg&&(Vs(S-x)>2*D+Dg?S>x?(x+=D,S-=D):(x-=D,S+=D):x=S=(x+S)/2,Vs(A-N)>2*D+Dg?A>N?(N+=D,A-=D):(N-=D,A+=D):N=A=(N+A)/2),m.moveTo(I*Fi(x),I*cu(x)),m.arc(0,0,I,x,S),x!==N||S!==A)if(r){var F=+r.apply(this,arguments),V=P-F,Q=(N+A)/2;m.quadraticCurveTo(0,0,V*Fi(N),V*cu(N)),m.lineTo(P*Fi(Q),P*cu(Q)),m.lineTo(V*Fi(A),V*cu(A))}else m.quadraticCurveTo(0,0,P*Fi(N),P*cu(N)),m.arc(0,0,P,N,A);if(m.quadraticCurveTo(0,0,I*Fi(x),I*cu(x)),m.closePath(),v)return m=null,v+""||null}return r&&(_.headRadius=function(v){return arguments.length?(r="function"==typeof v?v:di(+v),_):r}),_.radius=function(v){return arguments.length?(u=l="function"==typeof v?v:di(+v),_):u},_.sourceRadius=function(v){return arguments.length?(u="function"==typeof v?v:di(+v),_):u},_.targetRadius=function(v){return arguments.length?(l="function"==typeof v?v:di(+v),_):l},_.startAngle=function(v){return arguments.length?(d="function"==typeof v?v:di(+v),_):d},_.endAngle=function(v){return arguments.length?(h="function"==typeof v?v:di(+v),_):h},_.padAngle=function(v){return arguments.length?(g="function"==typeof v?v:di(+v),_):g},_.source=function(v){return arguments.length?(o=v,_):o},_.target=function(v){return arguments.length?(a=v,_):a},_.context=function(v){return arguments.length?(m=null==v?null:v,_):m},_}function P2(){return Ag()}function k2(){return Ag(N2)}const yd=Math.PI/180,_d=180/Math.PI,Pg=4/29,Yo=6/29,bd=3*Yo*Yo;function O2(r){if(r instanceof Gr)return new Gr(r.l,r.a,r.b,r.opacity);if(r instanceof Vi)return Lg(r);r instanceof An||(r=ne(r));var d,h,o=Fg(r.r),a=Fg(r.g),u=Fg(r.b),l=kg((.2225045*o+.7168786*a+.0606169*u)/1);return o===a&&a===u?d=h=l:(d=kg((.4360747*o+.3850649*a+.1430804*u)/.96422),h=kg((.0139322*o+.0971045*a+.7141733*u)/.82521)),new Gr(116*l-16,500*(d-l),200*(l-h),r.opacity)}function fu(r,o){return new Gr(r,0,0,null==o?1:o)}function du(r,o,a,u){return 1===arguments.length?O2(r):new Gr(r,o,a,null==u?1:u)}function Gr(r,o,a,u){this.l=+r,this.a=+o,this.b=+a,this.opacity=+u}function kg(r){return r>.008856451679035631?Math.pow(r,1/3):r/bd+Pg}function Qc(r){return r>Yo?r*r*r:bd*(r-Pg)}function Og(r){return 255*(r<=.0031308?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function Fg(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function m1(r){if(r instanceof Vi)return new Vi(r.h,r.c,r.l,r.opacity);if(r instanceof Gr||(r=O2(r)),0===r.a&&0===r.b)return new Vi(NaN,0<r.l&&r.l<100?0:NaN,r.l,r.opacity);var o=Math.atan2(r.b,r.a)*_d;return new Vi(o<0?o+360:o,Math.sqrt(r.a*r.a+r.b*r.b),r.l,r.opacity)}function F2(r,o,a,u){return 1===arguments.length?m1(r):new Vi(a,o,r,null==u?1:u)}function wd(r,o,a,u){return 1===arguments.length?m1(r):new Vi(r,o,a,null==u?1:u)}function Vi(r,o,a,u){this.h=+r,this.c=+o,this.l=+a,this.opacity=+u}function Lg(r){if(isNaN(r.h))return new Gr(r.l,0,0,r.opacity);var o=r.h*yd;return new Gr(r.l,Math.cos(o)*r.c,Math.sin(o)*r.c,r.opacity)}Ka(Gr,du,Qf(li,{brighter:function(r){return new Gr(this.l+18*(null==r?1:r),this.a,this.b,this.opacity)},darker:function(r){return new Gr(this.l-18*(null==r?1:r),this.a,this.b,this.opacity)},rgb:function(){var r=(this.l+16)/116,o=isNaN(this.a)?r:r+this.a/500,a=isNaN(this.b)?r:r-this.b/200;return new An(Og(3.1338561*(o=.96422*Qc(o))-1.6168667*(r=1*Qc(r))-.4906146*(a=.82521*Qc(a))),Og(-.9787684*o+1.9161415*r+.033454*a),Og(.0719453*o-.2289914*r+1.4052427*a),this.opacity)}})),Ka(Vi,wd,Qf(li,{brighter:function(r){return new Vi(this.h,this.c,this.l+18*(null==r?1:r),this.opacity)},darker:function(r){return new Vi(this.h,this.c,this.l-18*(null==r?1:r),this.opacity)},rgb:function(){return Lg(this).rgb()}}));var Dd=1.78277,Kc=-.29227,Ed=-.90649,Zc=1.97294,Vg=Zc*Ed,Bg=Zc*Dd,Qo=Dd*Kc- -.14861*Ed;function y1(r){if(r instanceof Bs)return new Bs(r.h,r.s,r.l,r.opacity);r instanceof An||(r=ne(r));var a=r.g/255,u=r.b/255,l=(Qo*u+Vg*(r.r/255)-Bg*a)/(Qo+Vg-Bg),d=u-l,h=(Zc*(a-l)-Kc*d)/Ed,g=Math.sqrt(h*h+d*d)/(Zc*l*(1-l)),m=g?Math.atan2(h,d)*_d-120:NaN;return new Bs(m<0?m+360:m,g,l,r.opacity)}function Yr(r,o,a,u){return 1===arguments.length?y1(r):new Bs(r,o,a,null==u?1:u)}function Bs(r,o,a,u){this.h=+r,this.s=+o,this.l=+a,this.opacity=+u}Ka(Bs,Yr,Qf(li,{brighter:function(r){return r=null==r?Za:Math.pow(Za,r),new Bs(this.h,this.s,this.l*r,this.opacity)},darker:function(r){return r=null==r?.7:Math.pow(.7,r),new Bs(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=isNaN(this.h)?0:(this.h+120)*yd,o=+this.l,a=isNaN(this.s)?0:this.s*o*(1-o),u=Math.cos(r),l=Math.sin(r);return new An(255*(o+a*(-.14861*u+Dd*l)),255*(o+a*(Kc*u+Ed*l)),255*(o+a*(Zc*u)),this.opacity)}}));var _1=Array.prototype.slice;function v1(r,o){return r-o}const po=r=>()=>r;function jg(r,o){for(var l,a=-1,u=o.length;++a<u;)if(l=w1(r,o[a]))return l;return 0}function w1(r,o){for(var a=o[0],u=o[1],l=-1,d=0,h=r.length,g=h-1;d<h;g=d++){var m=r[d],_=m[0],v=m[1],C=r[g],b=C[0],D=C[1];if(Md(m,C,o))return 0;v>u!=D>u&&a<(b-_)*(u-v)/(D-v)+_&&(l=-l)}return l}function Md(r,o,a){var u;return function(r,o,a){return(o[0]-r[0])*(a[1]-r[1])==(a[0]-r[0])*(o[1]-r[1])}(r,o,a)&&function(r,o,a){return r<=o&&o<=a||a<=o&&o<=r}(r[u=+(r[0]===o[0])],a[u],o[u])}function Ug(){}var hi=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Td(){var r=1,o=1,a=et,u=m;function l(_){var v=a(_);if(Array.isArray(v))v=v.slice().sort(v1);else{var C=ai(_),b=C[0],D=C[1];v=Te(b,D,v),v=Se(Math.floor(b/v)*v,Math.floor(D/v)*v,v)}return v.map(function(T){return d(_,T)})}function d(_,v){var C=[],b=[];return function(_,v,C){var T,I,S,P,N,b=new Array,D=new Array;for(T=I=-1,hi[(S=_[0]>=v)<<1].forEach(A);++T<r-1;)hi[S|(S=_[T+1]>=v)<<1].forEach(A);for(hi[S<<0].forEach(A);++I<o-1;){for(T=-1,hi[(S=_[I*r+r]>=v)<<1|(P=_[I*r]>=v)<<2].forEach(A);++T<r-1;)N=P,hi[S|(S=_[I*r+r+T+1]>=v)<<1|(P=_[I*r+T+1]>=v)<<2|N<<3].forEach(A);hi[S|P<<3].forEach(A)}for(T=-1,hi[(P=_[I*r]>=v)<<2].forEach(A);++T<r-1;)N=P,hi[(P=_[I*r+T+1]>=v)<<2|N<<3].forEach(A);function A(F){var H,j,V=[F[0][0]+T,F[0][1]+I],Q=[F[1][0]+T,F[1][1]+I],Z=g(V),te=g(Q);(H=D[Z])?(j=b[te])?(delete D[H.end],delete b[j.start],H===j?(H.ring.push(Q),C(H.ring)):b[H.start]=D[j.end]={start:H.start,end:j.end,ring:H.ring.concat(j.ring)}):(delete D[H.end],H.ring.push(Q),D[H.end=te]=H):(H=b[te])?(j=D[Z])?(delete b[H.start],delete D[j.end],H===j?(H.ring.push(Q),C(H.ring)):b[j.start]=D[H.end]={start:j.start,end:H.end,ring:j.ring.concat(H.ring)}):(delete b[H.start],H.ring.unshift(V),b[H.start=Z]=H):b[Z]=D[te]={start:Z,end:te,ring:[V,Q]}}hi[P<<3].forEach(A)}(_,v,function(D){u(D,_,v),function(r){for(var o=0,a=r.length,u=r[a-1][1]*r[0][0]-r[a-1][0]*r[0][1];++o<a;)u+=r[o-1][1]*r[o][0]-r[o-1][0]*r[o][1];return u}(D)>0?C.push([D]):b.push(D)}),b.forEach(function(D){for(var x,T=0,I=C.length;T<I;++T)if(-1!==jg((x=C[T])[0],D))return void x.push(D)}),{type:"MultiPolygon",value:v,coordinates:C}}function g(_){return 2*_[0]+_[1]*(r+1)*4}function m(_,v,C){_.forEach(function(b){var S,D=b[0],T=b[1],I=0|D,x=0|T,P=v[x*r+I];D>0&&D<r&&I===D&&(b[0]=D+(C-(S=v[x*r+I-1]))/(P-S)-.5),T>0&&T<o&&x===T&&(b[1]=T+(C-(S=v[(x-1)*r+I]))/(P-S)-.5)})}return l.contour=d,l.size=function(_){if(!arguments.length)return[r,o];var v=Math.floor(_[0]),C=Math.floor(_[1]);if(!(v>=0&&C>=0))throw new Error("invalid size");return r=v,o=C,l},l.thresholds=function(_){return arguments.length?(a="function"==typeof _?_:Array.isArray(_)?po(_1.call(_)):po(_),l):a},l.smooth=function(_){return arguments.length?(u=_?m:Ug,l):u===m},l}function js(r,o,a){for(var u=r.width,l=r.height,d=1+(a<<1),h=0;h<l;++h)for(var g=0,m=0;g<u+a;++g)g<u&&(m+=r.data[g+h*u]),g>=a&&(g>=d&&(m-=r.data[g-d+h*u]),o.data[g-a+h*u]=m/Math.min(g+1,u-1+d-g,d))}function $g(r,o,a){for(var u=r.width,l=r.height,d=1+(a<<1),h=0;h<u;++h)for(var g=0,m=0;g<l+a;++g)g<l&&(m+=r.data[h+g*u]),g>=a&&(g>=d&&(m-=r.data[h+(g-d)*u]),o.data[h+(g-a)*u]=m/Math.min(g+1,l-1+d-g,d))}function D1(r){return r[0]}function L2(r){return r[1]}function V2(){return 1}function E1(){var r=D1,o=L2,a=V2,u=960,l=500,d=20,h=2,g=3*d,m=u+2*g>>h,_=l+2*g>>h,v=po(20);function C(S){var P=new Float32Array(m*_),N=new Float32Array(m*_);S.forEach(function(V,Q,Z){var te=+r(V,Q,Z)+g>>h,H=+o(V,Q,Z)+g>>h,j=+a(V,Q,Z);te>=0&&te<m&&H>=0&&H<_&&(P[te+H*m]+=j)}),js({width:m,height:_,data:P},{width:m,height:_,data:N},d>>h),$g({width:m,height:_,data:N},{width:m,height:_,data:P},d>>h),js({width:m,height:_,data:P},{width:m,height:_,data:N},d>>h),$g({width:m,height:_,data:N},{width:m,height:_,data:P},d>>h),js({width:m,height:_,data:P},{width:m,height:_,data:N},d>>h),$g({width:m,height:_,data:N},{width:m,height:_,data:P},d>>h);var A=v(P);if(!Array.isArray(A)){var F=xe(P);A=Te(0,F,A),(A=Se(0,Math.floor(F/A)*A,A)).shift()}return Td().thresholds(A).size([m,_])(P).map(b)}function b(S){return S.value*=Math.pow(2,-2*h),S.coordinates.forEach(D),S}function D(S){S.forEach(T)}function T(S){S.forEach(I)}function I(S){S[0]=S[0]*Math.pow(2,h)-g,S[1]=S[1]*Math.pow(2,h)-g}function x(){return m=u+2*(g=3*d)>>h,_=l+2*g>>h,C}return C.x=function(S){return arguments.length?(r="function"==typeof S?S:po(+S),C):r},C.y=function(S){return arguments.length?(o="function"==typeof S?S:po(+S),C):o},C.weight=function(S){return arguments.length?(a="function"==typeof S?S:po(+S),C):a},C.size=function(S){if(!arguments.length)return[u,l];var P=+S[0],N=+S[1];if(!(P>=0&&N>=0))throw new Error("invalid size");return u=P,l=N,x()},C.cellSize=function(S){if(!arguments.length)return 1<<h;if(!((S=+S)>=1))throw new Error("invalid cell size");return h=Math.floor(Math.log(S)/Math.LN2),x()},C.thresholds=function(S){return arguments.length?(v="function"==typeof S?S:Array.isArray(S)?po(_1.call(S)):po(S),C):v},C.bandwidth=function(S){if(!arguments.length)return Math.sqrt(d*(d+1));if(!((S=+S)>=0))throw new Error("invalid bandwidth");return d=Math.round((Math.sqrt(4*S*S+1)-1)/2),x()},C}const Id=Math.pow(2,-52),Us=new Uint32Array(512);class hu{static from(o,a=x1,u=zs){const l=o.length,d=new Float64Array(2*l);for(let h=0;h<l;h++){const g=o[h];d[2*h]=a(g),d[2*h+1]=u(g)}return new hu(d)}constructor(o){const a=o.length>>1;if(a>0&&"number"!=typeof o[0])throw new Error("Expected coords to contain numbers.");this.coords=o;const u=Math.max(2*a-5,0);this._triangles=new Uint32Array(3*u),this._halfedges=new Int32Array(3*u),this._hashSize=Math.ceil(Math.sqrt(a)),this._hullPrev=new Uint32Array(a),this._hullNext=new Uint32Array(a),this._hullTri=new Uint32Array(a),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(a),this._dists=new Float64Array(a),this.update()}update(){const{coords:o,_hullPrev:a,_hullNext:u,_hullTri:l,_hullHash:d}=this,h=o.length>>1;let g=1/0,m=1/0,_=-1/0,v=-1/0;for(let H=0;H<h;H++){const j=o[2*H],J=o[2*H+1];j<g&&(g=j),J<m&&(m=J),j>_&&(_=j),J>v&&(v=J),this._ids[H]=H}const C=(g+_)/2,b=(m+v)/2;let T,I,x,D=1/0;for(let H=0;H<h;H++){const j=Hg(C,b,o[2*H],o[2*H+1]);j<D&&(T=H,D=j)}const S=o[2*T],P=o[2*T+1];D=1/0;for(let H=0;H<h;H++){if(H===T)continue;const j=Hg(S,P,o[2*H],o[2*H+1]);j<D&&j>0&&(I=H,D=j)}let N=o[2*I],A=o[2*I+1],F=1/0;for(let H=0;H<h;H++){if(H===T||H===I)continue;const j=Ad(S,P,N,A,o[2*H],o[2*H+1]);j<F&&(x=H,F=j)}let V=o[2*x],Q=o[2*x+1];if(F===1/0){for(let J=0;J<h;J++)this._dists[J]=o[2*J]-o[0]||o[2*J+1]-o[1];Hs(this._ids,this._dists,0,h-1);const H=new Uint32Array(h);let j=0;for(let J=0,Y=-1/0;J<h;J++){const B=this._ids[J];this._dists[B]>Y&&(H[j++]=B,Y=this._dists[B])}return this.hull=H.subarray(0,j),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(qg(S,P,N,A,V,Q)){const H=I,j=N,J=A;I=x,N=V,A=Q,x=H,V=j,Q=J}const Z=function(r,o,a,u,l,d){const h=a-r,g=u-o,m=l-r,_=d-o,v=h*h+g*g,C=m*m+_*_,b=.5/(h*_-g*m);return{x:r+(_*v-g*C)*b,y:o+(h*C-m*v)*b}}(S,P,N,A,V,Q);this._cx=Z.x,this._cy=Z.y;for(let H=0;H<h;H++)this._dists[H]=Hg(o[2*H],o[2*H+1],Z.x,Z.y);Hs(this._ids,this._dists,0,h-1),this._hullStart=T;let te=3;u[T]=a[x]=I,u[I]=a[T]=x,u[x]=a[I]=T,l[T]=0,l[I]=1,l[x]=2,d.fill(-1),d[this._hashKey(S,P)]=T,d[this._hashKey(N,A)]=I,d[this._hashKey(V,Q)]=x,this.trianglesLen=0,this._addTriangle(T,I,x,-1,-1,-1);for(let j,J,H=0;H<this._ids.length;H++){const Y=this._ids[H],B=o[2*Y],$=o[2*Y+1];if(H>0&&Math.abs(B-j)<=Id&&Math.abs($-J)<=Id||(j=B,J=$,Y===T||Y===I||Y===x))continue;let z=0;for(let De=0,Me=this._hashKey(B,$);De<this._hashSize&&(z=d[(Me+De)%this._hashSize],-1===z||z===u[z]);De++);z=a[z];let ie,ee=z;for(;ie=u[ee],!qg(B,$,o[2*ee],o[2*ee+1],o[2*ie],o[2*ie+1]);)if(ee=ie,ee===z){ee=-1;break}if(-1===ee)continue;let ue=this._addTriangle(ee,Y,u[ee],-1,-1,l[ee]);l[Y]=this._legalize(ue+2),l[ee]=ue,te++;let pe=u[ee];for(;ie=u[pe],qg(B,$,o[2*pe],o[2*pe+1],o[2*ie],o[2*ie+1]);)ue=this._addTriangle(pe,Y,ie,l[Y],-1,l[pe]),l[Y]=this._legalize(ue+2),u[pe]=pe,te--,pe=ie;if(ee===z)for(;ie=a[ee],qg(B,$,o[2*ie],o[2*ie+1],o[2*ee],o[2*ee+1]);)ue=this._addTriangle(ie,Y,ee,-1,l[ee],l[ie]),this._legalize(ue+2),l[ie]=ue,u[ee]=ee,te--,ee=ie;this._hullStart=a[Y]=ee,u[ee]=a[pe]=Y,u[Y]=pe,d[this._hashKey(B,$)]=Y,d[this._hashKey(o[2*ee],o[2*ee+1])]=ee}this.hull=new Uint32Array(te);for(let H=0,j=this._hullStart;H<te;H++)this.hull[H]=j,j=u[j];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(o,a){return Math.floor(function(r,o){const a=r/(Math.abs(r)+Math.abs(o));return(o>0?3-a:1+a)/4}(o-this._cx,a-this._cy)*this._hashSize)%this._hashSize}_legalize(o){const{_triangles:a,_halfedges:u,coords:l}=this;let d=0,h=0;for(;;){const g=u[o],m=o-o%3;if(h=m+(o+2)%3,-1===g){if(0===d)break;o=Us[--d];continue}const _=g-g%3,C=_+(g+2)%3,b=a[h],D=a[o],T=a[m+(o+1)%3],I=a[C];if(B2(l[2*b],l[2*b+1],l[2*D],l[2*D+1],l[2*T],l[2*T+1],l[2*I],l[2*I+1])){a[o]=I,a[g]=b;const S=u[C];if(-1===S){let N=this._hullStart;do{if(this._hullTri[N]===C){this._hullTri[N]=o;break}N=this._hullPrev[N]}while(N!==this._hullStart)}this._link(o,S),this._link(g,u[h]),this._link(h,C);const P=_+(g+1)%3;d<Us.length&&(Us[d++]=P)}else{if(0===d)break;o=Us[--d]}}return h}_link(o,a){this._halfedges[o]=a,-1!==a&&(this._halfedges[a]=o)}_addTriangle(o,a,u,l,d,h){const g=this.trianglesLen;return this._triangles[g]=o,this._triangles[g+1]=a,this._triangles[g+2]=u,this._link(g,l),this._link(g+1,d),this._link(g+2,h),this.trianglesLen+=3,g}}function Hg(r,o,a,u){const l=r-a,d=o-u;return l*l+d*d}function zg(r,o,a,u,l,d){const h=(u-o)*(l-r),g=(a-r)*(d-o);return Math.abs(h-g)>=33306690738754716e-32*Math.abs(h+g)?h-g:0}function qg(r,o,a,u,l,d){return(zg(l,d,r,o,a,u)||zg(r,o,a,u,l,d)||zg(a,u,l,d,r,o))<0}function B2(r,o,a,u,l,d,h,g){const m=r-h,_=o-g,v=a-h,C=u-g,b=l-h,D=d-g,I=v*v+C*C,x=b*b+D*D;return m*(C*x-I*D)-_*(v*x-I*b)+(m*m+_*_)*(v*D-C*b)<0}function Ad(r,o,a,u,l,d){const h=a-r,g=u-o,m=l-r,_=d-o,v=h*h+g*g,C=m*m+_*_,b=.5/(h*_-g*m),D=(_*v-g*C)*b,T=(h*C-m*v)*b;return D*D+T*T}function Hs(r,o,a,u){if(u-a<=20)for(let l=a+1;l<=u;l++){const d=r[l],h=o[d];let g=l-1;for(;g>=a&&o[r[g]]>h;)r[g+1]=r[g--];r[g+1]=d}else{let d=a+1,h=u;pu(r,a+u>>1,d),o[r[a]]>o[r[u]]&&pu(r,a,u),o[r[d]]>o[r[u]]&&pu(r,d,u),o[r[a]]>o[r[d]]&&pu(r,a,d);const g=r[d],m=o[g];for(;;){do{d++}while(o[r[d]]<m);do{h--}while(o[r[h]]>m);if(h<d)break;pu(r,d,h)}r[a+1]=r[h],r[h]=g,u-d+1>=h-a?(Hs(r,o,d,u),Hs(r,o,a,h-1)):(Hs(r,o,a,h-1),Hs(r,o,d,u))}}function pu(r,o,a){const u=r[o];r[o]=r[a],r[a]=u}function x1(r){return r[0]}function zs(r){return r[1]}class qs{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(o,a){this._+=`M${this._x0=this._x1=+o},${this._y0=this._y1=+a}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(o,a){this._+=`L${this._x1=+o},${this._y1=+a}`}arc(o,a,u){const l=(o=+o)+(u=+u),d=a=+a;if(u<0)throw new Error("negative radius");null===this._x1?this._+=`M${l},${d}`:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-d)>1e-6)&&(this._+="L"+l+","+d),u&&(this._+=`A${u},${u},0,1,1,${o-u},${a}A${u},${u},0,1,1,${this._x1=l},${this._y1=d}`)}rect(o,a,u,l){this._+=`M${this._x0=this._x1=+o},${this._y0=this._y1=+a}h${+u}v${+l}h${-u}Z`}value(){return this._||null}}class Gg{constructor(){this._=[]}moveTo(o,a){this._.push([o,a])}closePath(){this._.push(this._[0].slice())}lineTo(o,a){this._.push([o,a])}value(){return this._.length?this._:null}}class S1{constructor(o,[a,u,l,d]=[0,0,960,500]){if(!((l=+l)>=(a=+a)&&(d=+d)>=(u=+u)))throw new Error("invalid bounds");this.delaunay=o,this._circumcenters=new Float64Array(2*o.points.length),this.vectors=new Float64Array(2*o.points.length),this.xmax=l,this.xmin=a,this.ymax=d,this.ymin=u,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:o,hull:a,triangles:u},vectors:l}=this,d=this.circumcenters=this._circumcenters.subarray(0,u.length/3*2);for(let x,S,D=0,T=0,I=u.length;D<I;D+=3,T+=2){const P=2*u[D],N=2*u[D+1],A=2*u[D+2],F=o[P],V=o[P+1],te=o[A],H=o[A+1],j=o[N]-F,J=o[N+1]-V,Y=te-F,B=H-V,$=j*j+J*J,z=Y*Y+B*B,ee=2*(j*B-J*Y);if(ee)if(Math.abs(ee)<1e-8)x=(F+te)/2,S=(V+H)/2;else{const ie=1/ee;x=F+(B*$-J*z)*ie,S=V+(j*z-Y*$)*ie}else x=(F+te)/2-1e8*B,S=(V+H)/2+1e8*Y;d[T]=x,d[T+1]=S}let g,_,C,h=a[a.length-1],m=4*h,v=o[2*h],b=o[2*h+1];l.fill(0);for(let D=0;D<a.length;++D)h=a[D],g=m,_=v,C=b,m=4*h,v=o[2*h],b=o[2*h+1],l[g+2]=l[m]=C-b,l[g+3]=l[m+1]=v-_}render(o){const a=null==o?o=new qs:void 0,{delaunay:{halfedges:u,inedges:l,hull:d},circumcenters:h,vectors:g}=this;if(d.length<=1)return null;for(let v=0,C=u.length;v<C;++v){const b=u[v];if(b<v)continue;const D=2*Math.floor(v/3),T=2*Math.floor(b/3);this._renderSegment(h[D],h[D+1],h[T],h[T+1],o)}let m,_=d[d.length-1];for(let v=0;v<d.length;++v){m=_,_=d[v];const C=2*Math.floor(l[_]/3),b=h[C],D=h[C+1],T=4*m,I=this._project(b,D,g[T+2],g[T+3]);I&&this._renderSegment(b,D,I[0],I[1],o)}return a&&a.value()}renderBounds(o){const a=null==o?o=new qs:void 0;return o.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),a&&a.value()}renderCell(o,a){const u=null==a?a=new qs:void 0,l=this._clip(o);if(null===l||!l.length)return;a.moveTo(l[0],l[1]);let d=l.length;for(;l[0]===l[d-2]&&l[1]===l[d-1]&&d>1;)d-=2;for(let h=2;h<d;h+=2)(l[h]!==l[h-2]||l[h+1]!==l[h-1])&&a.lineTo(l[h],l[h+1]);return a.closePath(),u&&u.value()}*cellPolygons(){const{delaunay:{points:o}}=this;for(let a=0,u=o.length/2;a<u;++a){const l=this.cellPolygon(a);l&&(l.index=a,yield l)}}cellPolygon(o){const a=new Gg;return this.renderCell(o,a),a.value()}_renderSegment(o,a,u,l,d){let h;const g=this._regioncode(o,a),m=this._regioncode(u,l);0===g&&0===m?(d.moveTo(o,a),d.lineTo(u,l)):(h=this._clipSegment(o,a,u,l,g,m))&&(d.moveTo(h[0],h[1]),d.lineTo(h[2],h[3]))}contains(o,a,u){return(a=+a)==a&&(u=+u)==u&&this.delaunay._step(o,a,u)===o}*neighbors(o){const a=this._clip(o);if(a)for(const u of this.delaunay.neighbors(o)){const l=this._clip(u);if(l)e:for(let d=0,h=a.length;d<h;d+=2)for(let g=0,m=l.length;g<m;g+=2)if(a[d]==l[g]&&a[d+1]==l[g+1]&&a[(d+2)%h]==l[(g+m-2)%m]&&a[(d+3)%h]==l[(g+m-1)%m]){yield u;break e}}}_cell(o){const{circumcenters:a,delaunay:{inedges:u,halfedges:l,triangles:d}}=this,h=u[o];if(-1===h)return null;const g=[];let m=h;do{const _=Math.floor(m/3);if(g.push(a[2*_],a[2*_+1]),m=m%3==2?m-2:m+1,d[m]!==o)break;m=l[m]}while(m!==h&&-1!==m);return g}_clip(o){if(0===o&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const a=this._cell(o);if(null===a)return null;const{vectors:u}=this,l=4*o;return u[l]||u[l+1]?this._clipInfinite(o,a,u[l],u[l+1],u[l+2],u[l+3]):this._clipFinite(o,a)}_clipFinite(o,a){const u=a.length;let d,h,_,C,b,l=null,g=a[u-2],m=a[u-1],v=this._regioncode(g,m);for(let D=0;D<u;D+=2)if(d=g,h=m,g=a[D],m=a[D+1],_=v,v=this._regioncode(g,m),0===_&&0===v)C=b,b=0,l?l.push(g,m):l=[g,m];else{let T,I,x,S,P;if(0===_){if(null===(T=this._clipSegment(d,h,g,m,_,v)))continue;[I,x,S,P]=T}else{if(null===(T=this._clipSegment(g,m,d,h,v,_)))continue;[S,P,I,x]=T,C=b,b=this._edgecode(I,x),C&&b&&this._edge(o,C,b,l,l.length),l?l.push(I,x):l=[I,x]}C=b,b=this._edgecode(S,P),C&&b&&this._edge(o,C,b,l,l.length),l?l.push(S,P):l=[S,P]}if(l)C=b,b=this._edgecode(l[0],l[1]),C&&b&&this._edge(o,C,b,l,l.length);else if(this.contains(o,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(o,a,u,l,d,h){for(;;){if(0===d&&0===h)return[o,a,u,l];if(d&h)return null;let g,m,_=d||h;8&_?(g=o+(u-o)*(this.ymax-a)/(l-a),m=this.ymax):4&_?(g=o+(u-o)*(this.ymin-a)/(l-a),m=this.ymin):2&_?(m=a+(l-a)*(this.xmax-o)/(u-o),g=this.xmax):(m=a+(l-a)*(this.xmin-o)/(u-o),g=this.xmin),d?d=this._regioncode(o=g,a=m):h=this._regioncode(u=g,l=m)}}_clipInfinite(o,a,u,l,d,h){let m,g=Array.from(a);if((m=this._project(g[0],g[1],u,l))&&g.unshift(m[0],m[1]),(m=this._project(g[g.length-2],g[g.length-1],d,h))&&g.push(m[0],m[1]),g=this._clipFinite(o,g))for(let C,_=0,v=g.length,b=this._edgecode(g[v-2],g[v-1]);_<v;_+=2)C=b,b=this._edgecode(g[_],g[_+1]),C&&b&&(_=this._edge(o,C,b,g,_),v=g.length);else this.contains(o,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(g=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return g}_edge(o,a,u,l,d){for(;a!==u;){let h,g;switch(a){case 5:a=4;continue;case 4:a=6,h=this.xmax,g=this.ymin;break;case 6:a=2;continue;case 2:a=10,h=this.xmax,g=this.ymax;break;case 10:a=8;continue;case 8:a=9,h=this.xmin,g=this.ymax;break;case 9:a=1;continue;case 1:a=5,h=this.xmin,g=this.ymin}(l[d]!==h||l[d+1]!==g)&&this.contains(o,h,g)&&(l.splice(d,0,h,g),d+=2)}if(l.length>4)for(let h=0;h<l.length;h+=2){const g=(h+2)%l.length,m=(h+4)%l.length;(l[h]===l[g]&&l[g]===l[m]||l[h+1]===l[g+1]&&l[g+1]===l[m+1])&&(l.splice(g,2),h-=2)}return d}_project(o,a,u,l){let h,g,m,d=1/0;if(l<0){if(a<=this.ymin)return null;(h=(this.ymin-a)/l)<d&&(m=this.ymin,g=o+(d=h)*u)}else if(l>0){if(a>=this.ymax)return null;(h=(this.ymax-a)/l)<d&&(m=this.ymax,g=o+(d=h)*u)}if(u>0){if(o>=this.xmax)return null;(h=(this.xmax-o)/u)<d&&(g=this.xmax,m=a+(d=h)*l)}else if(u<0){if(o<=this.xmin)return null;(h=(this.xmin-o)/u)<d&&(g=this.xmin,m=a+(d=h)*l)}return[g,m]}_edgecode(o,a){return(o===this.xmin?1:o===this.xmax?2:0)|(a===this.ymin?4:a===this.ymax?8:0)}_regioncode(o,a){return(o<this.xmin?1:o>this.xmax?2:0)|(a<this.ymin?4:a>this.ymax?8:0)}}const j2=2*Math.PI,Dn=Math.pow;function Bi(r){return r[0]}function T1(r){return r[1]}function $2(r,o,a){return[r+Math.sin(r+o)*a,o+Math.cos(r-o)*a]}class Yg{static from(o,a=Bi,u=T1,l){return new Yg("length"in o?function(r,o,a,u){const l=r.length,d=new Float64Array(2*l);for(let h=0;h<l;++h){const g=r[h];d[2*h]=o.call(u,g,h,r),d[2*h+1]=a.call(u,g,h,r)}return d}(o,a,u,l):Float64Array.from(function*(r,o,a,u){let l=0;for(const d of r)yield o.call(u,d,l,r),yield a.call(u,d,l,r),++l}(o,a,u,l)))}constructor(o){this._delaunator=new hu(o),this.inedges=new Int32Array(o.length/2),this._hullIndex=new Int32Array(o.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const o=this._delaunator,a=this.points;if(o.hull&&o.hull.length>2&&function(r){const{triangles:o,coords:a}=r;for(let u=0;u<o.length;u+=3){const l=2*o[u],d=2*o[u+1],h=2*o[u+2];if((a[h]-a[l])*(a[d+1]-a[l+1])-(a[d]-a[l])*(a[h+1]-a[l+1])>1e-10)return!1}return!0}(o)){this.collinear=Int32Array.from({length:a.length/2},(b,D)=>D).sort((b,D)=>a[2*b]-a[2*D]||a[2*b+1]-a[2*D+1]);const m=this.collinear[0],_=this.collinear[this.collinear.length-1],v=[a[2*m],a[2*m+1],a[2*_],a[2*_+1]],C=1e-8*Math.hypot(v[3]-v[1],v[2]-v[0]);for(let b=0,D=a.length/2;b<D;++b){const T=$2(a[2*b],a[2*b+1],C);a[2*b]=T[0],a[2*b+1]=T[1]}this._delaunator=new hu(a)}else delete this.collinear;const u=this.halfedges=this._delaunator.halfedges,l=this.hull=this._delaunator.hull,d=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),g=this._hullIndex.fill(-1);for(let m=0,_=u.length;m<_;++m){const v=d[m%3==2?m-2:m+1];(-1===u[m]||-1===h[v])&&(h[v]=m)}for(let m=0,_=l.length;m<_;++m)g[l[m]]=m;l.length<=2&&l.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=l[0],this.triangles[1]=l[1],this.triangles[2]=l[1],h[l[0]]=1,2===l.length&&(h[l[1]]=0))}voronoi(o){return new S1(this,o)}*neighbors(o){const{inedges:a,hull:u,_hullIndex:l,halfedges:d,triangles:h,collinear:g}=this;if(g){const C=g.indexOf(o);return C>0&&(yield g[C-1]),void(C<g.length-1&&(yield g[C+1]))}const m=a[o];if(-1===m)return;let _=m,v=-1;do{if(yield v=h[_],_=_%3==2?_-2:_+1,h[_]!==o)return;if(_=d[_],-1===_){const C=u[(l[o]+1)%u.length];return void(C!==v&&(yield C))}}while(_!==m)}find(o,a,u=0){if((o=+o)!=o||(a=+a)!=a)return-1;const l=u;let d;for(;(d=this._step(u,o,a))>=0&&d!==u&&d!==l;)u=d;return d}_step(o,a,u){const{inedges:l,hull:d,_hullIndex:h,halfedges:g,triangles:m,points:_}=this;if(-1===l[o]||!_.length)return(o+1)%(_.length>>1);let v=o,C=Dn(a-_[2*o],2)+Dn(u-_[2*o+1],2);const b=l[o];let D=b;do{let T=m[D];const I=Dn(a-_[2*T],2)+Dn(u-_[2*T+1],2);if(I<C&&(C=I,v=T),D=D%3==2?D-2:D+1,m[D]!==o)break;if(D=g[D],-1===D){if(D=d[(h[o]+1)%d.length],D!==T&&Dn(a-_[2*D],2)+Dn(u-_[2*D+1],2)<C)return D;break}}while(D!==b);return v}render(o){const a=null==o?o=new qs:void 0,{points:u,halfedges:l,triangles:d}=this;for(let h=0,g=l.length;h<g;++h){const m=l[h];if(m<h)continue;const _=2*d[h],v=2*d[m];o.moveTo(u[_],u[_+1]),o.lineTo(u[v],u[v+1])}return this.renderHull(o),a&&a.value()}renderPoints(o,a=2){const u=null==o?o=new qs:void 0,{points:l}=this;for(let d=0,h=l.length;d<h;d+=2){const g=l[d],m=l[d+1];o.moveTo(g+a,m),o.arc(g,m,a,0,j2)}return u&&u.value()}renderHull(o){const a=null==o?o=new qs:void 0,{hull:u,points:l}=this,d=2*u[0],h=u.length;o.moveTo(l[d],l[d+1]);for(let g=1;g<h;++g){const m=2*u[g];o.lineTo(l[m],l[m+1])}return o.closePath(),a&&a.value()}hullPolygon(){const o=new Gg;return this.renderHull(o),o.value()}renderTriangle(o,a){const u=null==a?a=new qs:void 0,{points:l,triangles:d}=this,h=2*d[o*=3],g=2*d[o+1],m=2*d[o+2];return a.moveTo(l[h],l[h+1]),a.lineTo(l[g],l[g+1]),a.lineTo(l[m],l[m+1]),a.closePath(),u&&u.value()}*trianglePolygons(){const{triangles:o}=this;for(let a=0,u=o.length/3;a<u;++a)yield this.trianglePolygon(a)}trianglePolygon(o){const a=new Gg;return this.renderTriangle(o,a),a.value()}}const Xc=r=>()=>r;function Qg(r,{sourceEvent:o,subject:a,target:u,identifier:l,active:d,x:h,y:g,dx:m,dy:_,dispatch:v}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},subject:{value:a,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},identifier:{value:l,enumerable:!0,configurable:!0},active:{value:d,enumerable:!0,configurable:!0},x:{value:h,enumerable:!0,configurable:!0},y:{value:g,enumerable:!0,configurable:!0},dx:{value:m,enumerable:!0,configurable:!0},dy:{value:_,enumerable:!0,configurable:!0},_:{value:v}})}function q2(r){return!r.ctrlKey&&!r.button}function W2(){return this.parentNode}function G2(r,o){return null==o?{x:r.x,y:r.y}:o}function qI(){return navigator.maxTouchPoints||"ontouchstart"in this}function Y2(){var g,m,_,v,r=q2,o=W2,a=G2,u=qI,l={},d=qa("start","drag","end"),h=0,C=0;function b(A){A.on("mousedown.drag",D).filter(u).on("touchstart.drag",x).on("touchmove.drag",S).on("touchend.drag touchcancel.drag",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function D(A,F){if(!v&&r.call(this,A,F)){var V=N(this,o.call(this,A,F),A,F,"mouse");!V||(ft(A.view).on("mousemove.drag",T,!0).on("mouseup.drag",I,!0),Yf(A.view),B_(A),_=!1,g=A.clientX,m=A.clientY,V("start",A))}}function T(A){if(Ss(A),!_){var F=A.clientX-g,V=A.clientY-m;_=F*F+V*V>C}l.mouse("drag",A)}function I(A){ft(A.view).on("mousemove.drag mouseup.drag",null),Wt(A.view,_),Ss(A),l.mouse("end",A)}function x(A,F){if(r.call(this,A,F)){var te,H,V=A.changedTouches,Q=o.call(this,A,F),Z=V.length;for(te=0;te<Z;++te)(H=N(this,Q,A,F,V[te].identifier,V[te]))&&(B_(A),H("start",A,V[te]))}}function S(A){var Q,Z,F=A.changedTouches,V=F.length;for(Q=0;Q<V;++Q)(Z=l[F[Q].identifier])&&(Ss(A),Z("drag",A,F[Q]))}function P(A){var Q,Z,F=A.changedTouches,V=F.length;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),Q=0;Q<V;++Q)(Z=l[F[Q].identifier])&&(B_(A),Z("end",A,F[Q]))}function N(A,F,V,Q,Z,te){var J,Y,B,H=d.copy(),j=pt(te||V,F);if(null!=(B=a.call(A,new Qg("beforestart",{sourceEvent:V,target:b,identifier:Z,active:h,x:j[0],y:j[1],dx:0,dy:0,dispatch:H}),Q)))return J=B.x-j[0]||0,Y=B.y-j[1]||0,function $(z,ee,ie){var pe,ue=j;switch(z){case"start":l[Z]=$,pe=h++;break;case"end":delete l[Z],--h;case"drag":j=pt(ie||ee,F),pe=h}H.call(z,A,new Qg(z,{sourceEvent:ee,subject:B,target:b,identifier:Z,active:pe,x:j[0]+J,y:j[1]+Y,dx:j[0]-ue[0],dy:j[1]-ue[1],dispatch:H}),Q)}}return b.filter=function(A){return arguments.length?(r="function"==typeof A?A:Xc(!!A),b):r},b.container=function(A){return arguments.length?(o="function"==typeof A?A:Xc(A),b):o},b.subject=function(A){return arguments.length?(a="function"==typeof A?A:Xc(A),b):a},b.touchable=function(A){return arguments.length?(u="function"==typeof A?A:Xc(!!A),b):u},b.on=function(){var A=d.on.apply(d,arguments);return A===d?b:A},b.clickDistance=function(A){return arguments.length?(C=(A=+A)*A,b):Math.sqrt(C)},b}Qg.prototype.on=function(){var r=this._.on.apply(this._,arguments);return r===this._?this:r};var gu={},Rd={};function Kg(r){return new Function("d","return {"+r.map(function(o,a){return JSON.stringify(o)+": d["+a+'] || ""'}).join(",")+"}")}function Q2(r){var o=Object.create(null),a=[];return r.forEach(function(u){for(var l in u)l in o||a.push(o[l]=l)}),a}function xr(r,o){var a=r+"",u=a.length;return u<o?new Array(o-u+1).join(0)+a:a}function mu(r){var o=new RegExp('["'+r+"\n\r]"),a=r.charCodeAt(0);function l(C,b){var S,D=[],T=C.length,I=0,x=0,P=T<=0,N=!1;function A(){if(P)return Rd;if(N)return N=!1,gu;var V,Z,Q=I;if(34===C.charCodeAt(Q)){for(;I++<T&&34!==C.charCodeAt(I)||34===C.charCodeAt(++I););return(V=I)>=T?P=!0:10===(Z=C.charCodeAt(I++))?N=!0:13===Z&&(N=!0,10===C.charCodeAt(I)&&++I),C.slice(Q+1,V-1).replace(/""/g,'"')}for(;I<T;){if(10===(Z=C.charCodeAt(V=I++)))N=!0;else if(13===Z)N=!0,10===C.charCodeAt(I)&&++I;else if(Z!==a)continue;return C.slice(Q,V)}return P=!0,C.slice(Q,T)}for(10===C.charCodeAt(T-1)&&--T,13===C.charCodeAt(T-1)&&--T;(S=A())!==Rd;){for(var F=[];S!==gu&&S!==Rd;)F.push(S),S=A();b&&null==(F=b(F,x++))||D.push(F)}return D}function d(C,b){return C.map(function(D){return b.map(function(T){return v(D[T])}).join(r)})}function _(C){return C.map(v).join(r)}function v(C){return null==C?"":C instanceof Date?function(r){var o=r.getUTCHours(),a=r.getUTCMinutes(),u=r.getUTCSeconds(),l=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":function(r){return r<0?"-"+xr(-r,6):r>9999?"+"+xr(r,6):xr(r,4)}(r.getUTCFullYear())+"-"+xr(r.getUTCMonth()+1,2)+"-"+xr(r.getUTCDate(),2)+(l?"T"+xr(o,2)+":"+xr(a,2)+":"+xr(u,2)+"."+xr(l,3)+"Z":u?"T"+xr(o,2)+":"+xr(a,2)+":"+xr(u,2)+"Z":a||o?"T"+xr(o,2)+":"+xr(a,2)+"Z":"")}(C):o.test(C+="")?'"'+C.replace(/"/g,'""')+'"':C}return{parse:function(C,b){var D,T,I=l(C,function(x,S){if(D)return D(x,S-1);T=x,D=b?function(r,o){var a=Kg(r);return function(u,l){return o(a(u),l,r)}}(x,b):Kg(x)});return I.columns=T||[],I},parseRows:l,format:function(C,b){return null==b&&(b=Q2(C)),[b.map(v).join(r)].concat(d(C,b)).join("\n")},formatBody:function(C,b){return null==b&&(b=Q2(C)),d(C,b).join("\n")},formatRows:function(C){return C.map(_).join("\n")},formatRow:_,formatValue:v}}var mo=mu(","),K2=mo.parse,GI=mo.parseRows,A1=mo.format,Z2=mo.formatBody,X2=mo.formatRows,J2=mo.formatRow,eE=mo.formatValue,Ko=mu("\t"),Jc=Ko.parse,R1=Ko.parseRows,Xg=Ko.format,tE=Ko.formatBody,Nt=Ko.formatRows,nE=Ko.formatRow,rE=Ko.formatValue;function Jg(r){for(var o in r){var u,l,a=r[o].trim();if(a)if("true"===a)a=!0;else if("false"===a)a=!1;else if("NaN"===a)a=NaN;else if(isNaN(u=+a)){if(!(l=a.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;N1&&!!l[4]&&!l[7]&&(a=a.replace(/-/g,"/").replace(/T/," ")),a=new Date(a)}else a=u;else a=null;r[o]=a}return r}const N1=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),iE=r=>+r;function oE(r){return r*r}function sE(r){return r*(2-r)}function P1(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}var YI=function r(o){function a(u){return Math.pow(u,o)}return o=+o,a.exponent=r,a}(3),QI=function r(o){function a(u){return 1-Math.pow(1-u,o)}return o=+o,a.exponent=r,a}(3),yu=function r(o){function a(u){return((u*=2)<=1?Math.pow(u,o):2-Math.pow(2-u,o))/2}return o=+o,a.exponent=r,a}(3),k1=Math.PI,t0=k1/2;function n0(r){return 1==+r?1:1-Math.cos(r*t0)}function O1(r){return Math.sin(r*t0)}function F1(r){return(1-Math.cos(k1*r))/2}function Ws(r){return 1.0009775171065494*(Math.pow(2,-10*r)-.0009765625)}function L1(r){return Ws(1-+r)}function Pd(r){return 1-Ws(r)}function V1(r){return((r*=2)<=1?Ws(1-r):2-Ws(r-1))/2}function aE(r){return 1-Math.sqrt(1-r*r)}function Gs(r){return Math.sqrt(1- --r*r)}function B1(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var kd=7.5625;function fE(r){return 1-ji(1-r)}function ji(r){return(r=+r)<.36363636363636365?kd*r*r:r<.7272727272727273?kd*(r-=.5454545454545454)*r+.75:r<.9090909090909091?kd*(r-=.8181818181818182)*r+.9375:kd*(r-=.9545454545454546)*r+.984375}function Ui(r){return((r*=2)<=1?1-ji(1-r):ji(r-1)+1)/2}var H1=1.70158,ZI=function r(o){function a(u){return(u=+u)*u*(o*(u-1)+u)}return o=+o,a.overshoot=r,a}(H1),z1=function r(o){function a(u){return--u*u*((u+1)*o+u)+1}return o=+o,a.overshoot=r,a}(H1),dE=function r(o){function a(u){return((u*=2)<1?u*u*((o+1)*u-o):(u-=2)*u*((o+1)*u+o)+2)/2}return o=+o,a.overshoot=r,a}(H1),Ys=2*Math.PI,hE=function r(o,a){var u=Math.asin(1/(o=Math.max(1,o)))*(a/=Ys);function l(d){return o*Ws(- --d)*Math.sin((u-d)/a)}return l.amplitude=function(d){return r(d,a*Ys)},l.period=function(d){return r(o,d)},l}(1,.3),i0=function r(o,a){var u=Math.asin(1/(o=Math.max(1,o)))*(a/=Ys);function l(d){return 1-o*Ws(d=+d)*Math.sin((d+u)/a)}return l.amplitude=function(d){return r(d,a*Ys)},l.period=function(d){return r(o,d)},l}(1,.3),pE=function r(o,a){var u=Math.asin(1/(o=Math.max(1,o)))*(a/=Ys);function l(d){return((d=2*d-1)<0?o*Ws(-d)*Math.sin((u-d)/a):2-o*Ws(d)*Math.sin((u+d)/a))/2}return l.amplitude=function(d){return r(d,a*Ys)},l.period=function(d){return r(o,d)},l}(1,.3);function gE(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.blob()}function pi(r,o){return fetch(r,o).then(gE)}function mE(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.arrayBuffer()}function W1(r,o){return fetch(r,o).then(mE)}function yE(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);return r.text()}function Fd(r,o){return fetch(r,o).then(yE)}function G1(r){return function(o,a,u){return 2===arguments.length&&"function"==typeof a&&(u=a,a=void 0),Fd(o,a).then(function(l){return r(l,u)})}}function _E(r,o,a,u){3===arguments.length&&"function"==typeof a&&(u=a,a=void 0);var l=mu(r);return Fd(o,a).then(function(d){return l.parse(d,u)})}var Y1=G1(K2),vE=G1(Jc);function bE(r,o){return new Promise(function(a,u){var l=new Image;for(var d in o)l[d]=o[d];l.onerror=u,l.onload=function(){a(l)},l.src=r})}function wE(r){if(!r.ok)throw new Error(r.status+" "+r.statusText);if(204!==r.status&&205!==r.status)return r.json()}function Qe(r,o){return fetch(r,o).then(wE)}function o0(r){return(o,a)=>Fd(o,a).then(u=>(new DOMParser).parseFromString(u,r))}const Q1=o0("application/xml");var Ld=o0("text/html"),gi=o0("image/svg+xml");function K1(r,o){var a,u=1;function l(){var d,g,h=a.length,m=0,_=0;for(d=0;d<h;++d)m+=(g=a[d]).x,_+=g.y;for(m=(m/h-r)*u,_=(_/h-o)*u,d=0;d<h;++d)(g=a[d]).x-=m,g.y-=_}return null==r&&(r=0),null==o&&(o=0),l.initialize=function(d){a=d},l.x=function(d){return arguments.length?(r=+d,l):r},l.y=function(d){return arguments.length?(o=+d,l):o},l.strength=function(d){return arguments.length?(u=+d,l):u},l}function Vd(r,o,a,u){if(isNaN(o)||isNaN(a))return r;var l,C,b,D,T,I,x,S,P,d=r._root,h={data:u},g=r._x0,m=r._y0,_=r._x1,v=r._y1;if(!d)return r._root=h,r;for(;d.length;)if((I=o>=(C=(g+_)/2))?g=C:_=C,(x=a>=(b=(m+v)/2))?m=b:v=b,l=d,!(d=d[S=x<<1|I]))return l[S]=h,r;if(D=+r._x.call(null,d.data),T=+r._y.call(null,d.data),o===D&&a===T)return h.next=d,l?l[S]=h:r._root=h,r;do{l=l?l[S]=new Array(4):r._root=new Array(4),(I=o>=(C=(g+_)/2))?g=C:_=C,(x=a>=(b=(m+v)/2))?m=b:v=b}while((S=x<<1|I)==(P=(T>=b)<<1|D>=C));return l[P]=d,l[S]=h,r}function ur(r,o,a,u,l){this.node=r,this.x0=o,this.y0=a,this.x1=u,this.y1=l}function DE(r){return r[0]}function eA(r){return r[1]}function c0(r,o,a){var u=new Ud(null==o?DE:o,null==a?eA:a,NaN,NaN,NaN,NaN);return null==r?u:u.addAll(r)}function Ud(r,o,a,u,l,d){this._x=r,this._y=o,this._x0=a,this._y0=u,this._x1=l,this._y1=d,this._root=void 0}function l0(r){for(var o={data:r.data},a=o;r=r.next;)a=a.next={data:r.data};return o}var Xn=c0.prototype=Ud.prototype;function on(r){return function(){return r}}function Qs(r){return 1e-6*(r()-.5)}function tA(r){return r.x+r.vx}function nA(r){return r.y+r.vy}function rA(r){var o,a,u,l=1,d=1;function h(){for(var _,C,b,D,T,I,x,v=o.length,S=0;S<d;++S)for(C=c0(o,tA,nA).visitAfter(g),_=0;_<v;++_)x=(I=a[(b=o[_]).index])*I,D=b.x+b.vx,T=b.y+b.vy,C.visit(P);function P(N,A,F,V,Q){var Z=N.data,te=N.r,H=I+te;if(!Z)return A>D+H||V<D-H||F>T+H||Q<T-H;if(Z.index>b.index){var j=D-Z.x-Z.vx,J=T-Z.y-Z.vy,Y=j*j+J*J;Y<H*H&&(0===j&&(Y+=(j=Qs(u))*j),0===J&&(Y+=(J=Qs(u))*J),Y=(H-(Y=Math.sqrt(Y)))/Y*l,b.vx+=(j*=Y)*(H=(te*=te)/(x+te)),b.vy+=(J*=Y)*H,Z.vx-=j*(H=1-H),Z.vy-=J*H)}}}function g(_){if(_.data)return _.r=a[_.data.index];for(var v=_.r=0;v<4;++v)_[v]&&_[v].r>_.r&&(_.r=_[v].r)}function m(){if(o){var _,C,v=o.length;for(a=new Array(v),_=0;_<v;++_)a[(C=o[_]).index]=+r(C,_,o)}}return"function"!=typeof r&&(r=on(null==r?1:+r)),h.initialize=function(_,v){o=_,u=v,m()},h.iterations=function(_){return arguments.length?(d=+_,h):d},h.strength=function(_){return arguments.length?(l=+_,h):l},h.radius=function(_){return arguments.length?(r="function"==typeof _?_:on(+_),m(),h):r},h}function iA(r){return r.index}function xE(r,o){var a=r.get(o);if(!a)throw new Error("node not found: "+o);return a}function oA(r){var u,d,h,g,m,_,o=iA,a=function(x){return 1/Math.min(g[x.source.index],g[x.target.index])},l=on(30),v=1;function b(x){for(var S=0,P=r.length;S<v;++S)for(var A,F,V,Q,Z,te,H,N=0;N<P;++N)Q=(V=(A=r[N]).target).x+V.vx-(F=A.source).x-F.vx||Qs(_),Z=V.y+V.vy-F.y-F.vy||Qs(_),Z*=te=((te=Math.sqrt(Q*Q+Z*Z))-d[N])/te*x*u[N],V.vx-=(Q*=te)*(H=m[N]),V.vy-=Z*H,F.vx+=Q*(H=1-H),F.vy+=Z*H}function D(){if(h){var x,A,S=h.length,P=r.length,N=new Map(h.map((F,V)=>[o(F,V,h),F]));for(x=0,g=new Array(S);x<P;++x)(A=r[x]).index=x,"object"!=typeof A.source&&(A.source=xE(N,A.source)),"object"!=typeof A.target&&(A.target=xE(N,A.target)),g[A.source.index]=(g[A.source.index]||0)+1,g[A.target.index]=(g[A.target.index]||0)+1;for(x=0,m=new Array(P);x<P;++x)m[x]=g[(A=r[x]).source.index]/(g[A.source.index]+g[A.target.index]);u=new Array(P),T(),d=new Array(P),I()}}function T(){if(h)for(var x=0,S=r.length;x<S;++x)u[x]=+a(r[x],x,r)}function I(){if(h)for(var x=0,S=r.length;x<S;++x)d[x]=+l(r[x],x,r)}return null==r&&(r=[]),b.initialize=function(x,S){h=x,_=S,D()},b.links=function(x){return arguments.length?(r=x,D(),b):r},b.id=function(x){return arguments.length?(o=x,b):o},b.iterations=function(x){return arguments.length?(v=+x,b):v},b.strength=function(x){return arguments.length?(a="function"==typeof x?x:on(+x),T(),b):a},b.distance=function(x){return arguments.length?(l="function"==typeof x?x:on(+x),I(),b):l},b}Xn.copy=function(){var a,u,r=new Ud(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return r;if(!o.length)return r._root=l0(o),r;for(a=[{source:o,target:r._root=new Array(4)}];o=a.pop();)for(var l=0;l<4;++l)(u=o.source[l])&&(u.length?a.push({source:u,target:o.target[l]=new Array(4)}):o.target[l]=l0(u));return r},Xn.add=function(r){const o=+this._x.call(null,r),a=+this._y.call(null,r);return Vd(this.cover(o,a),o,a,r)},Xn.addAll=function(r){var o,a,l,d,u=r.length,h=new Array(u),g=new Array(u),m=1/0,_=1/0,v=-1/0,C=-1/0;for(a=0;a<u;++a)isNaN(l=+this._x.call(null,o=r[a]))||isNaN(d=+this._y.call(null,o))||(h[a]=l,g[a]=d,l<m&&(m=l),l>v&&(v=l),d<_&&(_=d),d>C&&(C=d));if(m>v||_>C)return this;for(this.cover(m,_).cover(v,C),a=0;a<u;++a)Vd(this,h[a],g[a],r[a]);return this},Xn.cover=function(r,o){if(isNaN(r=+r)||isNaN(o=+o))return this;var a=this._x0,u=this._y0,l=this._x1,d=this._y1;if(isNaN(a))l=(a=Math.floor(r))+1,d=(u=Math.floor(o))+1;else{for(var m,_,h=l-a||1,g=this._root;a>r||r>=l||u>o||o>=d;)switch(_=(o<u)<<1|r<a,m=new Array(4),m[_]=g,g=m,h*=2,_){case 0:l=a+h,d=u+h;break;case 1:a=l-h,d=u+h;break;case 2:l=a+h,u=d-h;break;case 3:a=l-h,u=d-h}this._root&&this._root.length&&(this._root=g)}return this._x0=a,this._y0=u,this._x1=l,this._y1=d,this},Xn.data=function(){var r=[];return this.visit(function(o){if(!o.length)do{r.push(o.data)}while(o=o.next)}),r},Xn.extent=function(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Xn.find=function(r,o,a){var u,h,g,m,_,T,I,l=this._x0,d=this._y0,v=this._x1,C=this._y1,b=[],D=this._root;for(D&&b.push(new ur(D,l,d,v,C)),null==a?a=1/0:(l=r-a,d=o-a,v=r+a,C=o+a,a*=a);T=b.pop();)if(!(!(D=T.node)||(h=T.x0)>v||(g=T.y0)>C||(m=T.x1)<l||(_=T.y1)<d))if(D.length){var x=(h+m)/2,S=(g+_)/2;b.push(new ur(D[3],x,S,m,_),new ur(D[2],h,S,x,_),new ur(D[1],x,g,m,S),new ur(D[0],h,g,x,S)),(I=(o>=S)<<1|r>=x)&&(T=b[b.length-1],b[b.length-1]=b[b.length-1-I],b[b.length-1-I]=T)}else{var P=r-+this._x.call(null,D.data),N=o-+this._y.call(null,D.data),A=P*P+N*N;if(A<a){var F=Math.sqrt(a=A);l=r-F,d=o-F,v=r+F,C=o+F,u=D.data}}return u},Xn.remove=function(r){if(isNaN(v=+this._x.call(null,r))||isNaN(C=+this._y.call(null,r)))return this;var o,u,l,d,v,C,b,D,T,I,x,S,a=this._root,h=this._x0,g=this._y0,m=this._x1,_=this._y1;if(!a)return this;if(a.length)for(;;){if((T=v>=(b=(h+m)/2))?h=b:m=b,(I=C>=(D=(g+_)/2))?g=D:_=D,o=a,!(a=a[x=I<<1|T]))return this;if(!a.length)break;(o[x+1&3]||o[x+2&3]||o[x+3&3])&&(u=o,S=x)}for(;a.data!==r;)if(l=a,!(a=a.next))return this;return(d=a.next)&&delete a.next,l?(d?l.next=d:delete l.next,this):o?(d?o[x]=d:delete o[x],(a=o[0]||o[1]||o[2]||o[3])&&a===(o[3]||o[2]||o[1]||o[0])&&!a.length&&(u?u[S]=a:this._root=a),this):(this._root=d,this)},Xn.removeAll=function(r){for(var o=0,a=r.length;o<a;++o)this.remove(r[o]);return this},Xn.root=function(){return this._root},Xn.size=function(){var r=0;return this.visit(function(o){if(!o.length)do{++r}while(o=o.next)}),r},Xn.visit=function(r){var a,l,d,h,g,m,o=[],u=this._root;for(u&&o.push(new ur(u,this._x0,this._y0,this._x1,this._y1));a=o.pop();)if(!r(u=a.node,d=a.x0,h=a.y0,g=a.x1,m=a.y1)&&u.length){var _=(d+g)/2,v=(h+m)/2;(l=u[3])&&o.push(new ur(l,_,v,g,m)),(l=u[2])&&o.push(new ur(l,d,v,_,m)),(l=u[1])&&o.push(new ur(l,_,h,g,v)),(l=u[0])&&o.push(new ur(l,d,h,_,v))}return this},Xn.visitAfter=function(r){var u,o=[],a=[];for(this._root&&o.push(new ur(this._root,this._x0,this._y0,this._x1,this._y1));u=o.pop();){var l=u.node;if(l.length){var d,h=u.x0,g=u.y0,m=u.x1,_=u.y1,v=(h+m)/2,C=(g+_)/2;(d=l[0])&&o.push(new ur(d,h,g,v,C)),(d=l[1])&&o.push(new ur(d,v,g,m,C)),(d=l[2])&&o.push(new ur(d,h,C,v,_)),(d=l[3])&&o.push(new ur(d,v,C,m,_))}a.push(u)}for(;u=a.pop();)r(u.node,u.x0,u.y0,u.x1,u.y1);return this},Xn.x=function(r){return arguments.length?(this._x=r,this):this._x},Xn.y=function(r){return arguments.length?(this._y=r,this):this._y};const ME=4294967296;function Zo(r){return r.x}function f0(r){return r.y}var ev=Math.PI*(3-Math.sqrt(5));function d0(r){var o,a=1,u=.001,l=1-Math.pow(u,1/300),d=0,h=.6,g=new Map,m=od(C),_=qa("tick","end"),v=function(){let r=1;return()=>(r=(1664525*r+1013904223)%ME)/ME}();function C(){b(),_.call("tick",o),a<u&&(m.stop(),_.call("end",o))}function b(I){var x,P,S=r.length;void 0===I&&(I=1);for(var N=0;N<I;++N)for(a+=(d-a)*l,g.forEach(function(A){A(a)}),x=0;x<S;++x)null==(P=r[x]).fx?P.x+=P.vx*=h:(P.x=P.fx,P.vx=0),null==P.fy?P.y+=P.vy*=h:(P.y=P.fy,P.vy=0);return o}function D(){for(var S,I=0,x=r.length;I<x;++I){if((S=r[I]).index=I,null!=S.fx&&(S.x=S.fx),null!=S.fy&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var P=10*Math.sqrt(.5+I),N=I*ev;S.x=P*Math.cos(N),S.y=P*Math.sin(N)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function T(I){return I.initialize&&I.initialize(r,v),I}return null==r&&(r=[]),D(),o={tick:b,restart:function(){return m.restart(C),o},stop:function(){return m.stop(),o},nodes:function(I){return arguments.length?(r=I,D(),g.forEach(T),o):r},alpha:function(I){return arguments.length?(a=+I,o):a},alphaMin:function(I){return arguments.length?(u=+I,o):u},alphaDecay:function(I){return arguments.length?(l=+I,o):+l},alphaTarget:function(I){return arguments.length?(d=+I,o):d},velocityDecay:function(I){return arguments.length?(h=1-I,o):1-h},randomSource:function(I){return arguments.length?(v=I,g.forEach(T),o):v},force:function(I,x){return arguments.length>1?(null==x?g.delete(I):g.set(I,T(x)),o):g.get(I)},find:function(I,x,S){var A,F,V,Q,Z,P=0,N=r.length;for(null==S?S=1/0:S*=S,P=0;P<N;++P)(V=(A=I-(Q=r[P]).x)*A+(F=x-Q.y)*F)<S&&(Z=Q,S=V);return Z},on:function(I,x){return arguments.length>1?(_.on(I,x),o):_.on(I)}}}function tv(){var r,o,a,u,d,l=on(-30),h=1,g=1/0,m=.81;function _(D){var T,I=r.length,x=c0(r,Zo,f0).visitAfter(C);for(u=D,T=0;T<I;++T)o=r[T],x.visit(b)}function v(){if(r){var D,I,T=r.length;for(d=new Array(T),D=0;D<T;++D)d[(I=r[D]).index]=+l(I,D,r)}}function C(D){var I,x,P,N,A,T=0,S=0;if(D.length){for(P=N=A=0;A<4;++A)(I=D[A])&&(x=Math.abs(I.value))&&(T+=I.value,S+=x,P+=x*I.x,N+=x*I.y);D.x=P/S,D.y=N/S}else{(I=D).x=I.data.x,I.y=I.data.y;do{T+=d[I.data.index]}while(I=I.next)}D.value=T}function b(D,T,I,x){if(!D.value)return!0;var S=D.x-o.x,P=D.y-o.y,N=x-T,A=S*S+P*P;if(N*N/m<A)return A<g&&(0===S&&(A+=(S=Qs(a))*S),0===P&&(A+=(P=Qs(a))*P),A<h&&(A=Math.sqrt(h*A)),o.vx+=S*D.value*u/A,o.vy+=P*D.value*u/A),!0;if(!(D.length||A>=g)){(D.data!==o||D.next)&&(0===S&&(A+=(S=Qs(a))*S),0===P&&(A+=(P=Qs(a))*P),A<h&&(A=Math.sqrt(h*A)));do{D.data!==o&&(o.vx+=S*(N=d[D.data.index]*u/A),o.vy+=P*N)}while(D=D.next)}}return _.initialize=function(D,T){r=D,a=T,v()},_.strength=function(D){return arguments.length?(l="function"==typeof D?D:on(+D),v(),_):l},_.distanceMin=function(D){return arguments.length?(h=D*D,_):Math.sqrt(h)},_.distanceMax=function(D){return arguments.length?(g=D*D,_):Math.sqrt(g)},_.theta=function(D){return arguments.length?(m=D*D,_):Math.sqrt(m)},_}function h0(r,o,a){var u,d,h,l=on(.1);function g(_){for(var v=0,C=u.length;v<C;++v){var b=u[v],D=b.x-o||1e-6,T=b.y-a||1e-6,I=Math.sqrt(D*D+T*T),x=(h[v]-I)*d[v]*_/I;b.vx+=D*x,b.vy+=T*x}}function m(){if(u){var _,v=u.length;for(d=new Array(v),h=new Array(v),_=0;_<v;++_)h[_]=+r(u[_],_,u),d[_]=isNaN(h[_])?0:+l(u[_],_,u)}}return"function"!=typeof r&&(r=on(+r)),null==o&&(o=0),null==a&&(a=0),g.initialize=function(_){u=_,m()},g.strength=function(_){return arguments.length?(l="function"==typeof _?_:on(+_),m(),g):l},g.radius=function(_){return arguments.length?(r="function"==typeof _?_:on(+_),m(),g):r},g.x=function(_){return arguments.length?(o=+_,g):o},g.y=function(_){return arguments.length?(a=+_,g):a},g}function TE(r){var a,u,l,o=on(.1);function d(g){for(var v,m=0,_=a.length;m<_;++m)(v=a[m]).vx+=(l[m]-v.x)*u[m]*g}function h(){if(a){var g,m=a.length;for(u=new Array(m),l=new Array(m),g=0;g<m;++g)u[g]=isNaN(l[g]=+r(a[g],g,a))?0:+o(a[g],g,a)}}return"function"!=typeof r&&(r=on(null==r?0:+r)),d.initialize=function(g){a=g,h()},d.strength=function(g){return arguments.length?(o="function"==typeof g?g:on(+g),h(),d):o},d.x=function(g){return arguments.length?(r="function"==typeof g?g:on(+g),h(),d):r},d}function Xo(r){var a,u,l,o=on(.1);function d(g){for(var v,m=0,_=a.length;m<_;++m)(v=a[m]).vy+=(l[m]-v.y)*u[m]*g}function h(){if(a){var g,m=a.length;for(u=new Array(m),l=new Array(m),g=0;g<m;++g)u[g]=isNaN(l[g]=+r(a[g],g,a))?0:+o(a[g],g,a)}}return"function"!=typeof r&&(r=on(null==r?0:+r)),d.initialize=function(g){a=g,h()},d.strength=function(g){return arguments.length?(o="function"==typeof g?g:on(+g),h(),d):o},d.y=function(g){return arguments.length?(r="function"==typeof g?g:on(+g),h(),d):r},d}function $d(r,o){if((a=(r=o?r.toExponential(o-1):r.toExponential()).indexOf("e"))<0)return null;var a,u=r.slice(0,a);return[u.length>1?u[0]+u.slice(2):u,+r.slice(a+1)]}function el(r){return(r=$d(Math.abs(r)))?r[1]:NaN}var Ks,rv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tl(r){if(!(o=rv.exec(r)))throw new Error("invalid format: "+r);var o;return new Hd({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}function Hd(r){this.fill=void 0===r.fill?" ":r.fill+"",this.align=void 0===r.align?">":r.align+"",this.sign=void 0===r.sign?"-":r.sign+"",this.symbol=void 0===r.symbol?"":r.symbol+"",this.zero=!!r.zero,this.width=void 0===r.width?void 0:+r.width,this.comma=!!r.comma,this.precision=void 0===r.precision?void 0:+r.precision,this.trim=!!r.trim,this.type=void 0===r.type?"":r.type+""}function Zs(r,o){var a=$d(r,o);if(!a)return r+"";var u=a[0],l=a[1];return l<0?"0."+new Array(-l).join("0")+u:u.length>l+1?u.slice(0,l+1)+"."+u.slice(l+1):u+new Array(l-u.length+2).join("0")}tl.prototype=Hd.prototype,Hd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const _u={"%":(r,o)=>(100*r).toFixed(o),b:r=>Math.round(r).toString(2),c:r=>r+"",d:function(r){return Math.abs(r=Math.round(r))>=1e21?r.toLocaleString("en").replace(/,/g,""):r.toString(10)},e:(r,o)=>r.toExponential(o),f:(r,o)=>r.toFixed(o),g:(r,o)=>r.toPrecision(o),o:r=>Math.round(r).toString(8),p:(r,o)=>Zs(100*r,o),r:Zs,s:function(r,o){var a=$d(r,o);if(!a)return r+"";var u=a[0],l=a[1],d=l-(Ks=3*Math.max(-8,Math.min(8,Math.floor(l/3))))+1,h=u.length;return d===h?u:d>h?u+new Array(d-h+1).join("0"):d>0?u.slice(0,d)+"."+u.slice(d):"0."+new Array(1-d).join("0")+$d(r,Math.max(0,o+d-1))[0]},X:r=>Math.round(r).toString(16).toUpperCase(),x:r=>Math.round(r).toString(16)};function Xs(r){return r}var vu,bu,zd,iv=Array.prototype.map,m0=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function y0(r){var o=void 0===r.grouping||void 0===r.thousands?Xs:function(r,o){return function(a,u){for(var l=a.length,d=[],h=0,g=r[0],m=0;l>0&&g>0&&(m+g+1>u&&(g=Math.max(1,u-m)),d.push(a.substring(l-=g,l+g)),!((m+=g+1)>u));)g=r[h=(h+1)%r.length];return d.reverse().join(o)}}(iv.call(r.grouping,Number),r.thousands+""),a=void 0===r.currency?"":r.currency[0]+"",u=void 0===r.currency?"":r.currency[1]+"",l=void 0===r.decimal?".":r.decimal+"",d=void 0===r.numerals?Xs:function(r){return function(o){return o.replace(/[0-9]/g,function(a){return r[+a]})}}(iv.call(r.numerals,String)),h=void 0===r.percent?"%":r.percent+"",g=void 0===r.minus?"\u2212":r.minus+"",m=void 0===r.nan?"NaN":r.nan+"";function _(C){var b=(C=tl(C)).fill,D=C.align,T=C.sign,I=C.symbol,x=C.zero,S=C.width,P=C.comma,N=C.precision,A=C.trim,F=C.type;"n"===F?(P=!0,F="g"):_u[F]||(void 0===N&&(N=12),A=!0,F="g"),(x||"0"===b&&"="===D)&&(x=!0,b="0",D="=");var V="$"===I?a:"#"===I&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",Q="$"===I?u:/[%p]/.test(F)?h:"",Z=_u[F],te=/[defgprs%]/.test(F);function H(j){var B,$,z,J=V,Y=Q;if("c"===F)Y=Z(j)+Y,j="";else{var ee=(j=+j)<0||1/j<0;if(j=isNaN(j)?m:Z(Math.abs(j),N),A&&(j=function(r){e:for(var l,o=r.length,a=1,u=-1;a<o;++a)switch(r[a]){case".":u=l=a;break;case"0":0===u&&(u=a),l=a;break;default:if(!+r[a])break e;u>0&&(u=0)}return u>0?r.slice(0,u)+r.slice(l+1):r}(j)),ee&&0==+j&&"+"!==T&&(ee=!1),J=(ee?"("===T?T:g:"-"===T||"("===T?"":T)+J,Y=("s"===F?m0[8+Ks/3]:"")+Y+(ee&&"("===T?")":""),te)for(B=-1,$=j.length;++B<$;)if(48>(z=j.charCodeAt(B))||z>57){Y=(46===z?l+j.slice(B+1):j.slice(B))+Y,j=j.slice(0,B);break}}P&&!x&&(j=o(j,1/0));var ie=J.length+j.length+Y.length,ue=ie<S?new Array(S-ie+1).join(b):"";switch(P&&x&&(j=o(ue+j,ue.length?S-Y.length:1/0),ue=""),D){case"<":j=J+j+Y+ue;break;case"=":j=J+ue+j+Y;break;case"^":j=ue.slice(0,ie=ue.length>>1)+J+j+Y+ue.slice(ie);break;default:j=ue+J+j+Y}return d(j)}return N=void 0===N?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N)),H.toString=function(){return C+""},H}return{format:_,formatPrefix:function(C,b){var D=_(((C=tl(C)).type="f",C)),T=3*Math.max(-8,Math.min(8,Math.floor(el(b)/3))),I=Math.pow(10,-T),x=m0[8+T/3];return function(S){return D(I*S)+x}}}}function rl(r){return vu=y0(r),bu=vu.format,zd=vu.formatPrefix,vu}function ov(r){return Math.max(0,-el(Math.abs(r)))}function _0(r,o){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(el(o)/3)))-el(Math.abs(r)))}function AE(r,o){return r=Math.abs(r),o=Math.abs(o)-r,Math.max(0,el(o)-el(r))+1}rl({thousands:",",grouping:[3],currency:["$",""]});var ke=1e-6,wu=1e-12,ot=Math.PI,Gt=ot/2,qd=ot/4,Jn=2*ot,st=180/ot,Be=ot/180,gt=Math.abs,il=Math.atan,cr=Math.atan2,Ae=Math.cos,v0=Math.ceil,sv=Math.exp,Wd=(Math,Math.hypot),Gd=Math.log,b0=Math.pow,Ee=Math.sin,Mr=Math.sign||function(r){return r>0?1:r<0?-1:0},En=Math.sqrt,Yd=Math.tan;function uv(r){return r>1?0:r<-1?ot:Math.acos(r)}function er(r){return r>1?Gt:r<-1?-Gt:Math.asin(r)}function w0(r){return(r=Ee(r/2))*r}function $t(){}function Qd(r,o){r&&Kd.hasOwnProperty(r.type)&&Kd[r.type](r,o)}var mi={Feature:function(r,o){Qd(r.geometry,o)},FeatureCollection:function(r,o){for(var a=r.features,u=-1,l=a.length;++u<l;)Qd(a[u].geometry,o)}},Kd={Sphere:function(r,o){o.sphere()},Point:function(r,o){o.point((r=r.coordinates)[0],r[1],r[2])},MultiPoint:function(r,o){for(var a=r.coordinates,u=-1,l=a.length;++u<l;)o.point((r=a[u])[0],r[1],r[2])},LineString:function(r,o){C0(r.coordinates,o,0)},MultiLineString:function(r,o){for(var a=r.coordinates,u=-1,l=a.length;++u<l;)C0(a[u],o,0)},Polygon:function(r,o){cv(r.coordinates,o)},MultiPolygon:function(r,o){for(var a=r.coordinates,u=-1,l=a.length;++u<l;)cv(a[u],o)},GeometryCollection:function(r,o){for(var a=r.geometries,u=-1,l=a.length;++u<l;)Qd(a[u],o)}};function C0(r,o,a){var d,u=-1,l=r.length-a;for(o.lineStart();++u<l;)o.point((d=r[u])[0],d[1],d[2]);o.lineEnd()}function cv(r,o){var a=-1,u=r.length;for(o.polygonStart();++a<u;)C0(r[a],o,1);o.polygonEnd()}function $i(r,o){r&&mi.hasOwnProperty(r.type)?mi[r.type](r,o):Qd(r,o)}var lv,fv,sl,D0,E0,ol=new Xt,Zd=new Xt,Sr={point:$t,lineStart:$t,lineEnd:$t,polygonStart:function(){ol=new Xt,Sr.lineStart=x0,Sr.lineEnd=RE},polygonEnd:function(){var r=+ol;Zd.add(r<0?Jn+r:r),this.lineStart=this.lineEnd=this.point=$t},sphere:function(){Zd.add(Jn)}};function x0(){Sr.point=M0}function RE(){Xd(lv,fv)}function M0(r,o){Sr.point=Xd,lv=r,fv=o,sl=r*=Be,D0=Ae(o=(o*=Be)/2+qd),E0=Ee(o)}function Xd(r,o){var a=(r*=Be)-sl,u=a>=0?1:-1,l=u*a,d=Ae(o=(o*=Be)/2+qd),h=Ee(o),g=E0*h,m=D0*d+g*Ae(l),_=g*u*Ee(l);ol.add(cr(_,m)),sl=r,D0=d,E0=h}function dv(r){return Zd=new Xt,$i(r,Sr),2*Zd}function Jd(r){return[cr(r[1],r[0]),er(r[2])]}function Js(r){var o=r[0],a=r[1],u=Ae(a);return[u*Ae(o),u*Ee(o),Ee(a)]}function Cu(r,o){return r[0]*o[0]+r[1]*o[1]+r[2]*o[2]}function al(r,o){return[r[1]*o[2]-r[2]*o[1],r[2]*o[0]-r[0]*o[2],r[0]*o[1]-r[1]*o[0]]}function S0(r,o){r[0]+=o[0],r[1]+=o[1],r[2]+=o[2]}function ul(r,o){return[r[0]*o,r[1]*o,r[2]*o]}function cl(r){var o=En(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=o,r[1]/=o,r[2]/=o}var Ht,tr,Yt,sn,Hi,hv,pv,ll,zi,vo,Tr,Ir={point:T0,lineStart:I0,lineEnd:gv,polygonStart:function(){Ir.point=A0,Ir.lineStart=NE,Ir.lineEnd=R0,zi=new Xt,Sr.polygonStart()},polygonEnd:function(){Sr.polygonEnd(),Ir.point=T0,Ir.lineStart=I0,Ir.lineEnd=gv,ol<0?(Ht=-(Yt=180),tr=-(sn=90)):zi>ke?sn=90:zi<-ke&&(tr=-90),Tr[0]=Ht,Tr[1]=Yt},sphere:function(){Ht=-(Yt=180),tr=-(sn=90)}};function T0(r,o){vo.push(Tr=[Ht=r,Yt=r]),o<tr&&(tr=o),o>sn&&(sn=o)}function eh(r,o){var a=Js([r*Be,o*Be]);if(ll){var u=al(ll,a),d=al([u[1],-u[0],0],u);cl(d),d=Jd(d);var _,h=r-Hi,g=h>0?1:-1,m=d[0]*st*g,v=gt(h)>180;v^(g*Hi<m&&m<g*r)?(_=d[1]*st)>sn&&(sn=_):v^(g*Hi<(m=(m+360)%360-180)&&m<g*r)?(_=-d[1]*st)<tr&&(tr=_):(o<tr&&(tr=o),o>sn&&(sn=o)),v?r<Hi?Ar(Ht,r)>Ar(Ht,Yt)&&(Yt=r):Ar(r,Yt)>Ar(Ht,Yt)&&(Ht=r):Yt>=Ht?(r<Ht&&(Ht=r),r>Yt&&(Yt=r)):r>Hi?Ar(Ht,r)>Ar(Ht,Yt)&&(Yt=r):Ar(r,Yt)>Ar(Ht,Yt)&&(Ht=r)}else vo.push(Tr=[Ht=r,Yt=r]);o<tr&&(tr=o),o>sn&&(sn=o),ll=a,Hi=r}function I0(){Ir.point=eh}function gv(){Tr[0]=Ht,Tr[1]=Yt,Ir.point=T0,ll=null}function A0(r,o){if(ll){var a=r-Hi;zi.add(gt(a)>180?a+(a>0?360:-360):a)}else hv=r,pv=o;Sr.point(r,o),eh(r,o)}function NE(){Sr.lineStart()}function R0(){A0(hv,pv),Sr.lineEnd(),gt(zi)>ke&&(Ht=-(Yt=180)),Tr[0]=Ht,Tr[1]=Yt,ll=null}function Ar(r,o){return(o-=r)<0?o+360:o}function PE(r,o){return r[0]-o[0]}function N0(r,o){return r[0]<=r[1]?r[0]<=o&&o<=r[1]:o<r[0]||r[1]<o}function Du(r){var o,a,u,l,d,h,g;if(sn=Yt=-(Ht=tr=1/0),vo=[],$i(r,Ir),a=vo.length){for(vo.sort(PE),o=1,d=[u=vo[0]];o<a;++o)N0(u,(l=vo[o])[0])||N0(u,l[1])?(Ar(u[0],l[1])>Ar(u[0],u[1])&&(u[1]=l[1]),Ar(l[0],u[1])>Ar(u[0],u[1])&&(u[0]=l[0])):d.push(u=l);for(h=-1/0,o=0,u=d[a=d.length-1];o<=a;u=l,++o)(g=Ar(u[1],(l=d[o])[0]))>h&&(h=g,Ht=l[0],Yt=u[1])}return vo=Tr=null,Ht===1/0||tr===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ht,tr],[Yt,sn]]}var Eu,th,nh,bo,rh,ih,oh,sh,mv,P0,ah,xt,uh,lr,Qt,Rn,Rr={sphere:$t,point:yv,lineStart:_v,lineEnd:k0,polygonStart:function(){Rr.lineStart=wv,Rr.lineEnd=kE},polygonEnd:function(){Rr.lineStart=_v,Rr.lineEnd=k0}};function yv(r,o){r*=Be;var a=Ae(o*=Be);fl(a*Ae(r),a*Ee(r),Ee(o))}function fl(r,o,a){++Eu,nh+=(r-nh)/Eu,bo+=(o-bo)/Eu,rh+=(a-rh)/Eu}function _v(){Rr.point=vv}function vv(r,o){r*=Be;var a=Ae(o*=Be);lr=a*Ae(r),Qt=a*Ee(r),Rn=Ee(o),Rr.point=bv,fl(lr,Qt,Rn)}function bv(r,o){r*=Be;var a=Ae(o*=Be),u=a*Ae(r),l=a*Ee(r),d=Ee(o),h=cr(En((h=Qt*d-Rn*l)*h+(h=Rn*u-lr*d)*h+(h=lr*l-Qt*u)*h),lr*u+Qt*l+Rn*d);th+=h,ih+=h*(lr+(lr=u)),oh+=h*(Qt+(Qt=l)),sh+=h*(Rn+(Rn=d)),fl(lr,Qt,Rn)}function k0(){Rr.point=yv}function wv(){Rr.point=OE}function kE(){xu(xt,uh),Rr.point=yv}function OE(r,o){xt=r,uh=o,r*=Be,o*=Be,Rr.point=xu;var a=Ae(o);lr=a*Ae(r),Qt=a*Ee(r),Rn=Ee(o),fl(lr,Qt,Rn)}function xu(r,o){r*=Be;var a=Ae(o*=Be),u=a*Ae(r),l=a*Ee(r),d=Ee(o),h=Qt*d-Rn*l,g=Rn*u-lr*d,m=lr*l-Qt*u,_=Wd(h,g,m),v=er(_),C=_&&-v/_;mv.add(C*h),P0.add(C*g),ah.add(C*m),th+=v,ih+=v*(lr+(lr=u)),oh+=v*(Qt+(Qt=l)),sh+=v*(Rn+(Rn=d)),fl(lr,Qt,Rn)}function O0(r){Eu=th=nh=bo=rh=ih=oh=sh=0,mv=new Xt,P0=new Xt,ah=new Xt,$i(r,Rr);var o=+mv,a=+P0,u=+ah,l=Wd(o,a,u);return l<wu&&(o=ih,a=oh,u=sh,th<ke&&(o=nh,a=bo,u=rh),(l=Wd(o,a,u))<wu)?[NaN,NaN]:[cr(a,o)*st,er(u/l)*st]}function ea(r){return function(){return r}}function ch(r,o){function a(u,l){return u=r(u,l),o(u[0],u[1])}return r.invert&&o.invert&&(a.invert=function(u,l){return(u=o.invert(u,l))&&r.invert(u[0],u[1])}),a}function lh(r,o){return[gt(r)>ot?r+Math.round(-r/Jn)*Jn:r,o]}function fh(r,o,a){return(r%=Jn)?o||a?ch(Dv(r),Ev(o,a)):Dv(r):o||a?Ev(o,a):lh}function Cv(r){return function(o,a){return[(o+=r)>ot?o-Jn:o<-ot?o+Jn:o,a]}}function Dv(r){var o=Cv(r);return o.invert=Cv(-r),o}function Ev(r,o){var a=Ae(r),u=Ee(r),l=Ae(o),d=Ee(o);function h(g,m){var _=Ae(m),v=Ae(g)*_,C=Ee(g)*_,b=Ee(m),D=b*a+v*u;return[cr(C*l-D*d,v*a-b*u),er(D*l+C*d)]}return h.invert=function(g,m){var _=Ae(m),v=Ae(g)*_,C=Ee(g)*_,b=Ee(m),D=b*l-C*d;return[cr(C*l+b*d,v*a+D*u),er(D*a-v*u)]},h}function xv(r){function o(a){return(a=r(a[0]*Be,a[1]*Be))[0]*=st,a[1]*=st,a}return r=fh(r[0]*Be,r[1]*Be,r.length>2?r[2]*Be:0),o.invert=function(a){return(a=r.invert(a[0]*Be,a[1]*Be))[0]*=st,a[1]*=st,a},o}function F0(r,o,a,u,l,d){if(a){var h=Ae(o),g=Ee(o),m=u*a;null==l?(l=o+u*Jn,d=o-m/2):(l=FE(h,l),d=FE(h,d),(u>0?l<d:l>d)&&(l+=u*Jn));for(var _,v=l;u>0?v>d:v<d;v-=m)_=Jd([h,-g*Ae(v),-g*Ee(v)]),r.point(_[0],_[1])}}function FE(r,o){(o=Js(o))[0]-=r,cl(o);var a=uv(-o[1]);return((-o[2]<0?-a:a)+Jn-ke)%Jn}function Mv(){var u,l,r=ea([0,0]),o=ea(90),a=ea(6),d={point:function(m,_){u.push(m=l(m,_)),m[0]*=st,m[1]*=st}};function g(){var m=r.apply(this,arguments),_=o.apply(this,arguments)*Be,v=a.apply(this,arguments)*Be;return u=[],l=fh(-m[0]*Be,-m[1]*Be,0).invert,F0(d,_,v,1),m={type:"Polygon",coordinates:[u]},u=l=null,m}return g.center=function(m){return arguments.length?(r="function"==typeof m?m:ea([+m[0],+m[1]]),g):r},g.radius=function(m){return arguments.length?(o="function"==typeof m?m:ea(+m),g):o},g.precision=function(m){return arguments.length?(a="function"==typeof m?m:ea(+m),g):a},g}function Sv(){var o,r=[];return{point:function(a,u,l){o.push([a,u,l])},lineStart:function(){r.push(o=[])},lineEnd:$t,rejoin:function(){r.length>1&&r.push(r.pop().concat(r.shift()))},result:function(){var a=r;return r=[],o=null,a}}}function dh(r,o){return gt(r[0]-o[0])<ke&&gt(r[1]-o[1])<ke}function L0(r,o,a,u){this.x=r,this.z=o,this.o=a,this.e=u,this.v=!1,this.n=this.p=null}function LE(r,o,a,u,l){var g,m,d=[],h=[];if(r.forEach(function(T){if(!((I=T.length-1)<=0)){var I,P,x=T[0],S=T[I];if(dh(x,S)){if(!x[2]&&!S[2]){for(l.lineStart(),g=0;g<I;++g)l.point((x=T[g])[0],x[1]);return void l.lineEnd()}S[0]+=2*ke}d.push(P=new L0(x,T,null,!0)),h.push(P.o=new L0(x,null,P,!1)),d.push(P=new L0(S,T,null,!1)),h.push(P.o=new L0(S,null,P,!0))}}),d.length){for(h.sort(o),hh(d),hh(h),g=0,m=h.length;g<m;++g)h[g].e=a=!a;for(var v,C,_=d[0];;){for(var b=_,D=!0;b.v;)if((b=b.n)===_)return;v=b.z,l.lineStart();do{if(b.v=b.o.v=!0,b.e){if(D)for(g=0,m=v.length;g<m;++g)l.point((C=v[g])[0],C[1]);else u(b.x,b.n.x,1,l);b=b.n}else{if(D)for(g=(v=b.p.z).length-1;g>=0;--g)l.point((C=v[g])[0],C[1]);else u(b.x,b.p.x,-1,l);b=b.p}v=(b=b.o).z,D=!D}while(!b.v);l.lineEnd()}}}function hh(r){if(o=r.length){for(var o,l,a=0,u=r[0];++a<o;)u.n=l=r[a],l.p=u,u=l;u.n=l=r[0],l.p=u}}function V0(r){return gt(r[0])<=ot?r[0]:Mr(r[0])*((gt(r[0])+ot)%Jn-ot)}function B0(r,o){var a=V0(o),u=o[1],l=Ee(u),d=[Ee(a),-Ae(a),0],h=0,g=0,m=new Xt;1===l?u=Gt+ke:-1===l&&(u=-Gt-ke);for(var _=0,v=r.length;_<v;++_)if(b=(C=r[_]).length)for(var C,b,D=C[b-1],T=V0(D),I=D[1]/2+qd,x=Ee(I),S=Ae(I),P=0;P<b;++P,T=A,x=V,S=Q,D=N){var N=C[P],A=V0(N),F=N[1]/2+qd,V=Ee(F),Q=Ae(F),Z=A-T,te=Z>=0?1:-1,H=te*Z,j=H>ot,J=x*V;if(m.add(cr(J*te*Ee(H),S*Q+J*Ae(H))),h+=j?Z+te*Jn:Z,j^T>=a^A>=a){var Y=al(Js(D),Js(N));cl(Y);var B=al(d,Y);cl(B);var $=(j^Z>=0?-1:1)*er(B[2]);(u>$||u===$&&(Y[0]||Y[1]))&&(g+=j^Z>=0?1:-1)}}return(h<-ke||h<ke&&m<-wu)^1&g}function j0(r,o,a,u){return function(l){var _,v,C,d=o(l),h=Sv(),g=o(h),m=!1,b={point:D,lineStart:I,lineEnd:x,polygonStart:function(){b.point=S,b.lineStart=P,b.lineEnd=N,v=[],_=[]},polygonEnd:function(){b.point=D,b.lineStart=I,b.lineEnd=x,v=Ff(v);var A=B0(_,u);v.length?(m||(l.polygonStart(),m=!0),LE(v,yi,A,a,l)):A&&(m||(l.polygonStart(),m=!0),l.lineStart(),a(null,null,1,l),l.lineEnd()),m&&(l.polygonEnd(),m=!1),v=_=null},sphere:function(){l.polygonStart(),l.lineStart(),a(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function D(A,F){r(A,F)&&l.point(A,F)}function T(A,F){d.point(A,F)}function I(){b.point=T,d.lineStart()}function x(){b.point=D,d.lineEnd()}function S(A,F){C.push([A,F]),g.point(A,F)}function P(){g.lineStart(),C=[]}function N(){S(C[0][0],C[0][1]),g.lineEnd();var V,Z,te,H,A=g.clean(),F=h.result(),Q=F.length;if(C.pop(),_.push(C),C=null,Q){if(1&A){if((Z=(te=F[0]).length-1)>0){for(m||(l.polygonStart(),m=!0),l.lineStart(),V=0;V<Z;++V)l.point((H=te[V])[0],H[1]);l.lineEnd()}return}Q>1&&2&A&&F.push(F.pop().concat(F.shift())),v.push(F.filter(cA))}}return b}}function cA(r){return r.length>1}function yi(r,o){return((r=r.x)[0]<0?r[1]-Gt-ke:Gt-r[1])-((o=o.x)[0]<0?o[1]-Gt-ke:Gt-o[1])}lh.invert=lh;const Tv=j0(function(){return!0},function(r){var l,o=NaN,a=NaN,u=NaN;return{lineStart:function(){r.lineStart(),l=1},point:function(d,h){var g=d>0?ot:-ot,m=gt(d-o);gt(m-ot)<ke?(r.point(o,a=(a+h)/2>0?Gt:-Gt),r.point(u,a),r.lineEnd(),r.lineStart(),r.point(g,a),r.point(d,a),l=0):u!==g&&m>=ot&&(gt(o-u)<ke&&(o-=u*ke),gt(d-g)<ke&&(d-=g*ke),a=function(r,o,a,u){var l,d,h=Ee(r-a);return gt(h)>ke?il((Ee(o)*(d=Ae(u))*Ee(a)-Ee(u)*(l=Ae(o))*Ee(r))/(l*d*h)):(o+u)/2}(o,a,d,h),r.point(u,a),r.lineEnd(),r.lineStart(),r.point(g,a),l=0),r.point(o=d,a=h),u=g},lineEnd:function(){r.lineEnd(),o=a=NaN},clean:function(){return 2-l}}},function(r,o,a,u){var l;if(null==r)u.point(-ot,l=a*Gt),u.point(0,l),u.point(ot,l),u.point(ot,0),u.point(ot,-l),u.point(0,-l),u.point(-ot,-l),u.point(-ot,0),u.point(-ot,l);else if(gt(r[0]-o[0])>ke){var d=r[0]<o[0]?ot:-ot;u.point(-d,l=a*d/2),u.point(0,l),u.point(d,l)}else u.point(o[0],o[1])},[-ot,-Gt]);function U0(r){var o=Ae(r),a=6*Be,u=o>0,l=gt(o)>ke;function h(v,C){return Ae(v)*Ae(C)>o}function m(v,C,b){var I=[1,0,0],x=al(Js(v),Js(C)),S=Cu(x,x),P=x[0],N=S-P*P;if(!N)return!b&&v;var A=o*S/N,F=-o*P/N,V=al(I,x),Q=ul(I,A);S0(Q,ul(x,F));var te=V,H=Cu(Q,te),j=Cu(te,te),J=H*H-j*(Cu(Q,Q)-1);if(!(J<0)){var Y=En(J),B=ul(te,(-H-Y)/j);if(S0(B,Q),B=Jd(B),!b)return B;var ue,$=v[0],z=C[0],ee=v[1],ie=C[1];z<$&&(ue=$,$=z,z=ue);var pe=z-$,De=gt(pe-ot)<ke;if(!De&&ie<ee&&(ue=ee,ee=ie,ie=ue),De||pe<ke?De?ee+ie>0^B[1]<(gt(B[0]-$)<ke?ee:ie):ee<=B[1]&&B[1]<=ie:pe>ot^($<=B[0]&&B[0]<=z)){var wt=ul(te,(-H+Y)/j);return S0(wt,Q),[B,Jd(wt)]}}}function _(v,C){var b=u?r:ot-r,D=0;return v<-b?D|=1:v>b&&(D|=2),C<-b?D|=4:C>b&&(D|=8),D}return j0(h,function(v){var C,b,D,T,I;return{lineStart:function(){T=D=!1,I=1},point:function(x,S){var N,P=[x,S],A=h(x,S),F=u?A?0:_(x,S):A?_(x+(x<0?ot:-ot),S):0;if(!C&&(T=D=A)&&v.lineStart(),A!==D&&(!(N=m(C,P))||dh(C,N)||dh(P,N))&&(P[2]=1),A!==D)I=0,A?(v.lineStart(),N=m(P,C),v.point(N[0],N[1])):(N=m(C,P),v.point(N[0],N[1],2),v.lineEnd()),C=N;else if(l&&C&&u^A){var V;!(F&b)&&(V=m(P,C,!0))&&(I=0,u?(v.lineStart(),v.point(V[0][0],V[0][1]),v.point(V[1][0],V[1][1]),v.lineEnd()):(v.point(V[1][0],V[1][1]),v.lineEnd(),v.lineStart(),v.point(V[0][0],V[0][1],3)))}A&&(!C||!dh(C,P))&&v.point(P[0],P[1]),C=P,D=A,b=F},lineEnd:function(){D&&v.lineEnd(),C=null},clean:function(){return I|(T&&D)<<1}}},function(v,C,b,D){F0(D,r,a,b,v,C)},u?[0,-r]:[-ot,r-ot])}var dl=1e9,$0=-dl;function hl(r,o,a,u){function l(_,v){return r<=_&&_<=a&&o<=v&&v<=u}function d(_,v,C,b){var D=0,T=0;if(null==_||(D=h(_,C))!==(T=h(v,C))||m(_,v)<0^C>0)do{b.point(0===D||3===D?r:a,D>1?u:o)}while((D=(D+C+4)%4)!==T);else b.point(v[0],v[1])}function h(_,v){return gt(_[0]-r)<ke?v>0?0:3:gt(_[0]-a)<ke?v>0?2:1:gt(_[1]-o)<ke?v>0?1:0:v>0?3:2}function g(_,v){return m(_.x,v.x)}function m(_,v){var C=h(_,1),b=h(v,1);return C!==b?C-b:0===C?v[1]-_[1]:1===C?_[0]-v[0]:2===C?_[1]-v[1]:v[0]-_[0]}return function(_){var b,D,T,I,x,S,P,N,A,F,V,v=_,C=Sv(),Q={point:Z,lineStart:function(){Q.point=B,D&&D.push(T=[]),F=!0,A=!1,P=N=NaN},lineEnd:function(){b&&(B(I,x),S&&A&&C.rejoin(),b.push(C.result())),Q.point=Z,A&&v.lineEnd()},polygonStart:function(){v=C,b=[],D=[],V=!0},polygonEnd:function(){var $=function(){for(var $=0,z=0,ee=D.length;z<ee;++z)for(var Me,wt,ie=D[z],ue=1,pe=ie.length,De=ie[0],Je=De[0],Ct=De[1];ue<pe;++ue)Me=Je,wt=Ct,Je=(De=ie[ue])[0],Ct=De[1],wt<=u?Ct>u&&(Je-Me)*(u-wt)>(Ct-wt)*(r-Me)&&++$:Ct<=u&&(Je-Me)*(u-wt)<(Ct-wt)*(r-Me)&&--$;return $}(),z=V&&$,ee=(b=Ff(b)).length;(z||ee)&&(_.polygonStart(),z&&(_.lineStart(),d(null,null,1,_),_.lineEnd()),ee&&LE(b,g,$,d,_),_.polygonEnd()),v=_,b=D=T=null}};function Z($,z){l($,z)&&v.point($,z)}function B($,z){var ee=l($,z);if(D&&T.push([$,z]),F)I=$,x=z,S=ee,F=!1,ee&&(v.lineStart(),v.point($,z));else if(ee&&A)v.point($,z);else{var ie=[P=Math.max($0,Math.min(dl,P)),N=Math.max($0,Math.min(dl,N))],ue=[$=Math.max($0,Math.min(dl,$)),z=Math.max($0,Math.min(dl,z))];!function(r,o,a,u,l,d){var T,h=r[0],g=r[1],v=0,C=1,b=o[0]-h,D=o[1]-g;if(T=a-h,b||!(T>0)){if(T/=b,b<0){if(T<v)return;T<C&&(C=T)}else if(b>0){if(T>C)return;T>v&&(v=T)}if(T=l-h,b||!(T<0)){if(T/=b,b<0){if(T>C)return;T>v&&(v=T)}else if(b>0){if(T<v)return;T<C&&(C=T)}if(T=u-g,D||!(T>0)){if(T/=D,D<0){if(T<v)return;T<C&&(C=T)}else if(D>0){if(T>C)return;T>v&&(v=T)}if(T=d-g,D||!(T<0)){if(T/=D,D<0){if(T>C)return;T>v&&(v=T)}else if(D>0){if(T<v)return;T<C&&(C=T)}return v>0&&(r[0]=h+v*b,r[1]=g+v*D),C<1&&(o[0]=h+C*b,o[1]=g+C*D),!0}}}}}(ie,ue,r,o,a,u)?ee&&(v.lineStart(),v.point($,z),V=!1):(A||(v.lineStart(),v.point(ie[0],ie[1])),v.point(ue[0],ue[1]),ee||v.lineEnd(),V=!1)}P=$,N=z,A=ee}return Q}}function Rv(){var l,d,h,r=0,o=0,a=960,u=500;return h={stream:function(g){return l&&d===g?l:l=hl(r,o,a,u)(d=g)},extent:function(g){return arguments.length?(r=+g[0][0],o=+g[0][1],a=+g[1][0],u=+g[1][1],l=d=null,h):[[r,o],[a,u]]}}}var H0,pl,ph,gh,Mu={sphere:$t,point:$t,lineStart:function(){Mu.point=jE,Mu.lineEnd=BE},lineEnd:$t,polygonStart:$t,polygonEnd:$t};function BE(){Mu.point=Mu.lineEnd=$t}function jE(r,o){pl=r*=Be,ph=Ee(o*=Be),gh=Ae(o),Mu.point=mh}function mh(r,o){r*=Be;var a=Ee(o*=Be),u=Ae(o),l=gt(r-pl),d=Ae(l),g=u*Ee(l),m=gh*a-ph*u*d,_=ph*a+gh*u*d;H0.add(cr(En(g*g+m*m),_)),pl=r,ph=a,gh=u}function ta(r){return H0=new Xt,$i(r,Mu),+H0}var yh=[null,null],_i={type:"LineString",coordinates:yh};function Jo(r,o){return yh[0]=r,yh[1]=o,ta(_i)}var Nv={Feature:function(r,o){return Su(r.geometry,o)},FeatureCollection:function(r,o){for(var a=r.features,u=-1,l=a.length;++u<l;)if(Su(a[u].geometry,o))return!0;return!1}},Pv={Sphere:function(){return!0},Point:function(r,o){return vi(r.coordinates,o)},MultiPoint:function(r,o){for(var a=r.coordinates,u=-1,l=a.length;++u<l;)if(vi(a[u],o))return!0;return!1},LineString:function(r,o){return Tu(r.coordinates,o)},MultiLineString:function(r,o){for(var a=r.coordinates,u=-1,l=a.length;++u<l;)if(Tu(a[u],o))return!0;return!1},Polygon:function(r,o){return Nn(r.coordinates,o)},MultiPolygon:function(r,o){for(var a=r.coordinates,u=-1,l=a.length;++u<l;)if(Nn(a[u],o))return!0;return!1},GeometryCollection:function(r,o){for(var a=r.geometries,u=-1,l=a.length;++u<l;)if(Su(a[u],o))return!0;return!1}};function Su(r,o){return!(!r||!Pv.hasOwnProperty(r.type))&&Pv[r.type](r,o)}function vi(r,o){return 0===Jo(r,o)}function Tu(r,o){for(var a,u,l,d=0,h=r.length;d<h;d++){if(0===(u=Jo(r[d],o))||d>0&&(l=Jo(r[d],r[d-1]))>0&&a<=l&&u<=l&&(a+u-l)*(1-Math.pow((a-u)/l,2))<wu*l)return!0;a=u}return!1}function Nn(r,o){return!!B0(r.map(na),gl(o))}function na(r){return(r=r.map(gl)).pop(),r}function gl(r){return[r[0]*Be,r[1]*Be]}function Zr(r,o){return(r&&Nv.hasOwnProperty(r.type)?Nv[r.type]:Su)(r,o)}function _h(r,o,a){var u=Se(r,o-ke,a).concat(o);return function(l){return u.map(function(d){return[l,d]})}}function ra(r,o,a){var u=Se(r,o-ke,a).concat(o);return function(l){return u.map(function(d){return[d,l]})}}function ia(){var r,o,a,u,l,d,h,g,b,D,T,I,m=10,_=m,v=90,C=360,x=2.5;function S(){return{type:"MultiLineString",coordinates:P()}}function P(){return Se(v0(u/v)*v,a,v).map(T).concat(Se(v0(g/C)*C,h,C).map(I)).concat(Se(v0(o/m)*m,r,m).filter(function(N){return gt(N%v)>ke}).map(b)).concat(Se(v0(d/_)*_,l,_).filter(function(N){return gt(N%C)>ke}).map(D))}return S.lines=function(){return P().map(function(N){return{type:"LineString",coordinates:N}})},S.outline=function(){return{type:"Polygon",coordinates:[T(u).concat(I(h).slice(1),T(a).reverse().slice(1),I(g).reverse().slice(1))]}},S.extent=function(N){return arguments.length?S.extentMajor(N).extentMinor(N):S.extentMinor()},S.extentMajor=function(N){return arguments.length?(g=+N[0][1],h=+N[1][1],(u=+N[0][0])>(a=+N[1][0])&&(N=u,u=a,a=N),g>h&&(N=g,g=h,h=N),S.precision(x)):[[u,g],[a,h]]},S.extentMinor=function(N){return arguments.length?(d=+N[0][1],l=+N[1][1],(o=+N[0][0])>(r=+N[1][0])&&(N=o,o=r,r=N),d>l&&(N=d,d=l,l=N),S.precision(x)):[[o,d],[r,l]]},S.step=function(N){return arguments.length?S.stepMajor(N).stepMinor(N):S.stepMinor()},S.stepMajor=function(N){return arguments.length?(v=+N[0],C=+N[1],S):[v,C]},S.stepMinor=function(N){return arguments.length?(m=+N[0],_=+N[1],S):[m,_]},S.precision=function(N){return arguments.length?(x=+N,b=_h(d,l,90),D=ra(o,r,x),T=_h(g,h,90),I=ra(u,a,x),S):x},S.extentMajor([[-180,-90+ke],[180,90-ke]]).extentMinor([[-180,-80-ke],[180,80+ke]])}function Iu(){return ia()()}function Au(r,o){var a=r[0]*Be,u=r[1]*Be,l=o[0]*Be,d=o[1]*Be,h=Ae(u),g=Ee(u),m=Ae(d),_=Ee(d),v=h*Ae(a),C=h*Ee(a),b=m*Ae(l),D=m*Ee(l),T=2*er(En(w0(d-u)+h*m*w0(l-a))),I=Ee(T),x=T?function(S){var P=Ee(S*=T)/I,N=Ee(T-S)/I,A=N*v+P*b,F=N*C+P*D,V=N*g+P*_;return[cr(F,A)*st,cr(V,En(A*A+F*F))*st]}:function(){return[a*st,u*st]};return x.distance=T,x}const qi=r=>r;var oa,sa,vh,bh,es=new Xt,ts=new Xt,wo={point:$t,lineStart:$t,lineEnd:$t,polygonStart:function(){wo.lineStart=kv,wo.lineEnd=Fv},polygonEnd:function(){wo.lineStart=wo.lineEnd=wo.point=$t,es.add(gt(ts)),ts=new Xt},result:function(){var r=es/2;return es=new Xt,r}};function kv(){wo.point=Ov}function Ov(r,o){wo.point=z0,oa=vh=r,sa=bh=o}function z0(r,o){ts.add(bh*r-vh*o),vh=r,bh=o}function Fv(){z0(oa,sa)}const q0=wo;var aa=1/0,wh=aa,ml=-aa,Ch=ml;const Dh={point:function(r,o){r<aa&&(aa=r),r>ml&&(ml=r),o<wh&&(wh=o),o>Ch&&(Ch=o)},lineStart:$t,lineEnd:$t,polygonStart:$t,polygonEnd:$t,result:function(){var r=[[aa,wh],[ml,Ch]];return ml=Ch=-(wh=aa=1/0),r}};var Y0,$E,Co,Do,Vv=0,W0=0,Ru=0,Eh=0,yl=0,Nu=0,G0=0,Bv=0,_l=0,bi={point:Pu,lineStart:jv,lineEnd:xh,polygonStart:function(){bi.lineStart=zE,bi.lineEnd=dA},polygonEnd:function(){bi.point=Pu,bi.lineStart=jv,bi.lineEnd=xh},result:function(){var r=_l?[G0/_l,Bv/_l]:Nu?[Eh/Nu,yl/Nu]:Ru?[Vv/Ru,W0/Ru]:[NaN,NaN];return Vv=W0=Ru=Eh=yl=Nu=G0=Bv=_l=0,r}};function Pu(r,o){Vv+=r,W0+=o,++Ru}function jv(){bi.point=HE}function HE(r,o){bi.point=Q0,Pu(Co=r,Do=o)}function Q0(r,o){var a=r-Co,u=o-Do,l=En(a*a+u*u);Eh+=l*(Co+r)/2,yl+=l*(Do+o)/2,Nu+=l,Pu(Co=r,Do=o)}function xh(){bi.point=Pu}function zE(){bi.point=hA}function dA(){qE(Y0,$E)}function hA(r,o){bi.point=qE,Pu(Y0=Co=r,$E=Do=o)}function qE(r,o){var a=r-Co,u=o-Do,l=En(a*a+u*u);Eh+=l*(Co+r)/2,yl+=l*(Do+o)/2,Nu+=l,G0+=(l=Do*r-Co*o)*(Co+r),Bv+=l*(Do+o),_l+=3*l,Pu(Co=r,Do=o)}const Uv=bi;function K0(r){this._context=r}K0.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(r,o){switch(this._point){case 0:this._context.moveTo(r,o),this._point=1;break;case 1:this._context.lineTo(r,o);break;default:this._context.moveTo(r+this._radius,o),this._context.arc(r,o,this._radius,0,Jn)}},result:$t};var Z0,ua,Hv,ku,vl,$v=new Xt,bl={point:$t,lineStart:function(){bl.point=Mh},lineEnd:function(){Z0&&zv(ua,Hv),bl.point=$t},polygonStart:function(){Z0=!0},polygonEnd:function(){Z0=null},result:function(){var r=+$v;return $v=new Xt,r}};function Mh(r,o){bl.point=zv,ua=ku=r,Hv=vl=o}function zv(r,o){$v.add(En((ku-=r)*ku+(vl-=o)*vl)),ku=r,vl=o}const X0=bl;function qv(){this._string=[]}function Wv(r){return"m0,"+r+"a"+r+","+r+" 0 1,1 0,"+-2*r+"a"+r+","+r+" 0 1,1 0,"+2*r+"z"}function WE(r,o){var u,l,a=4.5;function d(h){return h&&("function"==typeof a&&l.pointRadius(+a.apply(this,arguments)),$i(h,u(l))),l.result()}return d.area=function(h){return $i(h,u(q0)),q0.result()},d.measure=function(h){return $i(h,u(X0)),X0.result()},d.bounds=function(h){return $i(h,u(Dh)),Dh.result()},d.centroid=function(h){return $i(h,u(Uv)),Uv.result()},d.projection=function(h){return arguments.length?(u=null==h?(r=null,qi):(r=h).stream,d):r},d.context=function(h){return arguments.length?(l=null==h?(o=null,new qv):new K0(o=h),"function"!=typeof a&&l.pointRadius(a),d):o},d.pointRadius=function(h){return arguments.length?(a="function"==typeof h?h:(l.pointRadius(+h),+h),d):a},d.projection(r).context(o)}function GE(r){return{stream:wl(r)}}function wl(r){return function(o){var a=new Sh;for(var u in r)a[u]=r[u];return a.stream=o,a}}function Sh(){}function J0(r,o,a){var u=r.clipExtent&&r.clipExtent();return r.scale(150).translate([0,0]),null!=u&&r.clipExtent(null),$i(a,r.stream(Dh)),o(Dh.result()),null!=u&&r.clipExtent(u),r}function Cl(r,o,a){return J0(r,function(u){var l=o[1][0]-o[0][0],d=o[1][1]-o[0][1],h=Math.min(l/(u[1][0]-u[0][0]),d/(u[1][1]-u[0][1])),g=+o[0][0]+(l-h*(u[1][0]+u[0][0]))/2,m=+o[0][1]+(d-h*(u[1][1]+u[0][1]))/2;r.scale(150*h).translate([g,m])},a)}function Th(r,o,a){return Cl(r,[[0,0],o],a)}function Dl(r,o,a){return J0(r,function(u){var l=+o,d=l/(u[1][0]-u[0][0]),h=(l-d*(u[1][0]+u[0][0]))/2,g=-d*u[0][1];r.scale(150*d).translate([h,g])},a)}function Gv(r,o,a){return J0(r,function(u){var l=+o,d=l/(u[1][1]-u[0][1]),h=-d*u[0][0],g=(l-d*(u[1][1]+u[0][1]))/2;r.scale(150*d).translate([h,g])},a)}qv.prototype={_radius:4.5,_circle:Wv(4.5),pointRadius:function(r){return(r=+r)!==this._radius&&(this._radius=r,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(r,o){switch(this._point){case 0:this._string.push("M",r,",",o),this._point=1;break;case 1:this._string.push("L",r,",",o);break;default:null==this._circle&&(this._circle=Wv(this._radius)),this._string.push("M",r,",",o,this._circle)}},result:function(){if(this._string.length){var r=this._string.join("");return this._string=[],r}return null}},Sh.prototype={constructor:Sh,point:function(r,o){this.stream.point(r,o)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var YE=Ae(30*Be);function QE(r,o){return+o?function(r,o){function a(u,l,d,h,g,m,_,v,C,b,D,T,I,x){var S=_-u,P=v-l,N=S*S+P*P;if(N>4*o&&I--){var A=h+b,F=g+D,V=m+T,Q=En(A*A+F*F+V*V),Z=er(V/=Q),te=gt(gt(V)-1)<ke||gt(d-C)<ke?(d+C)/2:cr(F,A),H=r(te,Z),j=H[0],J=H[1],Y=j-u,B=J-l,$=P*Y-S*B;($*$/N>o||gt((S*Y+P*B)/N-.5)>.3||h*b+g*D+m*T<YE)&&(a(u,l,d,h,g,m,j,J,te,A/=Q,F/=Q,V,I,x),x.point(j,J),a(j,J,te,A,F,V,_,v,C,b,D,T,I,x))}}return function(u){var l,d,h,g,m,_,v,C,b,D,T,I,x={point:S,lineStart:P,lineEnd:A,polygonStart:function(){u.polygonStart(),x.lineStart=F},polygonEnd:function(){u.polygonEnd(),x.lineStart=P}};function S(Z,te){Z=r(Z,te),u.point(Z[0],Z[1])}function P(){C=NaN,x.point=N,u.lineStart()}function N(Z,te){var H=Js([Z,te]),j=r(Z,te);a(C,b,v,D,T,I,C=j[0],b=j[1],v=Z,D=H[0],T=H[1],I=H[2],16,u),u.point(C,b)}function A(){x.point=S,u.lineEnd()}function F(){P(),x.point=V,x.lineEnd=Q}function V(Z,te){N(l=Z,te),d=C,h=b,g=D,m=T,_=I,x.point=N}function Q(){a(C,b,v,D,T,I,d,h,l,g,m,_,16,u),x.lineEnd=A,A()}return x}}(r,o):function(r){return wl({point:function(o,a){o=r(o,a),this.stream.point(o[0],o[1])}})}(r)}var Yv=wl({point:function(r,o){this.stream.point(r*Be,o*Be)}});function El(r,o,a,u,l,d){if(!d)return function(r,o,a,u,l){function d(h,g){return[o+r*(h*=u),a-r*(g*=l)]}return d.invert=function(h,g){return[(h-o)/r*u,(a-g)/r*l]},d}(r,o,a,u,l);var h=Ae(d),g=Ee(d),m=h*r,_=g*r,v=h/r,C=g/r,b=(g*a-h*o)/r,D=(g*o+h*a)/r;function T(I,x){return[m*(I*=u)-_*(x*=l)+o,a-_*I-m*x]}return T.invert=function(I,x){return[u*(v*I-C*x+b),l*(D-C*I-v*x)]},T}function Nr(r){return ca(function(){return r})()}function ca(r){var o,v,S,P,N,V,Q,Z,te,H,a=150,u=480,l=250,d=0,h=0,g=0,m=0,_=0,C=0,b=1,D=1,T=null,I=Tv,x=null,A=qi,F=.5;function j($){return Z($[0]*Be,$[1]*Be)}function J($){return($=Z.invert($[0],$[1]))&&[$[0]*st,$[1]*st]}function Y(){var $=El(a,0,0,b,D,C).apply(null,o(d,h)),z=El(a,u-$[0],l-$[1],b,D,C);return v=fh(g,m,_),Q=ch(o,z),Z=ch(v,Q),V=QE(Q,F),B()}function B(){return te=H=null,j}return j.stream=function($){return te&&H===$?te:te=Yv(function(r){return wl({point:function(o,a){var u=r(o,a);return this.stream.point(u[0],u[1])}})}(v)(I(V(A(H=$)))))},j.preclip=function($){return arguments.length?(I=$,T=void 0,B()):I},j.postclip=function($){return arguments.length?(A=$,x=S=P=N=null,B()):A},j.clipAngle=function($){return arguments.length?(I=+$?U0(T=$*Be):(T=null,Tv),B()):T*st},j.clipExtent=function($){return arguments.length?(A=null==$?(x=S=P=N=null,qi):hl(x=+$[0][0],S=+$[0][1],P=+$[1][0],N=+$[1][1]),B()):null==x?null:[[x,S],[P,N]]},j.scale=function($){return arguments.length?(a=+$,Y()):a},j.translate=function($){return arguments.length?(u=+$[0],l=+$[1],Y()):[u,l]},j.center=function($){return arguments.length?(d=$[0]%360*Be,h=$[1]%360*Be,Y()):[d*st,h*st]},j.rotate=function($){return arguments.length?(g=$[0]%360*Be,m=$[1]%360*Be,_=$.length>2?$[2]%360*Be:0,Y()):[g*st,m*st,_*st]},j.angle=function($){return arguments.length?(C=$%360*Be,Y()):C*st},j.reflectX=function($){return arguments.length?(b=$?-1:1,Y()):b<0},j.reflectY=function($){return arguments.length?(D=$?-1:1,Y()):D<0},j.precision=function($){return arguments.length?(V=QE(Q,F=$*$),B()):En(F)},j.fitExtent=function($,z){return Cl(j,$,z)},j.fitSize=function($,z){return Th(j,$,z)},j.fitWidth=function($,z){return Dl(j,$,z)},j.fitHeight=function($,z){return Gv(j,$,z)},function(){return o=r.apply(this,arguments),j.invert=o.invert&&J,Y()}}function Qv(r){var o=0,a=ot/3,u=ca(r),l=u(o,a);return l.parallels=function(d){return arguments.length?u(o=d[0]*Be,a=d[1]*Be):[o*st,a*st]},l}function tm(r,o){var a=Ee(r),u=(a+Ee(o))/2;if(gt(u)<ke)return function(r){var o=Ae(r);function a(u,l){return[u*o,Ee(l)/o]}return a.invert=function(u,l){return[u/o,er(l*o)]},a}(r);var l=1+a*(2*u-a),d=En(l)/u;function h(g,m){var _=En(l-2*u*Ee(m))/u;return[_*Ee(g*=u),d-_*Ae(g)]}return h.invert=function(g,m){var _=d-m,v=cr(g,gt(_))*Mr(_);return _*u<0&&(v-=ot*Mr(g)*Mr(_)),[v/u,er((l-(g*g+_*_)*u*u)/(2*u))]},h}function xl(){return Qv(tm).scale(155.424).center([0,33.6442])}function Kv(){return xl().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ah(){var r,o,u,d,g,m,a=Kv(),l=xl().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=xl().rotate([157,0]).center([-3,19.9]).parallels([8,18]),_={point:function(b,D){m=[b,D]}};function v(b){var D=b[0],T=b[1];return m=null,u.point(D,T),m||(d.point(D,T),m)||(g.point(D,T),m)}function C(){return r=o=null,v}return v.invert=function(b){var D=a.scale(),T=a.translate(),I=(b[0]-T[0])/D,x=(b[1]-T[1])/D;return(x>=.12&&x<.234&&I>=-.425&&I<-.214?l:x>=.166&&x<.234&&I>=-.214&&I<-.115?h:a).invert(b)},v.stream=function(b){return r&&o===b?r:r=function(r){var o=r.length;return{point:function(a,u){for(var l=-1;++l<o;)r[l].point(a,u)},sphere:function(){for(var a=-1;++a<o;)r[a].sphere()},lineStart:function(){for(var a=-1;++a<o;)r[a].lineStart()},lineEnd:function(){for(var a=-1;++a<o;)r[a].lineEnd()},polygonStart:function(){for(var a=-1;++a<o;)r[a].polygonStart()},polygonEnd:function(){for(var a=-1;++a<o;)r[a].polygonEnd()}}}([a.stream(o=b),l.stream(b),h.stream(b)])},v.precision=function(b){return arguments.length?(a.precision(b),l.precision(b),h.precision(b),C()):a.precision()},v.scale=function(b){return arguments.length?(a.scale(b),l.scale(.35*b),h.scale(b),v.translate(a.translate())):a.scale()},v.translate=function(b){if(!arguments.length)return a.translate();var D=a.scale(),T=+b[0],I=+b[1];return u=a.translate(b).clipExtent([[T-.455*D,I-.238*D],[T+.455*D,I+.238*D]]).stream(_),d=l.translate([T-.307*D,I+.201*D]).clipExtent([[T-.425*D+ke,I+.12*D+ke],[T-.214*D-ke,I+.234*D-ke]]).stream(_),g=h.translate([T-.205*D,I+.212*D]).clipExtent([[T-.214*D+ke,I+.166*D+ke],[T-.115*D-ke,I+.234*D-ke]]).stream(_),C()},v.fitExtent=function(b,D){return Cl(v,b,D)},v.fitSize=function(b,D){return Th(v,b,D)},v.fitWidth=function(b,D){return Dl(v,b,D)},v.fitHeight=function(b,D){return Gv(v,b,D)},v.scale(1070)}function nm(r){return function(o,a){var u=Ae(o),l=Ae(a),d=r(u*l);return d===1/0?[2,0]:[d*l*Ee(o),d*Ee(a)]}}function la(r){return function(o,a){var u=En(o*o+a*a),l=r(u),d=Ee(l),h=Ae(l);return[cr(o*d,u*h),er(u&&a*d/u)]}}var Ou=nm(function(r){return En(2/(1+r))});function Zv(){return Nr(Ou).scale(124.75).clipAngle(179.999)}Ou.invert=la(function(r){return 2*er(r/2)});var rm=nm(function(r){return(r=uv(r))&&r/Ee(r)});function Xv(){return Nr(rm).scale(79.4188).clipAngle(179.999)}function Fu(r,o){return[r,Gd(Yd((Gt+o)/2))]}function im(){return Jv(Fu).scale(961/Jn)}function Jv(r){var g,m,_,o=Nr(r),a=o.center,u=o.scale,l=o.translate,d=o.clipExtent,h=null;function v(){var C=ot*u(),b=o(xv(o.rotate()).invert([0,0]));return d(null==h?[[b[0]-C,b[1]-C],[b[0]+C,b[1]+C]]:r===Fu?[[Math.max(b[0]-C,h),g],[Math.min(b[0]+C,m),_]]:[[h,Math.max(b[1]-C,g)],[m,Math.min(b[1]+C,_)]])}return o.scale=function(C){return arguments.length?(u(C),v()):u()},o.translate=function(C){return arguments.length?(l(C),v()):l()},o.center=function(C){return arguments.length?(a(C),v()):a()},o.clipExtent=function(C){return arguments.length?(null==C?h=g=m=_=null:(h=+C[0][0],g=+C[0][1],m=+C[1][0],_=+C[1][1]),v()):null==h?null:[[h,g],[m,_]]},v()}function Rh(r){return Yd((Gt+r)/2)}function eb(r,o){var a=Ae(r),u=r===o?Ee(r):Gd(a/Ae(o))/Gd(Rh(o)/Rh(r)),l=a*b0(Rh(r),u)/u;if(!u)return Fu;function d(h,g){l>0?g<-Gt+ke&&(g=-Gt+ke):g>Gt-ke&&(g=Gt-ke);var m=l/b0(Rh(g),u);return[m*Ee(u*h),l-m*Ae(u*h)]}return d.invert=function(h,g){var m=l-g,_=Mr(u)*En(h*h+m*m),v=cr(h,gt(m))*Mr(m);return m*u<0&&(v-=ot*Mr(h)*Mr(m)),[v/u,2*il(b0(l/_,1/u))-Gt]},d}function ex(){return Qv(eb).scale(109.5).parallels([30,30])}function Lu(r,o){return[r,o]}function om(){return Nr(Lu).scale(152.63)}function sm(r,o){var a=Ae(r),u=r===o?Ee(r):(a-Ae(o))/(o-r),l=a/u+r;if(gt(u)<ke)return Lu;function d(h,g){var m=l-g,_=u*h;return[m*Ee(_),l-m*Ae(_)]}return d.invert=function(h,g){var m=l-g,_=cr(h,gt(m))*Mr(m);return m*u<0&&(_-=ot*Mr(h)*Mr(m)),[_/u,l-Mr(u)*En(h*h+m*m)]},d}function tb(){return Qv(sm).scale(131.154).center([0,13.9389])}rm.invert=la(function(r){return r}),Fu.invert=function(r,o){return[r,2*il(sv(o))-Gt]},Lu.invert=Lu;var Vu=1.340264,Bu=-.081106,ju=893e-6,Uu=.003796,Ml=En(3)/2;function rb(r,o){var a=er(Ml*Ee(o)),u=a*a,l=u*u*u;return[r*Ae(a)/(Ml*(Vu+3*Bu*u+l*(7*ju+9*Uu*u))),a*(Vu+Bu*u+l*(ju+Uu*u))]}function tx(){return Nr(rb).scale(177.158)}function am(r,o){var a=Ae(o),u=Ae(r)*a;return[a*Ee(r)/u,Ee(o)/u]}function ib(){return Nr(am).scale(144.049).clipAngle(60)}function nx(){var h,g,_,v,C,x,S,r=1,o=0,a=0,u=1,l=1,d=0,m=null,b=1,D=1,T=wl({point:function(A,F){var V=N([A,F]);this.stream.point(V[0],V[1])}}),I=qi;function P(){return b=r*u,D=r*l,x=S=null,N}function N(A){var F=A[0]*b,V=A[1]*D;if(d){var Q=V*h-F*g;F=F*h+V*g,V=Q}return[F+o,V+a]}return N.invert=function(A){var F=A[0]-o,V=A[1]-a;if(d){var Q=V*h+F*g;F=F*h-V*g,V=Q}return[F/b,V/D]},N.stream=function(A){return x&&S===A?x:x=T(I(S=A))},N.postclip=function(A){return arguments.length?(I=A,m=_=v=C=null,P()):I},N.clipExtent=function(A){return arguments.length?(I=null==A?(m=_=v=C=null,qi):hl(m=+A[0][0],_=+A[0][1],v=+A[1][0],C=+A[1][1]),P()):null==m?null:[[m,_],[v,C]]},N.scale=function(A){return arguments.length?(r=+A,P()):r},N.translate=function(A){return arguments.length?(o=+A[0],a=+A[1],P()):[o,a]},N.angle=function(A){return arguments.length?(g=Ee(d=A%360*Be),h=Ae(d),P()):d*st},N.reflectX=function(A){return arguments.length?(u=A?-1:1,P()):u<0},N.reflectY=function(A){return arguments.length?(l=A?-1:1,P()):l<0},N.fitExtent=function(A,F){return Cl(N,A,F)},N.fitSize=function(A,F){return Th(N,A,F)},N.fitWidth=function(A,F){return Dl(N,A,F)},N.fitHeight=function(A,F){return Gv(N,A,F)},N}function an(r,o){var a=o*o,u=a*a;return[r*(.8707-.131979*a+u*(u*(.003971*a-.001529*u)-.013791)),o*(1.007226+a*(.015085+u*(.028874*a-.044475-.005916*u)))]}function ob(){return Nr(an).scale(175.295)}function um(r,o){return[Ae(o)*Ee(r),Ee(o)]}function rx(){return Nr(um).scale(249.5).clipAngle(90+ke)}function Nh(r,o){var a=Ae(o),u=1+Ae(r)*a;return[a*Ee(r)/u,Ee(o)/u]}function ix(){return Nr(Nh).scale(250).clipAngle(142)}function Ph(r,o){return[Gd(Yd((Gt+o)/2)),-r]}function sb(){var r=Jv(Ph),o=r.center,a=r.rotate;return r.center=function(u){return arguments.length?o([-u[1],u[0]]):[(u=o())[1],-u[0]]},r.rotate=function(u){return arguments.length?a([u[0],u[1],u.length>2?u[2]+90:90]):[(u=a())[0],u[1],u[2]-90]},a([0,0,90]).scale(159.155)}function $u(r,o){return r.parent===o.parent?1:2}function sx(r,o){return r+o.x}function ax(r,o){return Math.max(r,o.y)}function cb(){var r=$u,o=1,a=1,u=!1;function l(d){var h,g=0;d.eachAfter(function(b){var D=b.children;D?(b.x=function(r){return r.reduce(sx,0)/r.length}(D),b.y=function(r){return 1+r.reduce(ax,0)}(D)):(b.x=h?g+=r(b,h):0,b.y=0,h=b)});var m=function(r){for(var o;o=r.children;)r=o[0];return r}(d),_=function(r){for(var o;o=r.children;)r=o[o.length-1];return r}(d),v=m.x-r(m,_)/2,C=_.x+r(_,m)/2;return d.eachAfter(u?function(b){b.x=(b.x-d.x)*o,b.y=(d.y-b.y)*a}:function(b){b.x=(b.x-v)/(C-v)*o,b.y=(1-(d.y?b.y/d.y:1))*a})}return l.separation=function(d){return arguments.length?(r=d,l):r},l.size=function(d){return arguments.length?(u=!1,o=+d[0],a=+d[1],l):u?null:[o,a]},l.nodeSize=function(d){return arguments.length?(u=!0,o=+d[0],a=+d[1],l):u?[o,a]:null},l}function lb(r){var o=0,a=r.children,u=a&&a.length;if(u)for(;--u>=0;)o+=a[u].value;else o=1;r.value=o}function lm(r,o){r instanceof Map?(r=[void 0,r],void 0===o&&(o=pb)):void 0===o&&(o=px);for(var u,d,h,g,m,a=new Hu(r),l=[a];u=l.pop();)if((h=o(u.data))&&(m=(h=Array.from(h)).length))for(u.children=h,g=m-1;g>=0;--g)l.push(d=h[g]=new Hu(h[g])),d.parent=u,d.depth=u.depth+1;return a.eachBefore(Tl)}function px(r){return r.children}function pb(r){return Array.isArray(r)?r[1]:null}function gb(r){void 0!==r.data.value&&(r.value=r.data.value),r.data=r.data.data}function Tl(r){var o=0;do{r.height=o}while((r=r.parent)&&r.height<++o)}function Hu(r){this.data=r,this.depth=this.height=0,this.parent=null}function dm(r){for(var l,d,o=0,a=(r=function(r){for(var a,u,o=r.length;o;)u=Math.random()*o--|0,a=r[o],r[o]=r[u],r[u]=a;return r}(Array.from(r))).length,u=[];o<a;)l=r[o],d&&pm(d,l)?++o:(d=yb(u=hm(u,l)),o=0);return d}function hm(r,o){var a,u;if(kh(o,r))return[o];for(a=0;a<r.length;++a)if(Il(o,r[a])&&kh(zu(r[a],o),r))return[r[a],o];for(a=0;a<r.length-1;++a)for(u=a+1;u<r.length;++u)if(Il(zu(r[a],r[u]),o)&&Il(zu(r[a],o),r[u])&&Il(zu(r[u],o),r[a])&&kh(gm(r[a],r[u],o),r))return[r[a],r[u],o];throw new Error}function Il(r,o){var a=r.r-o.r,u=o.x-r.x,l=o.y-r.y;return a<0||a*a<u*u+l*l}function pm(r,o){var a=r.r-o.r+1e-9*Math.max(r.r,o.r,1),u=o.x-r.x,l=o.y-r.y;return a>0&&a*a>u*u+l*l}function kh(r,o){for(var a=0;a<o.length;++a)if(!pm(r,o[a]))return!1;return!0}function yb(r){switch(r.length){case 1:return function(r){return{x:r.x,y:r.y,r:r.r}}(r[0]);case 2:return zu(r[0],r[1]);case 3:return gm(r[0],r[1],r[2])}}function zu(r,o){var a=r.x,u=r.y,l=r.r,d=o.x,h=o.y,g=o.r,m=d-a,_=h-u,v=g-l,C=Math.sqrt(m*m+_*_);return{x:(a+d+m/C*v)/2,y:(u+h+_/C*v)/2,r:(C+l+g)/2}}function gm(r,o,a){var u=r.x,l=r.y,d=r.r,h=o.x,g=o.y,m=o.r,_=a.x,v=a.y,C=a.r,b=u-h,D=u-_,T=l-g,I=l-v,x=m-d,S=C-d,P=u*u+l*l-d*d,N=P-h*h-g*g+m*m,A=P-_*_-v*v+C*C,F=D*T-b*I,V=(T*A-I*N)/(2*F)-u,Q=(I*x-T*S)/F,Z=(D*N-b*A)/(2*F)-l,te=(b*S-D*x)/F,H=Q*Q+te*te-1,j=2*(d+V*Q+Z*te),J=V*V+Z*Z-d*d,Y=-(H?(j+Math.sqrt(j*j-4*H*J))/(2*H):J/j);return{x:u+V+Q*Y,y:l+Z+te*Y,r:Y}}function mm(r,o,a){var l,d,g,m,u=r.x-o.x,h=r.y-o.y,_=u*u+h*h;_?(d=o.r+a.r,m=r.r+a.r,(d*=d)>(m*=m)?(l=(_+m-d)/(2*_),g=Math.sqrt(Math.max(0,m/_-l*l)),a.x=r.x-l*u-g*h,a.y=r.y-l*h+g*u):(l=(_+d-m)/(2*_),g=Math.sqrt(Math.max(0,d/_-l*l)),a.x=o.x+l*u-g*h,a.y=o.y+l*h+g*u)):(a.x=o.x+a.r,a.y=o.y)}function vb(r,o){var a=r.r+o.r-1e-6,u=o.x-r.x,l=o.y-r.y;return a>0&&a*a>u*u+l*l}function bb(r){var o=r._,a=r.next._,u=o.r+a.r,l=(o.x*a.r+a.x*o.r)/u,d=(o.y*a.r+a.y*o.r)/u;return l*l+d*d}function Oh(r){this._=r,this.next=null,this.previous=null}function wb(r){if(!(l=(r=function(r){return"object"==typeof r&&"length"in r?r:Array.from(r)}(r)).length))return 0;var o,a,u,l,d,h,g,m,_,v,C;if((o=r[0]).x=0,o.y=0,!(l>1))return o.r;if(o.x=-(a=r[1]).r,a.x=o.r,a.y=0,!(l>2))return o.r+a.r;mm(a,o,u=r[2]),o=new Oh(o),a=new Oh(a),u=new Oh(u),o.next=u.previous=a,a.next=o.previous=u,u.next=a.previous=o;e:for(g=3;g<l;++g){mm(o._,a._,u=r[g]),u=new Oh(u),m=a.next,_=o.previous,v=a._.r,C=o._.r;do{if(v<=C){if(vb(m._,u._)){o.next=a=m,a.previous=o,--g;continue e}v+=m._.r,m=m.next}else{if(vb(_._,u._)){(o=_).next=a,a.previous=o,--g;continue e}C+=_._.r,_=_.previous}}while(m!==_.next);for(u.previous=o,u.next=a,o.next=a.previous=a=u,d=bb(o);(u=u.next)!==a;)(h=bb(u))<d&&(o=u,d=h);a=o.next}for(o=[a._],u=a;(u=u.next)!==a;)o.push(u._);for(u=dm(o),g=0;g<l;++g)(o=r[g]).x-=u.x,o.y-=u.y;return u.r}function gx(r){return wb(r),r}function mx(r){return null==r?null:Fh(r)}function Fh(r){if("function"!=typeof r)throw new Error;return r}function fa(){return 0}function qu(r){return function(){return r}}function yx(r){return Math.sqrt(r.value)}function _x(){var r=null,o=1,a=1,u=fa;function l(d){return d.x=o/2,d.y=a/2,r?d.eachBefore(Cb(r)).eachAfter(ym(u,.5)).eachBefore(Db(1)):d.eachBefore(Cb(yx)).eachAfter(ym(fa,1)).eachAfter(ym(u,d.r/Math.min(o,a))).eachBefore(Db(Math.min(o,a)/(2*d.r))),d}return l.radius=function(d){return arguments.length?(r=mx(d),l):r},l.size=function(d){return arguments.length?(o=+d[0],a=+d[1],l):[o,a]},l.padding=function(d){return arguments.length?(u="function"==typeof d?d:qu(+d),l):u},l}function Cb(r){return function(o){o.children||(o.r=Math.max(0,+r(o)||0))}}function ym(r,o){return function(a){if(u=a.children){var u,l,g,d=u.length,h=r(a)*o||0;if(h)for(l=0;l<d;++l)u[l].r+=h;if(g=wb(u),h)for(l=0;l<d;++l)u[l].r-=h;a.r=g+h}}}function Db(r){return function(o){var a=o.parent;o.r*=r,a&&(o.x=a.x+r*o.x,o.y=a.y+r*o.y)}}function Eb(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function Al(r,o,a,u,l){for(var h,d=r.children,g=-1,m=d.length,_=r.value&&(u-o)/r.value;++g<m;)(h=d[g]).y0=a,h.y1=l,h.x0=o,h.x1=o+=h.value*_}function vx(){var r=1,o=1,a=0,u=!1;function l(h){var g=h.height+1;return h.x0=h.y0=a,h.x1=r,h.y1=o/g,h.eachBefore(function(h,g){return function(m){m.children&&Al(m,m.x0,h*(m.depth+1)/g,m.x1,h*(m.depth+2)/g);var _=m.x0,v=m.y0,C=m.x1-a,b=m.y1-a;C<_&&(_=C=(_+C)/2),b<v&&(v=b=(v+b)/2),m.x0=_,m.y0=v,m.x1=C,m.y1=b}}(o,g)),u&&h.eachBefore(Eb),h}return l.round=function(h){return arguments.length?(u=!!h,l):u},l.size=function(h){return arguments.length?(r=+h[0],o=+h[1],l):[r,o]},l.padding=function(h){return arguments.length?(a=+h,l):a},l}rb.invert=function(r,o){for(var h,a=o,u=a*a,l=u*u*u,d=0;d<12&&(l=(u=(a-=h=(a*(Vu+Bu*u+l*(ju+Uu*u))-o)/(Vu+3*Bu*u+l*(7*ju+9*Uu*u)))*a)*u*u,!(gt(h)<wu));++d);return[Ml*r*(Vu+3*Bu*u+l*(7*ju+9*Uu*u))/Ae(a),er(Ee(a)/Ml)]},am.invert=la(il),an.invert=function(r,o){var l,a=o,u=25;do{var d=a*a,h=d*d;a-=l=(a*(1.007226+d*(.015085+h*(.028874*d-.044475-.005916*h)))-o)/(1.007226+d*(.045255+h*(.259866*d-.311325-.005916*11*h)))}while(gt(l)>ke&&--u>0);return[r/(.8707+(d=a*a)*(d*(d*d*d*(.003971-.001529*d)-.013791)-.131979)),a]},um.invert=la(er),Nh.invert=la(function(r){return 2*il(r)}),Ph.invert=function(r,o){return[-o,2*il(sv(r))-Gt]},Hu.prototype=lm.prototype={constructor:Hu,count:function(){return this.eachAfter(lb)},each:function(r,o){let a=-1;for(const u of this)r.call(o,u,++a,this);return this},eachAfter:function(r,o){for(var d,h,g,a=this,u=[a],l=[],m=-1;a=u.pop();)if(l.push(a),d=a.children)for(h=0,g=d.length;h<g;++h)u.push(d[h]);for(;a=l.pop();)r.call(o,a,++m,this);return this},eachBefore:function(r,o){for(var l,d,a=this,u=[a],h=-1;a=u.pop();)if(r.call(o,a,++h,this),l=a.children)for(d=l.length-1;d>=0;--d)u.push(l[d]);return this},find:function(r,o){let a=-1;for(const u of this)if(r.call(o,u,++a,this))return u},sum:function(r){return this.eachAfter(function(o){for(var a=+r(o.data)||0,u=o.children,l=u&&u.length;--l>=0;)a+=u[l].value;o.value=a})},sort:function(r){return this.eachBefore(function(o){o.children&&o.children.sort(r)})},path:function(r){for(var o=this,a=function(r,o){if(r===o)return r;var a=r.ancestors(),u=o.ancestors(),l=null;for(r=a.pop(),o=u.pop();r===o;)l=r,r=a.pop(),o=u.pop();return l}(o,r),u=[o];o!==a;)u.push(o=o.parent);for(var l=u.length;r!==a;)u.splice(l,0,r),r=r.parent;return u},ancestors:function(){for(var r=this,o=[r];r=r.parent;)o.push(r);return o},descendants:function(){return Array.from(this)},leaves:function(){var r=[];return this.eachBefore(function(o){o.children||r.push(o)}),r},links:function(){var r=this,o=[];return r.each(function(a){a!==r&&o.push({source:a.parent,target:a})}),o},copy:function(){return lm(this).eachBefore(gb)},[Symbol.iterator]:function*(){var o,u,l,d,r=this,a=[r];do{for(o=a.reverse(),a=[];r=o.pop();)if(yield r,u=r.children)for(l=0,d=u.length;l<d;++l)a.push(u[l])}while(a.length)}};var bx={depth:-1},_m={};function xb(r){return r.id}function Mb(r){return r.parentId}function Sb(){var r=xb,o=Mb;function a(u){var h,g,m,_,v,C,b,l=Array.from(u),d=l.length,D=new Map;for(g=0;g<d;++g)v=l[g]=new Hu(h=l[g]),null!=(C=r(h,g,u))&&(C+="")&&(b=v.id=C,D.set(b,D.has(b)?_m:v)),null!=(C=o(h,g,u))&&(C+="")&&(v.parent=C);for(g=0;g<d;++g)if(C=(v=l[g]).parent){if(!(_=D.get(C)))throw new Error("missing: "+C);if(_===_m)throw new Error("ambiguous: "+C);_.children?_.children.push(v):_.children=[v],v.parent=_}else{if(m)throw new Error("multiple roots");m=v}if(!m)throw new Error("no root");if(m.parent=bx,m.eachBefore(function(T){T.depth=T.parent.depth+1,--d}).eachBefore(Tl),m.parent=null,d>0)throw new Error("cycle");return m}return a.id=function(u){return arguments.length?(r=Fh(u),a):r},a.parentId=function(u){return arguments.length?(o=Fh(u),a):o},a}function Tb(r,o){return r.parent===o.parent?1:2}function Lh(r){var o=r.children;return o?o[0]:r.t}function Vh(r){var o=r.children;return o?o[o.length-1]:r.t}function Ib(r,o,a){var u=a/(o.i-r.i);o.c-=u,o.s+=a,r.c+=u,o.z+=a,o.m+=a}function vm(r,o,a){return r.a.parent===o.parent?r.a:a}function Rl(r,o){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=o}function wx(){var r=Tb,o=1,a=1,u=null;function l(_){var v=function(r){for(var a,l,d,h,g,o=new Rl(r,0),u=[o];a=u.pop();)if(d=a._.children)for(a.children=new Array(g=d.length),h=g-1;h>=0;--h)u.push(l=a.children[h]=new Rl(d[h],h)),l.parent=a;return(o.parent=new Rl(null,0)).children=[o],o}(_);if(v.eachAfter(d),v.parent.m=-v.z,v.eachBefore(h),u)_.eachBefore(m);else{var C=_,b=_,D=_;_.eachBefore(function(P){P.x<C.x&&(C=P),P.x>b.x&&(b=P),P.depth>D.depth&&(D=P)});var T=C===b?1:r(C,b)/2,I=T-C.x,x=o/(b.x+T+I),S=a/(D.depth||1);_.eachBefore(function(P){P.x=(P.x+I)*x,P.y=P.depth*S})}return _}function d(_){var v=_.children,C=_.parent.children,b=_.i?C[_.i-1]:null;if(v){!function(r){for(var d,o=0,a=0,u=r.children,l=u.length;--l>=0;)(d=u[l]).z+=o,d.m+=o,o+=d.s+(a+=d.c)}(_);var D=(v[0].z+v[v.length-1].z)/2;b?(_.z=b.z+r(_._,b._),_.m=_.z-D):_.z=D}else b&&(_.z=b.z+r(_._,b._));_.parent.A=function(_,v,C){if(v){for(var A,b=_,D=_,T=v,I=b.parent.children[0],x=b.m,S=D.m,P=T.m,N=I.m;T=Vh(T),b=Lh(b),T&&b;)I=Lh(I),(D=Vh(D)).a=_,(A=T.z+P-b.z-x+r(T._,b._))>0&&(Ib(vm(T,_,C),_,A),x+=A,S+=A),P+=T.m,x+=b.m,N+=I.m,S+=D.m;T&&!Vh(D)&&(D.t=T,D.m+=P-S),b&&!Lh(I)&&(I.t=b,I.m+=x-N,C=_)}return C}(_,b,_.parent.A||C[0])}function h(_){_._.x=_.z+_.parent.m,_.m+=_.parent.m}function m(_){_.x*=o,_.y=_.depth*a}return l.separation=function(_){return arguments.length?(r=_,l):r},l.size=function(_){return arguments.length?(u=!1,o=+_[0],a=+_[1],l):u?null:[o,a]},l.nodeSize=function(_){return arguments.length?(u=!0,o=+_[0],a=+_[1],l):u?[o,a]:null},l}function Bh(r,o,a,u,l){for(var h,d=r.children,g=-1,m=d.length,_=r.value&&(l-a)/r.value;++g<m;)(h=d[g]).x0=o,h.x1=u,h.y0=a,h.y1=a+=h.value*_}Rl.prototype=Object.create(Hu.prototype);var ha=(1+Math.sqrt(5))/2;function Cx(r,o,a,u,l,d){for(var m,_,D,T,x,S,P,N,A,F,V,h=[],g=o.children,v=0,C=0,b=g.length,I=o.value;v<b;){D=l-a,T=d-u;do{x=g[C++].value}while(!x&&C<b);for(S=P=x,V=x*x*(F=Math.max(T/D,D/T)/(I*r)),A=Math.max(P/V,V/S);C<b;++C){if(x+=_=g[C].value,_<S&&(S=_),_>P&&(P=_),V=x*x*F,(N=Math.max(P/V,V/S))>A){x-=_;break}A=N}h.push(m={value:x,dice:D<T,children:g.slice(v,C)}),m.dice?Al(m,a,u,l,I?u+=T*x/I:d):Bh(m,a,u,I?a+=D*x/I:l,d),I-=x,v=C}return h}const zn=function r(o){function a(u,l,d,h,g){Cx(o,u,l,d,h,g)}return a.ratio=function(u){return r((u=+u)>1?u:1)},a}(ha);function gA(){var r=zn,o=!1,a=1,u=1,l=[0],d=fa,h=fa,g=fa,m=fa,_=fa;function v(b){return b.x0=b.y0=0,b.x1=a,b.y1=u,b.eachBefore(C),l=[0],o&&b.eachBefore(Eb),b}function C(b){var D=l[b.depth],T=b.x0+D,I=b.y0+D,x=b.x1-D,S=b.y1-D;x<T&&(T=x=(T+x)/2),S<I&&(I=S=(I+S)/2),b.x0=T,b.y0=I,b.x1=x,b.y1=S,b.children&&(D=l[b.depth+1]=d(b)/2,T+=_(b)-D,I+=h(b)-D,(x-=g(b)-D)<T&&(T=x=(T+x)/2),(S-=m(b)-D)<I&&(I=S=(I+S)/2),r(b,T,I,x,S))}return v.round=function(b){return arguments.length?(o=!!b,v):o},v.size=function(b){return arguments.length?(a=+b[0],u=+b[1],v):[a,u]},v.tile=function(b){return arguments.length?(r=Fh(b),v):r},v.padding=function(b){return arguments.length?v.paddingInner(b).paddingOuter(b):v.paddingInner()},v.paddingInner=function(b){return arguments.length?(d="function"==typeof b?b:qu(+b),v):d},v.paddingOuter=function(b){return arguments.length?v.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):v.paddingTop()},v.paddingTop=function(b){return arguments.length?(h="function"==typeof b?b:qu(+b),v):h},v.paddingRight=function(b){return arguments.length?(g="function"==typeof b?b:qu(+b),v):g},v.paddingBottom=function(b){return arguments.length?(m="function"==typeof b?b:qu(+b),v):m},v.paddingLeft=function(b){return arguments.length?(_="function"==typeof b?b:qu(+b),v):_},v}function Rb(r,o,a,u,l){var h,m,d=r.children,g=d.length,_=new Array(g+1);for(_[0]=m=h=0;h<g;++h)_[h+1]=m+=d[h].value;!function v(C,b,D,T,I,x,S){if(C>=b-1){var P=d[C];return P.x0=T,P.y0=I,P.x1=x,void(P.y1=S)}for(var N=_[C],A=D/2+N,F=C+1,V=b-1;F<V;){var Q=F+V>>>1;_[Q]<A?F=Q+1:V=Q}A-_[F-1]<_[F]-A&&C+1<F&&--F;var Z=_[F]-N,te=D-Z;if(x-T>S-I){var H=D?(T*te+x*Z)/D:x;v(C,F,Z,T,I,H,S),v(F,b,te,H,I,x,S)}else{var j=D?(I*te+S*Z)/D:S;v(C,F,Z,T,I,x,j),v(F,b,te,T,j,x,S)}}(0,g,r.value,o,a,u,l)}function Nb(r,o,a,u,l){(1&r.depth?Bh:Al)(r,o,a,u,l)}const mA=function r(o){function a(u,l,d,h,g){if((m=u._squarify)&&m.ratio===o)for(var m,_,v,C,D,b=-1,T=m.length,I=u.value;++b<T;){for(v=(_=m[b]).children,C=_.value=0,D=v.length;C<D;++C)_.value+=v[C].value;_.dice?Al(_,l,d,h,I?d+=(g-d)*_.value/I:g):Bh(_,l,d,I?l+=(h-l)*_.value/I:h,g),I-=_.value}else u._squarify=m=Cx(o,u,l,d,h,g),m.ratio=o}return a.ratio=function(u){return r((u=+u)>1?u:1)},a}(ha);function ye(r){var o=r.length;return function(a){return r[Math.max(0,Math.min(o-1,Math.floor(a*o)))]}}function Dx(r,o){var a=qr(+r,+o);return function(u){var l=a(u);return l-360*Math.floor(l/360)}}function jh(r,o){return r=+r,o=+o,function(a){return Math.round(r*(1-a)+o*a)}}function Nl(r){return((r=Math.exp(r))+1/r)/2}const Pl=function r(o,a,u){function l(d,h){var x,S,g=d[0],m=d[1],_=d[2],b=h[2],D=h[0]-g,T=h[1]-m,I=D*D+T*T;if(I<1e-12)S=Math.log(b/_)/o,x=function(Q){return[g+Q*D,m+Q*T,_*Math.exp(o*Q*S)]};else{var P=Math.sqrt(I),N=(b*b-_*_+u*I)/(2*_*a*P),A=(b*b-_*_-u*I)/(2*b*a*P),F=Math.log(Math.sqrt(N*N+1)-N),V=Math.log(Math.sqrt(A*A+1)-A);S=(V-F)/o,x=function(Q){var Z=Q*S,te=Nl(F),H=_/(a*P)*(te*function(r){return((r=Math.exp(2*r))-1)/(r+1)}(o*Z+F)-function(r){return((r=Math.exp(r))-1/r)/2}(F));return[g+H*D,m+H*T,_*te/Nl(o*Z+F)]}}return x.duration=1e3*S*o/Math.SQRT2,x}return l.rho=function(d){var h=Math.max(.001,+d),g=h*h;return r(h,g,g*g)},l}(Math.SQRT2,2,4);function Kt(r){return function(o,a){var u=r((o=Xa(o)).h,(a=Xa(a)).h),l=_n(o.s,a.s),d=_n(o.l,a.l),h=_n(o.opacity,a.opacity);return function(g){return o.h=u(g),o.s=l(g),o.l=d(g),o.opacity=h(g),o+""}}}const yA=Kt(qr);var Pb=Kt(_n);function bm(r,o){var a=_n((r=du(r)).l,(o=du(o)).l),u=_n(r.a,o.a),l=_n(r.b,o.b),d=_n(r.opacity,o.opacity);return function(h){return r.l=a(h),r.a=u(h),r.b=l(h),r.opacity=d(h),r+""}}function kb(r){return function(o,a){var u=r((o=wd(o)).h,(a=wd(a)).h),l=_n(o.c,a.c),d=_n(o.l,a.l),h=_n(o.opacity,a.opacity);return function(g){return o.h=u(g),o.c=l(g),o.l=d(g),o.opacity=h(g),o+""}}}const Ob=kb(qr);var Fb=kb(_n);function wm(r){return function o(a){function u(l,d){var h=r((l=Yr(l)).h,(d=Yr(d)).h),g=_n(l.s,d.s),m=_n(l.l,d.l),_=_n(l.opacity,d.opacity);return function(v){return l.h=h(v),l.s=g(v),l.l=m(Math.pow(v,a)),l.opacity=_(v),l+""}}return a=+a,u.gamma=o,u}(1)}const Lb=wm(qr);var $h=wm(_n);function Vb(r,o){void 0===o&&(o=r,r=tn);for(var a=0,u=o.length-1,l=o[0],d=new Array(u<0?0:u);a<u;)d[a]=r(l,l=o[++a]);return function(h){var g=Math.max(0,Math.min(u-1,Math.floor(h*=u)));return d[g](h-g)}}function Mx(r,o){for(var a=new Array(o),u=0;u<o;++u)a[u]=r(u/(o-1));return a}function kl(r){for(var u,o=-1,a=r.length,l=r[a-1],d=0;++o<a;)d+=(u=l)[1]*(l=r[o])[0]-u[0]*l[1];return d/2}function Sx(r){for(var d,g,o=-1,a=r.length,u=0,l=0,h=r[a-1],m=0;++o<a;)m+=g=(d=h)[0]*(h=r[o])[1]-h[0]*d[1],u+=(d[0]+h[0])*g,l+=(d[1]+h[1])*g;return[u/(m*=3),l/m]}function Tx(r,o,a){return(o[0]-r[0])*(a[1]-r[1])-(o[1]-r[1])*(a[0]-r[0])}function Ix(r,o){return r[0]-o[0]||r[1]-o[1]}function Ol(r){const o=r.length,a=[0,1];let l,u=2;for(l=2;l<o;++l){for(;u>1&&Tx(r[a[u-2]],r[a[u-1]],r[l])<=0;)--u;a[u++]=l}return a.slice(0,u)}function Bb(r){if((a=r.length)<3)return null;var o,a,u=new Array(a),l=new Array(a);for(o=0;o<a;++o)u[o]=[+r[o][0],+r[o][1],o];for(u.sort(Ix),o=0;o<a;++o)l[o]=[u[o][0],-u[o][1]];var d=Ol(u),h=Ol(l),g=h[0]===d[0],m=h[h.length-1]===d[d.length-1],_=[];for(o=d.length-1;o>=0;--o)_.push(r[u[d[o]][2]]);for(o=+g;o<h.length-m;++o)_.push(r[u[h[o]][2]]);return _}function jb(r,o){for(var m,_,a=r.length,u=r[a-1],l=o[0],d=o[1],h=u[0],g=u[1],v=!1,C=0;C<a;++C)m=(u=r[C])[0],(_=u[1])>d!=g>d&&l<(h-m)*(d-_)/(g-_)+m&&(v=!v),h=m,g=_;return v}function Ub(r){for(var l,d,o=-1,a=r.length,u=r[a-1],h=u[0],g=u[1],m=0;++o<a;)l=h,d=g,l-=h=(u=r[o])[0],d-=g=u[1],m+=Math.hypot(l,d);return m}const Pn=Math.random,Fl=function r(o){function a(u,l){return u=null==u?0:+u,l=null==l?1:+l,1===arguments.length?(l=u,u=0):l-=u,function(){return o()*l+u}}return a.source=r,a}(Pn),Ll=function r(o){function a(u,l){return arguments.length<2&&(l=u,u=0),u=Math.floor(u),l=Math.floor(l)-u,function(){return Math.floor(o()*l+u)}}return a.source=r,a}(Pn),Cm=function r(o){function a(u,l){var d,h;return u=null==u?0:+u,l=null==l?1:+l,function(){var g;if(null!=d)g=d,d=null;else do{d=2*o()-1,g=2*o()-1,h=d*d+g*g}while(!h||h>1);return u+l*g*Math.sqrt(-2*Math.log(h)/h)}}return a.source=r,a}(Pn),Ax=function r(o){var a=Cm.source(o);function u(){var l=a.apply(this,arguments);return function(){return Math.exp(l())}}return u.source=r,u}(Pn),$b=function r(o){function a(u){return(u=+u)<=0?()=>0:function(){for(var l=0,d=u;d>1;--d)l+=o();return l+d*o()}}return a.source=r,a}(Pn),Hb=function r(o){var a=$b.source(o);function u(l){if(0==(l=+l))return o;var d=a(l);return function(){return d()/l}}return u.source=r,u}(Pn),zb=function r(o){function a(u){return function(){return-Math.log1p(-o())/u}}return a.source=r,a}(Pn),qb=function r(o){function a(u){if((u=+u)<0)throw new RangeError("invalid alpha");return u=1/-u,function(){return Math.pow(1-o(),u)}}return a.source=r,a}(Pn),Rx=function r(o){function a(u){if((u=+u)<0||u>1)throw new RangeError("invalid p");return function(){return Math.floor(o()+u)}}return a.source=r,a}(Pn),Dm=function r(o){function a(u){if((u=+u)<0||u>1)throw new RangeError("invalid p");return 0===u?()=>1/0:1===u?()=>1:(u=Math.log1p(-u),function(){return 1+Math.floor(Math.log1p(-o())/u)})}return a.source=r,a}(Pn),Em=function r(o){var a=Cm.source(o)();function u(l,d){if((l=+l)<0)throw new RangeError("invalid k");if(0===l)return()=>0;if(d=null==d?1:+d,1===l)return()=>-Math.log1p(-o())*d;var h=(l<1?l+1:l)-1/3,g=1/(3*Math.sqrt(h)),m=l<1?()=>Math.pow(o(),1/l):()=>1;return function(){do{do{var _=a(),v=1+g*_}while(v<=0);v*=v*v;var C=1-o()}while(C>=1-.0331*_*_*_*_&&Math.log(C)>=.5*_*_+h*(1-v+Math.log(v)));return h*v*m()*d}}return u.source=r,u}(Pn),Wb=function r(o){var a=Em.source(o);function u(l,d){var h=a(l),g=a(d);return function(){var m=h();return 0===m?0:m/(m+g())}}return u.source=r,u}(Pn),Nx=function r(o){var a=Dm.source(o),u=Wb.source(o);function l(d,h){return d=+d,(h=+h)>=1?()=>d:h<=0?()=>0:function(){for(var g=0,m=d,_=h;m*_>16&&m*(1-_)>16;){var v=Math.floor((m+1)*_),C=u(v,m-v+1)();C<=_?(g+=v,m-=v,_=(_-C)/(1-C)):(m=v-1,_/=C)}for(var b=_<.5,T=a(b?_:1-_),I=T(),x=0;I<=m;++x)I+=T();return g+(b?x:m-x)}}return l.source=r,l}(Pn),_A=function r(o){function a(u,l,d){var h;return 0==(u=+u)?h=g=>-Math.log(g):(u=1/u,h=g=>Math.pow(g,u)),l=null==l?0:+l,d=null==d?1:+d,function(){return l+d*h(-Math.log1p(-o()))}}return a.source=r,a}(Pn),vA=function r(o){function a(u,l){return u=null==u?0:+u,l=null==l?1:+l,function(){return u+l*Math.tan(Math.PI*o())}}return a.source=r,a}(Pn),bA=function r(o){function a(u,l){return u=null==u?0:+u,l=null==l?1:+l,function(){var d=o();return u+l*Math.log(d/(1-d))}}return a.source=r,a}(Pn),Gb=function r(o){var a=Em.source(o),u=Nx.source(o);function l(d){return function(){for(var h=0,g=d;g>16;){var m=Math.floor(.875*g),_=a(m)();if(_>g)return h+u(m-1,g/_)();h+=m,g-=_}for(var v=-Math.log1p(-o()),C=0;v<=g;++C)v-=Math.log1p(-o());return h+C}}return l.source=r,l}(Pn),Yb=1/4294967296;function Qb(r=Math.random()){let o=0|(0<=r&&r<1?r/Yb:Math.abs(r));return()=>(o=1664525*o+1013904223|0,Yb*(o>>>0))}function qn(r,o){switch(arguments.length){case 0:break;case 1:this.range(r);break;default:this.range(o).domain(r)}return this}function Eo(r,o){switch(arguments.length){case 0:break;case 1:"function"==typeof r?this.interpolator(r):this.range(r);break;default:this.domain(r),"function"==typeof o?this.interpolator(o):this.range(o)}return this}const xm=Symbol("implicit");function Mm(){var r=new Map,o=[],a=[],u=xm;function l(d){var h=d+"",g=r.get(h);if(!g){if(u!==xm)return u;r.set(h,g=o.push(d))}return a[(g-1)%a.length]}return l.domain=function(d){if(!arguments.length)return o.slice();o=[],r=new Map;for(const h of d){const g=h+"";r.has(g)||r.set(g,o.push(h))}return l},l.range=function(d){return arguments.length?(a=Array.from(d),l):a.slice()},l.unknown=function(d){return arguments.length?(u=d,l):u},l.copy=function(){return Mm(o,a).unknown(u)},qn.apply(l,arguments),l}function Sm(){var d,h,r=Mm().unknown(void 0),o=r.domain,a=r.range,u=0,l=1,g=!1,m=0,_=0,v=.5;function C(){var b=o().length,D=l<u,T=D?l:u,I=D?u:l;d=(I-T)/Math.max(1,b-m+2*_),g&&(d=Math.floor(d)),T+=(I-T-d*(b-m))*v,h=d*(1-m),g&&(T=Math.round(T),h=Math.round(h));var x=Se(b).map(function(S){return T+d*S});return a(D?x.reverse():x)}return delete r.unknown,r.domain=function(b){return arguments.length?(o(b),C()):o()},r.range=function(b){return arguments.length?([u,l]=b,u=+u,l=+l,C()):[u,l]},r.rangeRound=function(b){return[u,l]=b,u=+u,l=+l,g=!0,C()},r.bandwidth=function(){return h},r.step=function(){return d},r.round=function(b){return arguments.length?(g=!!b,C()):g},r.padding=function(b){return arguments.length?(m=Math.min(1,_=+b),C()):m},r.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),C()):m},r.paddingOuter=function(b){return arguments.length?(_=+b,C()):_},r.align=function(b){return arguments.length?(v=Math.max(0,Math.min(1,b)),C()):v},r.copy=function(){return Sm(o(),[u,l]).round(g).paddingInner(m).paddingOuter(_).align(v)},qn.apply(C(),arguments)}function Kb(r){var o=r.copy;return r.padding=r.paddingOuter,delete r.paddingInner,delete r.paddingOuter,r.copy=function(){return Kb(o())},r}function Zb(){return Kb(Sm.apply(null,arguments).paddingInner(1))}function zh(r){return+r}var pa=[0,1];function nr(r){return r}function qh(r,o){return(o-=r=+r)?function(a){return(a-r)/o}:function(r){return function(){return r}}(isNaN(o)?NaN:.5)}function Xb(r,o,a){var u=r[0],l=r[1],d=o[0],h=o[1];return l<u?(u=qh(l,u),d=a(h,d)):(u=qh(u,l),d=a(d,h)),function(g){return d(u(g))}}function Fx(r,o,a){var u=Math.min(r.length,o.length)-1,l=new Array(u),d=new Array(u),h=-1;for(r[u]<r[0]&&(r=r.slice().reverse(),o=o.slice().reverse());++h<u;)l[h]=qh(r[h],r[h+1]),d[h]=a(o[h],o[h+1]);return function(g){var m=Ii(r,g,1,u)-1;return d[m](l[m](g))}}function Wu(r,o){return o.domain(r.domain()).range(r.range()).interpolate(r.interpolate()).clamp(r.clamp()).unknown(r.unknown())}function Wh(){var u,l,d,g,m,_,r=pa,o=pa,a=tn,h=nr;function v(){var b=Math.min(r.length,o.length);return h!==nr&&(h=function(r,o){var a;return r>o&&(a=r,r=o,o=a),function(u){return Math.max(r,Math.min(o,u))}}(r[0],r[b-1])),g=b>2?Fx:Xb,m=_=null,C}function C(b){return null==b||isNaN(b=+b)?d:(m||(m=g(r.map(u),o,a)))(u(h(b)))}return C.invert=function(b){return h(l((_||(_=g(o,r.map(u),br)))(b)))},C.domain=function(b){return arguments.length?(r=Array.from(b,zh),v()):r.slice()},C.range=function(b){return arguments.length?(o=Array.from(b),v()):o.slice()},C.rangeRound=function(b){return o=Array.from(b),a=jh,v()},C.clamp=function(b){return arguments.length?(h=!!b||nr,v()):h!==nr},C.interpolate=function(b){return arguments.length?(a=b,v()):a},C.unknown=function(b){return arguments.length?(d=b,C):d},function(b,D){return u=b,l=D,v()}}function Vl(){return Wh()(nr,nr)}function Jb(r,o,a,u){var d,l=Te(r,o,a);switch((u=tl(null==u?",f":u)).type){case"s":var h=Math.max(Math.abs(r),Math.abs(o));return null==u.precision&&!isNaN(d=_0(l,h))&&(u.precision=d),zd(u,h);case"":case"e":case"g":case"p":case"r":null==u.precision&&!isNaN(d=AE(l,Math.max(Math.abs(r),Math.abs(o))))&&(u.precision=d-("e"===u.type));break;case"f":case"%":null==u.precision&&!isNaN(d=ov(l))&&(u.precision=d-2*("%"===u.type))}return bu(u)}function xo(r){var o=r.domain;return r.ticks=function(a){var u=o();return ae(u[0],u[u.length-1],null==a?10:a)},r.tickFormat=function(a,u){var l=o();return Jb(l[0],l[l.length-1],null==a?10:a,u)},r.nice=function(a){null==a&&(a=10);var m,_,u=o(),l=0,d=u.length-1,h=u[l],g=u[d],v=10;for(g<h&&(_=h,h=g,g=_,_=l,l=d,d=_);v-- >0;){if((_=Ve(h,g,a))===m)return u[l]=h,u[d]=g,o(u);if(_>0)h=Math.floor(h/_)*_,g=Math.ceil(g/_)*_;else{if(!(_<0))break;h=Math.ceil(h*_)/_,g=Math.floor(g*_)/_}m=_}return r},r}function Tm(){var r=Vl();return r.copy=function(){return Wu(r,Tm())},qn.apply(r,arguments),xo(r)}function ew(r){var o;function a(u){return null==u||isNaN(u=+u)?o:u}return a.invert=a,a.domain=a.range=function(u){return arguments.length?(r=Array.from(u,zh),a):r.slice()},a.unknown=function(u){return arguments.length?(o=u,a):o},a.copy=function(){return ew(r).unknown(o)},r=arguments.length?Array.from(r,zh):[0,1],xo(a)}function tw(r,o){var h,a=0,u=(r=r.slice()).length-1,l=r[a],d=r[u];return d<l&&(h=a,a=u,u=h,h=l,l=d,d=h),r[a]=o.floor(l),r[u]=o.ceil(d),r}function nw(r){return Math.log(r)}function Gh(r){return Math.exp(r)}function Lx(r){return-Math.log(-r)}function rw(r){return-Math.exp(-r)}function Vx(r){return isFinite(r)?+("1e"+r):r<0?0:r}function iw(r){return function(o){return-r(-o)}}function Im(r){var l,d,o=r(nw,Gh),a=o.domain,u=10;function h(){return l=function(r){return r===Math.E?Math.log:10===r&&Math.log10||2===r&&Math.log2||(r=Math.log(r),function(o){return Math.log(o)/r})}(u),d=function(r){return 10===r?Vx:r===Math.E?Math.exp:function(o){return Math.pow(r,o)}}(u),a()[0]<0?(l=iw(l),d=iw(d),r(Lx,rw)):r(nw,Gh),o}return o.base=function(g){return arguments.length?(u=+g,h()):u},o.domain=function(g){return arguments.length?(a(g),h()):a()},o.ticks=function(g){var C,m=a(),_=m[0],v=m[m.length-1];(C=v<_)&&(b=_,_=v,v=b);var T,I,x,b=l(_),D=l(v),S=null==g?10:+g,P=[];if(!(u%1)&&D-b<S){if(b=Math.floor(b),D=Math.ceil(D),_>0){for(;b<=D;++b)for(I=1,T=d(b);I<u;++I)if(!((x=T*I)<_)){if(x>v)break;P.push(x)}}else for(;b<=D;++b)for(I=u-1,T=d(b);I>=1;--I)if(!((x=T*I)<_)){if(x>v)break;P.push(x)}2*P.length<S&&(P=ae(_,v,S))}else P=ae(b,D,Math.min(D-b,S)).map(d);return C?P.reverse():P},o.tickFormat=function(g,m){if(null==m&&(m=10===u?".0e":","),"function"!=typeof m&&(m=bu(m)),g===1/0)return m;null==g&&(g=10);var _=Math.max(1,u*g/o.ticks().length);return function(v){var C=v/d(Math.round(l(v)));return C*u<u-.5&&(C*=u),C<=_?m(v):""}},o.nice=function(){return a(tw(a(),{floor:function(g){return d(Math.floor(l(g)))},ceil:function(g){return d(Math.ceil(l(g)))}}))},o}function ow(){var r=Im(Wh()).domain([1,10]);return r.copy=function(){return Wu(r,ow()).base(r.base())},qn.apply(r,arguments),r}function sw(r){return function(o){return Math.sign(o)*Math.log1p(Math.abs(o/r))}}function aw(r){return function(o){return Math.sign(o)*Math.expm1(Math.abs(o))*r}}function Yh(r){var o=1,a=r(sw(o),aw(o));return a.constant=function(u){return arguments.length?r(sw(o=+u),aw(o)):o},xo(a)}function Am(){var r=Yh(Wh());return r.copy=function(){return Wu(r,Am()).constant(r.constant())},qn.apply(r,arguments)}function uw(r){return function(o){return o<0?-Math.pow(-o,r):Math.pow(o,r)}}function Ux(r){return r<0?-Math.sqrt(-r):Math.sqrt(r)}function cw(r){return r<0?-r*r:r*r}function Rm(r){var o=r(nr,nr),a=1;function u(){return 1===a?r(nr,nr):.5===a?r(Ux,cw):r(uw(a),uw(1/a))}return o.exponent=function(l){return arguments.length?(a=+l,u()):a},xo(o)}function Nm(){var r=Rm(Wh());return r.copy=function(){return Wu(r,Nm()).exponent(r.exponent())},qn.apply(r,arguments),r}function $x(){return Nm.apply(null,arguments).exponent(.5)}function Qh(r){return Math.sign(r)*r*r}function Pm(r){return Math.sign(r)*Math.sqrt(Math.abs(r))}function km(){var u,r=Vl(),o=[0,1],a=!1;function l(d){var h=Pm(r(d));return isNaN(h)?u:a?Math.round(h):h}return l.invert=function(d){return r.invert(Qh(d))},l.domain=function(d){return arguments.length?(r.domain(d),l):r.domain()},l.range=function(d){return arguments.length?(r.range((o=Array.from(d,zh)).map(Qh)),l):o.slice()},l.rangeRound=function(d){return l.range(d).round(!0)},l.round=function(d){return arguments.length?(a=!!d,l):a},l.clamp=function(d){return arguments.length?(r.clamp(d),l):r.clamp()},l.unknown=function(d){return arguments.length?(u=d,l):u},l.copy=function(){return km(r.domain(),o).round(a).clamp(r.clamp()).unknown(u)},qn.apply(l,arguments),xo(l)}function Kh(){var u,r=[],o=[],a=[];function l(){var h=0,g=Math.max(1,o.length);for(a=new Array(g-1);++h<g;)a[h-1]=Pe(r,h/g);return d}function d(h){return null==h||isNaN(h=+h)?u:o[Ii(a,h)]}return d.invertExtent=function(h){var g=o.indexOf(h);return g<0?[NaN,NaN]:[g>0?a[g-1]:r[0],g<a.length?a[g]:r[r.length-1]]},d.domain=function(h){if(!arguments.length)return r.slice();r=[];for(let g of h)null!=g&&!isNaN(g=+g)&&r.push(g);return r.sort(Vt),l()},d.range=function(h){return arguments.length?(o=Array.from(h),l()):o.slice()},d.unknown=function(h){return arguments.length?(u=h,d):u},d.quantiles=function(){return a.slice()},d.copy=function(){return Kh().domain(r).range(o).unknown(u)},qn.apply(d,arguments)}function lw(){var d,r=0,o=1,a=1,u=[.5],l=[0,1];function h(m){return null!=m&&m<=m?l[Ii(u,m,0,a)]:d}function g(){var m=-1;for(u=new Array(a);++m<a;)u[m]=((m+1)*o-(m-a)*r)/(a+1);return h}return h.domain=function(m){return arguments.length?([r,o]=m,r=+r,o=+o,g()):[r,o]},h.range=function(m){return arguments.length?(a=(l=Array.from(m)).length-1,g()):l.slice()},h.invertExtent=function(m){var _=l.indexOf(m);return _<0?[NaN,NaN]:_<1?[r,u[0]]:_>=a?[u[a-1],o]:[u[_-1],u[_]]},h.unknown=function(m){return arguments.length&&(d=m),h},h.thresholds=function(){return u.slice()},h.copy=function(){return lw().domain([r,o]).range(l).unknown(d)},qn.apply(xo(h),arguments)}function fw(){var a,r=[.5],o=[0,1],u=1;function l(d){return null!=d&&d<=d?o[Ii(r,d,0,u)]:a}return l.domain=function(d){return arguments.length?(r=Array.from(d),u=Math.min(r.length,o.length-1),l):r.slice()},l.range=function(d){return arguments.length?(o=Array.from(d),u=Math.min(r.length,o.length-1),l):o.slice()},l.invertExtent=function(d){var h=o.indexOf(d);return[r[h-1],r[h]]},l.unknown=function(d){return arguments.length?(a=d,l):a},l.copy=function(){return fw().domain(r).range(o).unknown(a)},qn.apply(l,arguments)}const Di=1e3,Xr=6e4,Mo=60*Xr,ga=24*Mo,Zh=7*ga,Om=30*ga,Xh=365*ga;var dw=new Date,Fm=new Date;function Ot(r,o,a,u){function l(d){return r(d=0===arguments.length?new Date:new Date(+d)),d}return l.floor=function(d){return r(d=new Date(+d)),d},l.ceil=function(d){return r(d=new Date(d-1)),o(d,1),r(d),d},l.round=function(d){var h=l(d),g=l.ceil(d);return d-h<g-d?h:g},l.offset=function(d,h){return o(d=new Date(+d),null==h?1:Math.floor(h)),d},l.range=function(d,h,g){var _,m=[];if(d=l.ceil(d),g=null==g?1:Math.floor(g),!(d<h&&g>0))return m;do{m.push(_=new Date(+d)),o(d,g),r(d)}while(_<d&&d<h);return m},l.filter=function(d){return Ot(function(h){if(h>=h)for(;r(h),!d(h);)h.setTime(h-1)},function(h,g){if(h>=h)if(g<0)for(;++g<=0;)for(;o(h,-1),!d(h););else for(;--g>=0;)for(;o(h,1),!d(h););})},a&&(l.count=function(d,h){return dw.setTime(+d),Fm.setTime(+h),r(dw),r(Fm),Math.floor(a(dw,Fm))},l.every=function(d){return d=Math.floor(d),isFinite(d)&&d>0?d>1?l.filter(u?function(h){return u(h)%d==0}:function(h){return l.count(0,h)%d==0}):l:null}),l}var Lm=Ot(function(){},function(r,o){r.setTime(+r+o)},function(r,o){return o-r});Lm.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?Ot(function(o){o.setTime(Math.floor(o/r)*r)},function(o,a){o.setTime(+o+a*r)},function(o,a){return(a-o)/r}):Lm:null};const Bl=Lm;var jl=Lm.range,hw=Ot(function(r){r.setTime(r-r.getMilliseconds())},function(r,o){r.setTime(+r+o*Di)},function(r,o){return(o-r)/Di},function(r){return r.getUTCSeconds()});const Pr=hw;var pw=hw.range,Hx=Ot(function(r){r.setTime(r-r.getMilliseconds()-r.getSeconds()*Di)},function(r,o){r.setTime(+r+o*Xr)},function(r,o){return(o-r)/Xr},function(r){return r.getMinutes()});const Vm=Hx;var kr=Hx.range,Bm=Ot(function(r){r.setTime(r-r.getMilliseconds()-r.getSeconds()*Di-r.getMinutes()*Xr)},function(r,o){r.setTime(+r+o*Mo)},function(r,o){return(o-r)/Mo},function(r){return r.getHours()});const gw=Bm;var Jh=Bm.range,Ul=Ot(r=>r.setHours(0,0,0,0),(r,o)=>r.setDate(r.getDate()+o),(r,o)=>(o-r-(o.getTimezoneOffset()-r.getTimezoneOffset())*Xr)/ga,r=>r.getDate()-1);const $l=Ul;var wA=Ul.range;function ma(r){return Ot(function(o){o.setDate(o.getDate()-(o.getDay()+7-r)%7),o.setHours(0,0,0,0)},function(o,a){o.setDate(o.getDate()+7*a)},function(o,a){return(a-o-(a.getTimezoneOffset()-o.getTimezoneOffset())*Xr)/Zh})}var Gu=ma(0),Hl=ma(1),ep=ma(2),zl=ma(3),ns=ma(4),jm=ma(5),mw=ma(6),zx=Gu.range,qx=Hl.range,Wx=ep.range,Gx=zl.range,yw=ns.range,_w=jm.range,vw=mw.range,bw=Ot(function(r){r.setDate(1),r.setHours(0,0,0,0)},function(r,o){r.setMonth(r.getMonth()+o)},function(r,o){return o.getMonth()-r.getMonth()+12*(o.getFullYear()-r.getFullYear())},function(r){return r.getMonth()});const Um=bw;var ww=bw.range,ya=Ot(function(r){r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,o){r.setFullYear(r.getFullYear()+o)},function(r,o){return o.getFullYear()-r.getFullYear()},function(r){return r.getFullYear()});ya.every=function(r){return isFinite(r=Math.floor(r))&&r>0?Ot(function(o){o.setFullYear(Math.floor(o.getFullYear()/r)*r),o.setMonth(0,1),o.setHours(0,0,0,0)},function(o,a){o.setFullYear(o.getFullYear()+a*r)}):null};const rs=ya;var Cw=ya.range,_a=Ot(function(r){r.setUTCSeconds(0,0)},function(r,o){r.setTime(+r+o*Xr)},function(r,o){return(o-r)/Xr},function(r){return r.getUTCMinutes()});const Yu=_a;var ql=_a.range,Dw=Ot(function(r){r.setUTCMinutes(0,0,0)},function(r,o){r.setTime(+r+o*Mo)},function(r,o){return(o-r)/Mo},function(r){return r.getUTCHours()});const $m=Dw;var CA=Dw.range,Ew=Ot(function(r){r.setUTCHours(0,0,0,0)},function(r,o){r.setUTCDate(r.getUTCDate()+o)},function(r,o){return(o-r)/ga},function(r){return r.getUTCDate()-1});const va=Ew;var Yx=Ew.range;function ba(r){return Ot(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-r)%7),o.setUTCHours(0,0,0,0)},function(o,a){o.setUTCDate(o.getUTCDate()+7*a)},function(o,a){return(a-o)/Zh})}var Qu=ba(0),Wl=ba(1),xw=ba(2),Mw=ba(3),wa=ba(4),Qx=ba(5),Sw=ba(6),Yi=Qu.range,Kx=Wl.range,Zx=xw.range,Xx=Mw.range,tp=wa.range,Qi=Qx.range,Tw=Sw.range,Iw=Ot(function(r){r.setUTCDate(1),r.setUTCHours(0,0,0,0)},function(r,o){r.setUTCMonth(r.getUTCMonth()+o)},function(r,o){return o.getUTCMonth()-r.getUTCMonth()+12*(o.getUTCFullYear()-r.getUTCFullYear())},function(r){return r.getUTCMonth()});const Aw=Iw;var Jx=Iw.range,Or=Ot(function(r){r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,o){r.setUTCFullYear(r.getUTCFullYear()+o)},function(r,o){return o.getUTCFullYear()-r.getUTCFullYear()},function(r){return r.getUTCFullYear()});Or.every=function(r){return isFinite(r=Math.floor(r))&&r>0?Ot(function(o){o.setUTCFullYear(Math.floor(o.getUTCFullYear()/r)*r),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},function(o,a){o.setUTCFullYear(o.getUTCFullYear()+a*r)}):null};const is=Or;var eM=Or.range;function Hm(r,o,a,u,l,d){const h=[[Pr,1,Di],[Pr,5,5e3],[Pr,15,15e3],[Pr,30,3e4],[d,1,Xr],[d,5,5*Xr],[d,15,15*Xr],[d,30,30*Xr],[l,1,Mo],[l,3,3*Mo],[l,6,6*Mo],[l,12,12*Mo],[u,1,ga],[u,2,2*ga],[a,1,Zh],[o,1,Om],[o,3,3*Om],[r,1,Xh]];function m(_,v,C){const b=Math.abs(v-_)/C,D=hr(([,,x])=>x).right(h,b);if(D===h.length)return r.every(Te(_/Xh,v/Xh,C));if(0===D)return Bl.every(Math.max(Te(_,v,C),1));const[T,I]=h[b/h[D-1][2]<h[D][2]/b?D-1:D];return T.every(I)}return[function(_,v,C){const b=v<_;b&&([_,v]=[v,_]);const D=C&&"function"==typeof C.range?C:m(_,v,C),T=D?D.range(_,+v+1):[];return b?T.reverse():T},m]}const[zm,np]=Hm(is,Aw,Qu,va,$m,Yu),[qm,Wm]=Hm(rs,Um,Gu,$l,gw,Vm);function Gm(r){if(0<=r.y&&r.y<100){var o=new Date(-1,r.m,r.d,r.H,r.M,r.S,r.L);return o.setFullYear(r.y),o}return new Date(r.y,r.m,r.d,r.H,r.M,r.S,r.L)}function Ym(r){if(0<=r.y&&r.y<100){var o=new Date(Date.UTC(-1,r.m,r.d,r.H,r.M,r.S,r.L));return o.setUTCFullYear(r.y),o}return new Date(Date.UTC(r.y,r.m,r.d,r.H,r.M,r.S,r.L))}function Ku(r,o,a){return{y:r,m:o,d:a,H:0,M:0,S:0,L:0}}function Rw(r){var o=r.dateTime,a=r.date,u=r.time,l=r.periods,d=r.days,h=r.shortDays,g=r.months,m=r.shortMonths,_=Jr(l),v=Ki(l),C=Jr(d),b=Ki(d),D=Jr(h),T=Ki(h),I=Jr(g),x=Ki(g),S=Jr(m),P=Ki(m),N={a:function(ge){return h[ge.getDay()]},A:function(ge){return d[ge.getDay()]},b:function(ge){return m[ge.getMonth()]},B:function(ge){return g[ge.getMonth()]},c:null,d:Xu,e:Xu,f:Jm,g:aM,G:ny,H:iM,I:Ca,j:oM,L:Xm,m:Yl,M:ey,p:function(ge){return l[+(ge.getHours()>=12)]},q:function(ge){return 1+~~(ge.getMonth()/3)},Q:Hw,s:zw,S:Lw,u:Ju,U:sM,V:Vw,w:Bw,W:jw,x:null,X:null,y:ip,Y:ty,Z:MA,"%":op},A={a:function(ge){return h[ge.getUTCDay()]},A:function(ge){return d[ge.getUTCDay()]},b:function(ge){return m[ge.getUTCMonth()]},B:function(ge){return g[ge.getUTCMonth()]},c:null,d:uM,e:uM,f:cM,g:gM,G:yM,H:Ge,I:SA,j:Kl,L:Uw,m:lM,M:TA,p:function(ge){return l[+(ge.getUTCHours()>=12)]},q:function(ge){return 1+~~(ge.getUTCMonth()/3)},Q:Hw,s:zw,S:IA,u:fM,U:Wn,V:dM,w:ry,W:hM,x:null,X:null,y:pM,Y:mM,Z:_M,"%":op},F={a:function(ge,Ye,$e){var le=D.exec(Ye.slice($e));return le?(ge.w=T.get(le[0].toLowerCase()),$e+le[0].length):-1},A:function(ge,Ye,$e){var le=C.exec(Ye.slice($e));return le?(ge.w=b.get(le[0].toLowerCase()),$e+le[0].length):-1},b:function(ge,Ye,$e){var le=S.exec(Ye.slice($e));return le?(ge.m=P.get(le[0].toLowerCase()),$e+le[0].length):-1},B:function(ge,Ye,$e){var le=I.exec(Ye.slice($e));return le?(ge.m=x.get(le[0].toLowerCase()),$e+le[0].length):-1},c:function(ge,Ye,$e){return Z(ge,o,Ye,$e)},d:kw,e:kw,f:rM,g:tM,G:os,H:Fr,I:Fr,j:nM,L:Ow,m:xA,M:Zt,p:function(ge,Ye,$e){var le=_.exec(Ye.slice($e));return le?(ge.p=v.get(le[0].toLowerCase()),$e+le[0].length):-1},q:Pw,Q:Zm,s:Zu,S:Ei,u:EA,U:Ke,V:ei,w:Gl,W:Km,x:function(ge,Ye,$e){return Z(ge,a,Ye,$e)},X:function(ge,Ye,$e){return Z(ge,u,Ye,$e)},y:tM,Y:os,Z:Nw,"%":Fw};function V(ge,Ye){return function($e){var Mn,Xe,ln,le=[],nn=-1,St=0,dr=ge.length;for($e instanceof Date||($e=new Date(+$e));++nn<dr;)37===ge.charCodeAt(nn)&&(le.push(ge.slice(St,nn)),null!=(Xe=Qm[Mn=ge.charAt(++nn)])?Mn=ge.charAt(++nn):Xe="e"===Mn?" ":"0",(ln=Ye[Mn])&&(Mn=ln($e,Xe)),le.push(Mn),St=nn+1);return le.push(ge.slice(St,nn)),le.join("")}}function Q(ge,Ye){return function($e){var St,dr,le=Ku(1900,void 0,1);if(Z(le,ge,$e+="",0)!=$e.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(1e3*le.s+("L"in le?le.L:0));if(Ye&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+12*le.p),void 0===le.m&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(dr=(St=Ym(Ku(le.y,0,1))).getUTCDay(),St=dr>4||0===dr?Wl.ceil(St):Wl(St),St=va.offset(St,7*(le.V-1)),le.y=St.getUTCFullYear(),le.m=St.getUTCMonth(),le.d=St.getUTCDate()+(le.w+6)%7):(dr=(St=Gm(Ku(le.y,0,1))).getDay(),St=dr>4||0===dr?Hl.ceil(St):Hl(St),St=$l.offset(St,7*(le.V-1)),le.y=St.getFullYear(),le.m=St.getMonth(),le.d=St.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),dr="Z"in le?Ym(Ku(le.y,0,1)).getUTCDay():Gm(Ku(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+7*le.W-(dr+5)%7:le.w+7*le.U-(dr+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,Ym(le)):Gm(le)}}function Z(ge,Ye,$e,le){for(var Mn,Xe,nn=0,St=Ye.length,dr=$e.length;nn<St;){if(le>=dr)return-1;if(37===(Mn=Ye.charCodeAt(nn++))){if(Mn=Ye.charAt(nn++),!(Xe=F[Mn in Qm?Ye.charAt(nn++):Mn])||(le=Xe(ge,$e,le))<0)return-1}else if(Mn!=$e.charCodeAt(le++))return-1}return le}return N.x=V(a,N),N.X=V(u,N),N.c=V(o,N),A.x=V(a,A),A.X=V(u,A),A.c=V(o,A),{format:function(ge){var Ye=V(ge+="",N);return Ye.toString=function(){return ge},Ye},parse:function(ge){var Ye=Q(ge+="",!1);return Ye.toString=function(){return ge},Ye},utcFormat:function(ge){var Ye=V(ge+="",A);return Ye.toString=function(){return ge},Ye},utcParse:function(ge){var Ye=Q(ge+="",!0);return Ye.toString=function(){return ge},Ye}}}var Da,Zl,qw,iy,oy,Qm={"-":"",_:" ",0:"0"},un=/^\s*\d+/,rp=/^%/,DA=/[\\^$*+?|[\]().{}]/g;function dt(r,o,a){var u=r<0?"-":"",l=(u?-r:r)+"",d=l.length;return u+(d<a?new Array(a-d+1).join(o)+l:l)}function Et(r){return r.replace(DA,"\\$&")}function Jr(r){return new RegExp("^(?:"+r.map(Et).join("|")+")","i")}function Ki(r){return new Map(r.map((o,a)=>[o.toLowerCase(),a]))}function Gl(r,o,a){var u=un.exec(o.slice(a,a+1));return u?(r.w=+u[0],a+u[0].length):-1}function EA(r,o,a){var u=un.exec(o.slice(a,a+1));return u?(r.u=+u[0],a+u[0].length):-1}function Ke(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.U=+u[0],a+u[0].length):-1}function ei(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.V=+u[0],a+u[0].length):-1}function Km(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.W=+u[0],a+u[0].length):-1}function os(r,o,a){var u=un.exec(o.slice(a,a+4));return u?(r.y=+u[0],a+u[0].length):-1}function tM(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.y=+u[0]+(+u[0]>68?1900:2e3),a+u[0].length):-1}function Nw(r,o,a){var u=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(a,a+6));return u?(r.Z=u[1]?0:-(u[2]+(u[3]||"00")),a+u[0].length):-1}function Pw(r,o,a){var u=un.exec(o.slice(a,a+1));return u?(r.q=3*u[0]-3,a+u[0].length):-1}function xA(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.m=u[0]-1,a+u[0].length):-1}function kw(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.d=+u[0],a+u[0].length):-1}function nM(r,o,a){var u=un.exec(o.slice(a,a+3));return u?(r.m=0,r.d=+u[0],a+u[0].length):-1}function Fr(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.H=+u[0],a+u[0].length):-1}function Zt(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.M=+u[0],a+u[0].length):-1}function Ei(r,o,a){var u=un.exec(o.slice(a,a+2));return u?(r.S=+u[0],a+u[0].length):-1}function Ow(r,o,a){var u=un.exec(o.slice(a,a+3));return u?(r.L=+u[0],a+u[0].length):-1}function rM(r,o,a){var u=un.exec(o.slice(a,a+6));return u?(r.L=Math.floor(u[0]/1e3),a+u[0].length):-1}function Fw(r,o,a){var u=rp.exec(o.slice(a,a+1));return u?a+u[0].length:-1}function Zm(r,o,a){var u=un.exec(o.slice(a));return u?(r.Q=+u[0],a+u[0].length):-1}function Zu(r,o,a){var u=un.exec(o.slice(a));return u?(r.s=+u[0],a+u[0].length):-1}function Xu(r,o){return dt(r.getDate(),o,2)}function iM(r,o){return dt(r.getHours(),o,2)}function Ca(r,o){return dt(r.getHours()%12||12,o,2)}function oM(r,o){return dt(1+$l.count(rs(r),r),o,3)}function Xm(r,o){return dt(r.getMilliseconds(),o,3)}function Jm(r,o){return Xm(r,o)+"000"}function Yl(r,o){return dt(r.getMonth()+1,o,2)}function ey(r,o){return dt(r.getMinutes(),o,2)}function Lw(r,o){return dt(r.getSeconds(),o,2)}function Ju(r){var o=r.getDay();return 0===o?7:o}function sM(r,o){return dt(Gu.count(rs(r)-1,r),o,2)}function Ql(r){var o=r.getDay();return o>=4||0===o?ns(r):ns.ceil(r)}function Vw(r,o){return r=Ql(r),dt(ns.count(rs(r),r)+(4===rs(r).getDay()),o,2)}function Bw(r){return r.getDay()}function jw(r,o){return dt(Hl.count(rs(r)-1,r),o,2)}function ip(r,o){return dt(r.getFullYear()%100,o,2)}function aM(r,o){return dt((r=Ql(r)).getFullYear()%100,o,2)}function ty(r,o){return dt(r.getFullYear()%1e4,o,4)}function ny(r,o){var a=r.getDay();return dt((r=a>=4||0===a?ns(r):ns.ceil(r)).getFullYear()%1e4,o,4)}function MA(r){var o=r.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+dt(o/60|0,"0",2)+dt(o%60,"0",2)}function uM(r,o){return dt(r.getUTCDate(),o,2)}function Ge(r,o){return dt(r.getUTCHours(),o,2)}function SA(r,o){return dt(r.getUTCHours()%12||12,o,2)}function Kl(r,o){return dt(1+va.count(is(r),r),o,3)}function Uw(r,o){return dt(r.getUTCMilliseconds(),o,3)}function cM(r,o){return Uw(r,o)+"000"}function lM(r,o){return dt(r.getUTCMonth()+1,o,2)}function TA(r,o){return dt(r.getUTCMinutes(),o,2)}function IA(r,o){return dt(r.getUTCSeconds(),o,2)}function fM(r){var o=r.getUTCDay();return 0===o?7:o}function Wn(r,o){return dt(Qu.count(is(r)-1,r),o,2)}function $w(r){var o=r.getUTCDay();return o>=4||0===o?wa(r):wa.ceil(r)}function dM(r,o){return r=$w(r),dt(wa.count(is(r),r)+(4===is(r).getUTCDay()),o,2)}function ry(r){return r.getUTCDay()}function hM(r,o){return dt(Wl.count(is(r)-1,r),o,2)}function pM(r,o){return dt(r.getUTCFullYear()%100,o,2)}function gM(r,o){return dt((r=$w(r)).getUTCFullYear()%100,o,2)}function mM(r,o){return dt(r.getUTCFullYear()%1e4,o,4)}function yM(r,o){var a=r.getUTCDay();return dt((r=a>=4||0===a?wa(r):wa.ceil(r)).getUTCFullYear()%1e4,o,4)}function _M(){return"+0000"}function op(){return"%"}function Hw(r){return+r}function zw(r){return Math.floor(+r/1e3)}function Ww(r){return Da=Rw(r),Zl=Da.format,qw=Da.parse,iy=Da.utcFormat,oy=Da.utcParse,Da}function vM(r){return new Date(r)}function bM(r){return r instanceof Date?+r:+new Date(+r)}function sy(r,o,a,u,l,d,h,g,m,_){var v=Vl(),C=v.invert,b=v.domain,D=_(".%L"),T=_(":%S"),I=_("%I:%M"),x=_("%I %p"),S=_("%a %d"),P=_("%b %d"),N=_("%B"),A=_("%Y");function F(V){return(m(V)<V?D:g(V)<V?T:h(V)<V?I:d(V)<V?x:u(V)<V?l(V)<V?S:P:a(V)<V?N:A)(V)}return v.invert=function(V){return new Date(C(V))},v.domain=function(V){return arguments.length?b(Array.from(V,bM)):b().map(vM)},v.ticks=function(V){var Q=b();return r(Q[0],Q[Q.length-1],null==V?10:V)},v.tickFormat=function(V,Q){return null==Q?F:_(Q)},v.nice=function(V){var Q=b();return(!V||"function"!=typeof V.range)&&(V=o(Q[0],Q[Q.length-1],null==V?10:V)),V?b(tw(Q,V)):v},v.copy=function(){return Wu(v,sy(r,o,a,u,l,d,h,g,m,_))},v}function wM(){return qn.apply(sy(qm,Wm,rs,Um,Gu,$l,gw,Vm,Pr,Zl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xl(){return qn.apply(sy(zm,np,is,Aw,Qu,va,$m,Yu,Pr,iy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sp(){var a,u,l,d,m,r=0,o=1,h=nr,g=!1;function _(C){return null==C||isNaN(C=+C)?m:h(0===l?.5:(C=(d(C)-a)*l,g?Math.max(0,Math.min(1,C)):C))}function v(C){return function(b){var D,T;return arguments.length?([D,T]=b,h=C(D,T),_):[h(0),h(1)]}}return _.domain=function(C){return arguments.length?([r,o]=C,a=d(r=+r),u=d(o=+o),l=a===u?0:1/(u-a),_):[r,o]},_.clamp=function(C){return arguments.length?(g=!!C,_):g},_.interpolator=function(C){return arguments.length?(h=C,_):h},_.range=v(tn),_.rangeRound=v(jh),_.unknown=function(C){return arguments.length?(m=C,_):m},function(C){return d=C,a=C(r),u=C(o),l=a===u?0:1/(u-a),_}}function ss(r,o){return o.domain(r.domain()).interpolator(r.interpolator()).clamp(r.clamp()).unknown(r.unknown())}function ay(){var r=xo(sp()(nr));return r.copy=function(){return ss(r,ay())},Eo.apply(r,arguments)}function ec(){var r=Im(sp()).domain([1,10]);return r.copy=function(){return ss(r,ec()).base(r.base())},Eo.apply(r,arguments)}function CM(){var r=Yh(sp());return r.copy=function(){return ss(r,CM()).constant(r.constant())},Eo.apply(r,arguments)}function ap(){var r=Rm(sp());return r.copy=function(){return ss(r,ap()).exponent(r.exponent())},Eo.apply(r,arguments)}function DM(){return ap.apply(null,arguments).exponent(.5)}function Gw(){var r=[],o=nr;function a(u){if(null!=u&&!isNaN(u=+u))return o((Ii(r,u,1)-1)/(r.length-1))}return a.domain=function(u){if(!arguments.length)return r.slice();r=[];for(let l of u)null!=l&&!isNaN(l=+l)&&r.push(l);return r.sort(Vt),a},a.interpolator=function(u){return arguments.length?(o=u,a):o},a.range=function(){return r.map((u,l)=>o(l/(r.length-1)))},a.quantiles=function(u){return Array.from({length:u+1},(l,d)=>de(r,d/u))},a.copy=function(){return Gw(o).domain(r)},Eo.apply(a,arguments)}function up(){var l,d,h,g,m,v,b,r=0,o=.5,a=1,u=1,_=nr,C=!1;function D(I){return isNaN(I=+I)?b:(I=.5+((I=+v(I))-d)*(u*I<u*d?g:m),_(C?Math.max(0,Math.min(1,I)):I))}function T(I){return function(x){var S,P,N;return arguments.length?([S,P,N]=x,_=Vb(I,[S,P,N]),D):[_(0),_(.5),_(1)]}}return D.domain=function(I){return arguments.length?([r,o,a]=I,l=v(r=+r),d=v(o=+o),h=v(a=+a),g=l===d?0:.5/(d-l),m=d===h?0:.5/(h-d),u=d<l?-1:1,D):[r,o,a]},D.clamp=function(I){return arguments.length?(C=!!I,D):C},D.interpolator=function(I){return arguments.length?(_=I,D):_},D.range=T(tn),D.rangeRound=T(jh),D.unknown=function(I){return arguments.length?(b=I,D):b},function(I){return v=I,l=I(r),d=I(o),h=I(a),g=l===d?0:.5/(d-l),m=d===h?0:.5/(h-d),u=d<l?-1:1,D}}function Yw(){var r=xo(up()(nr));return r.copy=function(){return ss(r,Yw())},Eo.apply(r,arguments)}function Qw(){var r=Im(up()).domain([.1,1,10]);return r.copy=function(){return ss(r,Qw()).base(r.base())},Eo.apply(r,arguments)}function uy(){var r=Yh(up());return r.copy=function(){return ss(r,uy()).constant(r.constant())},Eo.apply(r,arguments)}function cy(){var r=Rm(up());return r.copy=function(){return ss(r,cy()).exponent(r.exponent())},Eo.apply(r,arguments)}function EM(){return cy.apply(null,arguments).exponent(.5)}function tt(r){for(var o=r.length/6|0,a=new Array(o),u=0;u<o;)a[u]="#"+r.slice(6*u,6*++u);return a}Ww({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const AA=tt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),RA=tt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ly=tt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),xM=tt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),MM=tt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),SM=tt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),TM=tt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),IM=tt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),AM=tt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Kw=tt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Mt=r=>Xf(r[r.length-1]);var Zw=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(tt);const tc=Mt(Zw);var kn=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(tt);const Xw=Mt(kn);var ti=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(tt);const fy=Mt(ti);var Jw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(tt);const eC=Mt(Jw);var dy=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(tt);const tC=Mt(dy);var nC=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(tt);const RM=Mt(nC);var rC=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(tt);const iC=Mt(rC);var oC=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(tt);const NA=Mt(oC);var sC=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(tt);const NM=Mt(sC);var Ea=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(tt);const PA=Mt(Ea);var hy=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(tt);const PM=Mt(hy);var kM=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(tt);const aC=Mt(kM);var uC=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(tt);const py=Mt(uC);var cC=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(tt);const OM=Mt(cC);var lC=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(tt);const FM=Mt(lC);var fC=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(tt);const LM=Mt(fC);var dC=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(tt);const VM=Mt(dC);var hC=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(tt);const BM=Mt(hC);var nc=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(tt);const pC=Mt(nc);var gy=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(tt);const gC=Mt(gy);var my=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(tt);const mC=Mt(my);var yC=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(tt);const jM=Mt(yC);var _C=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(tt);const UM=Mt(_C);var vC=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(tt);const $M=Mt(vC);var bC=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(tt);const Jl=Mt(bC);var rc=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(tt);const HM=Mt(rc);var cp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(tt);const ni=Mt(cp);function zM(r){return r=Math.max(0,Math.min(1,r)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-r*(35.34-r*(2381.73-r*(6402.7-r*(7024.72-2710.57*r)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+r*(170.73+r*(52.82-r*(131.46-r*(176.58-67.37*r)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+r*(442.36-r*(2482.43-r*(6167.24-r*(6614.94-2475.67*r)))))))+")"}const lp=$h(Yr(300,.5,0),Yr(-240,.5,1));var qM=$h(Yr(-100,.75,.35),Yr(80,1.5,.8)),WM=$h(Yr(260,.75,.35),Yr(80,1.5,.8)),yy=Yr();function _y(r){(r<0||r>1)&&(r-=Math.floor(r));var o=Math.abs(r-.5);return yy.h=360*r-100,yy.s=1.5-1.5*o,yy.l=.8-.9*o,yy+""}var ic=it(),wC=Math.PI/3,vy=2*Math.PI/3;function by(r){var o;return r=(.5-r)*Math.PI,ic.r=255*(o=Math.sin(r))*o,ic.g=255*(o=Math.sin(r+wC))*o,ic.b=255*(o=Math.sin(r+vy))*o,ic+""}function GM(r){return r=Math.max(0,Math.min(1,r)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+r*(1172.33-r*(10793.56-r*(33300.12-r*(38394.49-14825.05*r)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+r*(557.33+r*(1225.33-r*(3574.96-r*(1073.77+707.56*r)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+r*(3211.1-r*(15327.97-r*(27814-r*(22569.18-6838.66*r)))))))+")"}function fp(r){var o=r.length;return function(a){return r[Math.max(0,Math.min(o-1,Math.floor(a*o)))]}}const YM=fp(tt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var QM=fp(tt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),CC=fp(tt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),wy=fp(tt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Cy(r){return ft($p(r).call(document.documentElement))}var KM=0;function dp(){return new ef}function ef(){this._="@"+(++KM).toString(36)}function ZM(r,o){return r.target&&(r=lo(r),void 0===o&&(o=r.currentTarget),r=r.touches||[r]),Array.from(r,a=>pt(a,o))}function DC(r){return"string"==typeof r?new Cn([document.querySelectorAll(r)],[document.documentElement]):new Cn([null==r?[]:x_(r)],Gf)}function Ze(r){return function(){return r}}ef.prototype=dp.prototype={constructor:ef,get:function(r){for(var o=this._;!(o in r);)if(!(r=r.parentNode))return;return r[o]},set:function(r,o){return r[this._]=o},remove:function(r){return this._ in r&&delete r[this._]},toString:function(){return this._}};var EC=Math.abs,On=Math.atan2,xa=Math.cos,kA=Math.max,Fn=Math.min,rr=Math.sin,oc=Math.sqrt,Gn=1e-12,Ma=Math.PI,as=Ma/2,us=2*Ma;function Dy(r){return r>1?0:r<-1?Ma:Math.acos(r)}function xC(r){return r>=1?as:r<=-1?-as:Math.asin(r)}function MC(r){return r.innerRadius}function XM(r){return r.outerRadius}function JM(r){return r.startAngle}function Ey(r){return r.endAngle}function SC(r){return r&&r.padAngle}function TC(r,o,a,u,l,d,h,g){var m=a-r,_=u-o,v=h-l,C=g-d,b=C*m-v*_;if(!(b*b<Gn))return[r+(b=(v*(o-d)-C*(r-l))/b)*m,o+b*_]}function Sa(r,o,a,u,l,d,h){var g=r-a,m=o-u,_=(h?d:-d)/oc(g*g+m*m),v=_*m,C=-_*g,b=r+v,D=o+C,T=a+v,I=u+C,x=(b+T)/2,S=(D+I)/2,P=T-b,N=I-D,A=P*P+N*N,F=l-d,V=b*I-T*D,Q=(N<0?-1:1)*oc(kA(0,F*F*A-V*V)),Z=(V*N-P*Q)/A,te=(-V*P-N*Q)/A,H=(V*N+P*Q)/A,j=(-V*P+N*Q)/A,J=Z-x,Y=te-S,B=H-x,$=j-S;return J*J+Y*Y>B*B+$*$&&(Z=H,te=j),{cx:Z,cy:te,x01:-v,y01:-C,x11:Z*(l/F-1),y11:te*(l/F-1)}}function xy(){var r=MC,o=XM,a=Ze(0),u=null,l=JM,d=Ey,h=SC,g=null;function m(){var _,v,C=+r.apply(this,arguments),b=+o.apply(this,arguments),D=l.apply(this,arguments)-as,T=d.apply(this,arguments)-as,I=EC(T-D),x=T>D;if(g||(g=_=Go()),b<C&&(v=b,b=C,C=v),b>Gn)if(I>us-Gn)g.moveTo(b*xa(D),b*rr(D)),g.arc(0,0,b,D,T,!x),C>Gn&&(g.moveTo(C*xa(T),C*rr(T)),g.arc(0,0,C,T,D,x));else{var J,Y,S=D,P=T,N=D,A=T,F=I,V=I,Q=h.apply(this,arguments)/2,Z=Q>Gn&&(u?+u.apply(this,arguments):oc(C*C+b*b)),te=Fn(EC(b-C)/2,+a.apply(this,arguments)),H=te,j=te;if(Z>Gn){var B=xC(Z/C*rr(Q)),$=xC(Z/b*rr(Q));(F-=2*B)>Gn?(N+=B*=x?1:-1,A-=B):(F=0,N=A=(D+T)/2),(V-=2*$)>Gn?(S+=$*=x?1:-1,P-=$):(V=0,S=P=(D+T)/2)}var z=b*xa(S),ee=b*rr(S),ie=C*xa(A),ue=C*rr(A);if(te>Gn){var Je,pe=b*xa(P),De=b*rr(P),Me=C*xa(N),wt=C*rr(N);if(I<Ma&&(Je=TC(z,ee,Me,wt,pe,De,ie,ue))){var Ct=z-Je[0],pn=ee-Je[1],mt=pe-Je[0],xn=De-Je[1],ge=1/rr(Dy((Ct*mt+pn*xn)/(oc(Ct*Ct+pn*pn)*oc(mt*mt+xn*xn)))/2),Ye=oc(Je[0]*Je[0]+Je[1]*Je[1]);H=Fn(te,(C-Ye)/(ge-1)),j=Fn(te,(b-Ye)/(ge+1))}}V>Gn?j>Gn?(J=Sa(Me,wt,z,ee,b,j,x),Y=Sa(pe,De,ie,ue,b,j,x),g.moveTo(J.cx+J.x01,J.cy+J.y01),j<te?g.arc(J.cx,J.cy,j,On(J.y01,J.x01),On(Y.y01,Y.x01),!x):(g.arc(J.cx,J.cy,j,On(J.y01,J.x01),On(J.y11,J.x11),!x),g.arc(0,0,b,On(J.cy+J.y11,J.cx+J.x11),On(Y.cy+Y.y11,Y.cx+Y.x11),!x),g.arc(Y.cx,Y.cy,j,On(Y.y11,Y.x11),On(Y.y01,Y.x01),!x))):(g.moveTo(z,ee),g.arc(0,0,b,S,P,!x)):g.moveTo(z,ee),C>Gn&&F>Gn?H>Gn?(J=Sa(ie,ue,pe,De,C,-H,x),Y=Sa(z,ee,Me,wt,C,-H,x),g.lineTo(J.cx+J.x01,J.cy+J.y01),H<te?g.arc(J.cx,J.cy,H,On(J.y01,J.x01),On(Y.y01,Y.x01),!x):(g.arc(J.cx,J.cy,H,On(J.y01,J.x01),On(J.y11,J.x11),!x),g.arc(0,0,C,On(J.cy+J.y11,J.cx+J.x11),On(Y.cy+Y.y11,Y.cx+Y.x11),x),g.arc(Y.cx,Y.cy,H,On(Y.y11,Y.x11),On(Y.y01,Y.x01),!x))):g.arc(0,0,C,A,N,x):g.lineTo(ie,ue)}else g.moveTo(0,0);if(g.closePath(),_)return g=null,_+""||null}return m.centroid=function(){var _=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2,v=(+l.apply(this,arguments)+ +d.apply(this,arguments))/2-Ma/2;return[xa(v)*_,rr(v)*_]},m.innerRadius=function(_){return arguments.length?(r="function"==typeof _?_:Ze(+_),m):r},m.outerRadius=function(_){return arguments.length?(o="function"==typeof _?_:Ze(+_),m):o},m.cornerRadius=function(_){return arguments.length?(a="function"==typeof _?_:Ze(+_),m):a},m.padRadius=function(_){return arguments.length?(u=null==_?null:"function"==typeof _?_:Ze(+_),m):u},m.startAngle=function(_){return arguments.length?(l="function"==typeof _?_:Ze(+_),m):l},m.endAngle=function(_){return arguments.length?(d="function"==typeof _?_:Ze(+_),m):d},m.padAngle=function(_){return arguments.length?(h="function"==typeof _?_:Ze(+_),m):h},m.context=function(_){return arguments.length?(g=null==_?null:_,m):g},m}var OA=Array.prototype.slice;function tf(r){return"object"==typeof r&&"length"in r?r:Array.from(r)}function IC(r){this._context=r}function nf(r){return new IC(r)}function sc(r){return r[0]}function hp(r){return r[1]}function My(r,o){var a=Ze(!0),u=null,l=nf,d=null;function h(g){var m,v,b,_=(g=tf(g)).length,C=!1;for(null==u&&(d=l(b=Go())),m=0;m<=_;++m)!(m<_&&a(v=g[m],m,g))===C&&((C=!C)?d.lineStart():d.lineEnd()),C&&d.point(+r(v,m,g),+o(v,m,g));if(b)return d=null,b+""||null}return r="function"==typeof r?r:void 0===r?sc:Ze(r),o="function"==typeof o?o:void 0===o?hp:Ze(o),h.x=function(g){return arguments.length?(r="function"==typeof g?g:Ze(+g),h):r},h.y=function(g){return arguments.length?(o="function"==typeof g?g:Ze(+g),h):o},h.defined=function(g){return arguments.length?(a="function"==typeof g?g:Ze(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,null!=u&&(d=l(u)),h):l},h.context=function(g){return arguments.length?(null==g?u=d=null:d=l(u=g),h):u},h}function pp(r,o,a){var u=null,l=Ze(!0),d=null,h=nf,g=null;function m(v){var C,b,D,I,S,T=(v=tf(v)).length,x=!1,P=new Array(T),N=new Array(T);for(null==d&&(g=h(S=Go())),C=0;C<=T;++C){if(!(C<T&&l(I=v[C],C,v))===x)if(x=!x)b=C,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),D=C-1;D>=b;--D)g.point(P[D],N[D]);g.lineEnd(),g.areaEnd()}x&&(P[C]=+r(I,C,v),N[C]=+o(I,C,v),g.point(u?+u(I,C,v):P[C],a?+a(I,C,v):N[C]))}if(S)return g=null,S+""||null}function _(){return My().defined(l).curve(h).context(d)}return r="function"==typeof r?r:void 0===r?sc:Ze(+r),o="function"==typeof o?o:Ze(void 0===o?0:+o),a="function"==typeof a?a:void 0===a?hp:Ze(+a),m.x=function(v){return arguments.length?(r="function"==typeof v?v:Ze(+v),u=null,m):r},m.x0=function(v){return arguments.length?(r="function"==typeof v?v:Ze(+v),m):r},m.x1=function(v){return arguments.length?(u=null==v?null:"function"==typeof v?v:Ze(+v),m):u},m.y=function(v){return arguments.length?(o="function"==typeof v?v:Ze(+v),a=null,m):o},m.y0=function(v){return arguments.length?(o="function"==typeof v?v:Ze(+v),m):o},m.y1=function(v){return arguments.length?(a=null==v?null:"function"==typeof v?v:Ze(+v),m):a},m.lineX0=m.lineY0=function(){return _().x(r).y(o)},m.lineY1=function(){return _().x(r).y(a)},m.lineX1=function(){return _().x(u).y(o)},m.defined=function(v){return arguments.length?(l="function"==typeof v?v:Ze(!!v),m):l},m.curve=function(v){return arguments.length?(h=v,null!=d&&(g=h(d)),m):h},m.context=function(v){return arguments.length?(null==v?d=g=null:g=h(d=v),m):d},m}function Sy(r,o){return o<r?-1:o>r?1:o>=r?0:NaN}function eS(r){return r}function tS(){var r=eS,o=Sy,a=null,u=Ze(0),l=Ze(us),d=Ze(0);function h(g){var m,v,C,S,A,_=(g=tf(g)).length,b=0,D=new Array(_),T=new Array(_),I=+u.apply(this,arguments),x=Math.min(us,Math.max(-us,l.apply(this,arguments)-I)),P=Math.min(Math.abs(x)/_,d.apply(this,arguments)),N=P*(x<0?-1:1);for(m=0;m<_;++m)(A=T[D[m]=m]=+r(g[m],m,g))>0&&(b+=A);for(null!=o?D.sort(function(F,V){return o(T[F],T[V])}):null!=a&&D.sort(function(F,V){return a(g[F],g[V])}),m=0,C=b?(x-_*N)/b:0;m<_;++m,I=S)T[v=D[m]]={data:g[v],index:m,value:A=T[v],startAngle:I,endAngle:S=I+(A>0?A*C:0)+N,padAngle:P};return T}return h.value=function(g){return arguments.length?(r="function"==typeof g?g:Ze(+g),h):r},h.sortValues=function(g){return arguments.length?(o=g,a=null,h):o},h.sort=function(g){return arguments.length?(a=g,o=null,h):a},h.startAngle=function(g){return arguments.length?(u="function"==typeof g?g:Ze(+g),h):u},h.endAngle=function(g){return arguments.length?(l="function"==typeof g?g:Ze(+g),h):l},h.padAngle=function(g){return arguments.length?(d="function"==typeof g?g:Ze(+g),h):d},h}IC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;default:this._context.lineTo(r,o)}}};var Ty=gp(nf);function Iy(r){this._curve=r}function gp(r){function o(a){return new Iy(r(a))}return o._curve=r,o}function rf(r){var o=r.curve;return r.angle=r.x,delete r.x,r.radius=r.y,delete r.y,r.curve=function(a){return arguments.length?o(gp(a)):o()._curve},r}function Ay(){return rf(My().curve(Ty))}function Ry(){var r=pp().curve(Ty),o=r.curve,a=r.lineX0,u=r.lineX1,l=r.lineY0,d=r.lineY1;return r.angle=r.x,delete r.x,r.startAngle=r.x0,delete r.x0,r.endAngle=r.x1,delete r.x1,r.radius=r.y,delete r.y,r.innerRadius=r.y0,delete r.y0,r.outerRadius=r.y1,delete r.y1,r.lineStartAngle=function(){return rf(a())},delete r.lineX0,r.lineEndAngle=function(){return rf(u())},delete r.lineX1,r.lineInnerRadius=function(){return rf(l())},delete r.lineY0,r.lineOuterRadius=function(){return rf(d())},delete r.lineY1,r.curve=function(h){return arguments.length?o(gp(h)):o()._curve},r}function of(r,o){return[(o=+o)*Math.cos(r-=Math.PI/2),o*Math.sin(r)]}function nS(r){return r.source}function AC(r){return r.target}function Ny(r){var o=nS,a=AC,u=sc,l=hp,d=null;function h(){var g,m=OA.call(arguments),_=o.apply(this,m),v=a.apply(this,m);if(d||(d=g=Go()),r(d,+u.apply(this,(m[0]=_,m)),+l.apply(this,m),+u.apply(this,(m[0]=v,m)),+l.apply(this,m)),g)return d=null,g+""||null}return h.source=function(g){return arguments.length?(o=g,h):o},h.target=function(g){return arguments.length?(a=g,h):a},h.x=function(g){return arguments.length?(u="function"==typeof g?g:Ze(+g),h):u},h.y=function(g){return arguments.length?(l="function"==typeof g?g:Ze(+g),h):l},h.context=function(g){return arguments.length?(d=null==g?null:g,h):d},h}function RC(r,o,a,u,l){r.moveTo(o,a),r.bezierCurveTo(o=(o+u)/2,a,o,l,u,l)}function NC(r,o,a,u,l){r.moveTo(o,a),r.bezierCurveTo(o,a=(a+l)/2,u,a,u,l)}function PC(r,o,a,u,l){var d=of(o,a),h=of(o,a=(a+l)/2),g=of(u,a),m=of(u,l);r.moveTo(d[0],d[1]),r.bezierCurveTo(h[0],h[1],g[0],g[1],m[0],m[1])}function kC(){return Ny(RC)}function rS(){return Ny(NC)}function iS(){var r=Ny(PC);return r.angle=r.x,delete r.x,r.radius=r.y,delete r.y,r}Iy.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(r,o){this._curve.point(o*Math.sin(r),o*-Math.cos(r))}};const Py={draw:function(r,o){var a=Math.sqrt(o/Ma);r.moveTo(a,0),r.arc(0,0,a,0,us)}},ky={draw:function(r,o){var a=Math.sqrt(o/5)/2;r.moveTo(-3*a,-a),r.lineTo(-a,-a),r.lineTo(-a,-3*a),r.lineTo(a,-3*a),r.lineTo(a,-a),r.lineTo(3*a,-a),r.lineTo(3*a,a),r.lineTo(a,a),r.lineTo(a,3*a),r.lineTo(-a,3*a),r.lineTo(-a,a),r.lineTo(-3*a,a),r.closePath()}};var oS=Math.sqrt(1/3),FA=2*oS;const sS={draw:function(r,o){var a=Math.sqrt(o/FA),u=a*oS;r.moveTo(0,-a),r.lineTo(u,0),r.lineTo(0,a),r.lineTo(-u,0),r.closePath()}};var aS=Math.sin(Ma/10)/Math.sin(7*Ma/10),VA=Math.sin(us/10)*aS,BA=-Math.cos(us/10)*aS;const uS={draw:function(r,o){var a=Math.sqrt(.8908130915292852*o),u=VA*a,l=BA*a;r.moveTo(0,-a),r.lineTo(u,l);for(var d=1;d<5;++d){var h=us*d/5,g=Math.cos(h),m=Math.sin(h);r.lineTo(m*a,-g*a),r.lineTo(g*u-m*l,m*u+g*l)}r.closePath()}},cS={draw:function(r,o){var a=Math.sqrt(o),u=-a/2;r.rect(u,u,a,a)}};var OC=Math.sqrt(3);const lS={draw:function(r,o){var a=-Math.sqrt(o/(3*OC));r.moveTo(0,2*a),r.lineTo(-OC*a,-a),r.lineTo(OC*a,-a),r.closePath()}};var xi=-.5,Mi=Math.sqrt(3)/2,FC=1/Math.sqrt(12),jA=3*(FC/2+1);const fS={draw:function(r,o){var a=Math.sqrt(o/jA),u=a/2,l=a*FC,d=u,h=a*FC+a,g=-d,m=h;r.moveTo(u,l),r.lineTo(d,h),r.lineTo(g,m),r.lineTo(xi*u-Mi*l,Mi*u+xi*l),r.lineTo(xi*d-Mi*h,Mi*d+xi*h),r.lineTo(xi*g-Mi*m,Mi*g+xi*m),r.lineTo(xi*u+Mi*l,xi*l-Mi*u),r.lineTo(xi*d+Mi*h,xi*h-Mi*d),r.lineTo(xi*g+Mi*m,xi*m-Mi*g),r.closePath()}};var UA=[Py,ky,sS,cS,uS,lS,fS];function dS(r,o){var a=null;function u(){var l;if(a||(a=l=Go()),r.apply(this,arguments).draw(a,+o.apply(this,arguments)),l)return a=null,l+""||null}return r="function"==typeof r?r:Ze(r||Py),o="function"==typeof o?o:Ze(void 0===o?64:+o),u.type=function(l){return arguments.length?(r="function"==typeof l?l:Ze(l),u):r},u.size=function(l){return arguments.length?(o="function"==typeof l?l:Ze(+l),u):o},u.context=function(l){return arguments.length?(a=null==l?null:l,u):a},u}function cs(){}function mp(r,o,a){r._context.bezierCurveTo((2*r._x0+r._x1)/3,(2*r._y0+r._y1)/3,(r._x0+2*r._x1)/3,(r._y0+2*r._y1)/3,(r._x0+4*r._x1+o)/6,(r._y0+4*r._y1+a)/6)}function Oy(r){this._context=r}function $A(r){return new Oy(r)}function hS(r){this._context=r}function pS(r){return new hS(r)}function LC(r){this._context=r}function gS(r){return new LC(r)}Oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mp(this,r,o)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o}},hS.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._x2=r,this._y2=o;break;case 1:this._point=2,this._x3=r,this._y3=o;break;case 2:this._point=3,this._x4=r,this._y4=o,this._context.moveTo((this._x0+4*this._x1+r)/6,(this._y0+4*this._y1+o)/6);break;default:mp(this,r,o)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o}},LC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+r)/6,u=(this._y0+4*this._y1+o)/6;this._line?this._context.lineTo(a,u):this._context.moveTo(a,u);break;case 3:this._point=4;default:mp(this,r,o)}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o}};class mS{constructor(o,a){this._context=o,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(o,a){switch(o=+o,a=+a,this._point){case 0:this._point=1,this._line?this._context.lineTo(o,a):this._context.moveTo(o,a);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+o)/2,this._y0,this._x0,a,o,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,o,this._y0,o,a)}this._x0=o,this._y0=a}}function HA(r){return new mS(r,!0)}function zA(r){return new mS(r,!1)}function yS(r,o){this._basis=new Oy(r),this._beta=o}yS.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var r=this._x,o=this._y,a=r.length-1;if(a>0)for(var m,u=r[0],l=o[0],d=r[a]-u,h=o[a]-l,g=-1;++g<=a;)this._basis.point(this._beta*r[g]+(1-this._beta)*(u+(m=g/a)*d),this._beta*o[g]+(1-this._beta)*(l+m*h));this._x=this._y=null,this._basis.lineEnd()},point:function(r,o){this._x.push(+r),this._y.push(+o)}};const _S=function r(o){function a(u){return 1===o?new Oy(u):new yS(u,o)}return a.beta=function(u){return r(+u)},a}(.85);function Fy(r,o,a){r._context.bezierCurveTo(r._x1+r._k*(r._x2-r._x0),r._y1+r._k*(r._y2-r._y0),r._x2+r._k*(r._x1-o),r._y2+r._k*(r._y1-a),r._x2,r._y2)}function Ly(r,o){this._context=r,this._k=(1-o)/6}Ly.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2,this._x1=r,this._y1=o;break;case 2:this._point=3;default:Fy(this,r,o)}this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const sf=function r(o){function a(u){return new Ly(u,o)}return a.tension=function(u){return r(+u)},a}(0);function ls(r,o){this._context=r,this._k=(1-o)/6}ls.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._x3=r,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=r,this._y4=o);break;case 2:this._point=3,this._x5=r,this._y5=o;break;default:Fy(this,r,o)}this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const af=function r(o){function a(u){return new ls(u,o)}return a.tension=function(u){return r(+u)},a}(0);function Vy(r,o){this._context=r,this._k=(1-o)/6}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fy(this,r,o)}this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const vS=function r(o){function a(u){return new Vy(u,o)}return a.tension=function(u){return r(+u)},a}(0);function uf(r,o,a){var u=r._x1,l=r._y1,d=r._x2,h=r._y2;if(r._l01_a>Gn){var g=2*r._l01_2a+3*r._l01_a*r._l12_a+r._l12_2a,m=3*r._l01_a*(r._l01_a+r._l12_a);u=(u*g-r._x0*r._l12_2a+r._x2*r._l01_2a)/m,l=(l*g-r._y0*r._l12_2a+r._y2*r._l01_2a)/m}if(r._l23_a>Gn){var _=2*r._l23_2a+3*r._l23_a*r._l12_a+r._l12_2a,v=3*r._l23_a*(r._l23_a+r._l12_a);d=(d*_+r._x1*r._l23_2a-o*r._l12_2a)/v,h=(h*_+r._y1*r._l23_2a-a*r._l12_2a)/v}r._context.bezierCurveTo(u,l,d,h,r._x2,r._y2)}function By(r,o){this._context=r,this._alpha=o}By.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){if(r=+r,o=+o,this._point){var a=this._x2-r,u=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;break;case 2:this._point=3;default:uf(this,r,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const jy=function r(o){function a(u){return o?new By(u,o):new Ly(u,0)}return a.alpha=function(u){return r(+u)},a}(.5);function Uy(r,o){this._context=r,this._alpha=o}Uy.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(r,o){if(r=+r,o=+o,this._point){var a=this._x2-r,u=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=r,this._y3=o;break;case 1:this._point=2,this._context.moveTo(this._x4=r,this._y4=o);break;case 2:this._point=3,this._x5=r,this._y5=o;break;default:uf(this,r,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const qA=function r(o){function a(u){return o?new Uy(u,o):new ls(u,0)}return a.alpha=function(u){return r(+u)},a}(.5);function cf(r,o){this._context=r,this._alpha=o}cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){if(r=+r,o=+o,this._point){var a=this._x2-r,u=this._y2-o;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(a*a+u*u,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uf(this,r,o)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=r,this._y0=this._y1,this._y1=this._y2,this._y2=o}};const fs=function r(o){function a(u){return o?new cf(u,o):new Vy(u,0)}return a.alpha=function(u){return r(+u)},a}(.5);function $y(r){this._context=r}function WA(r){return new $y(r)}function bS(r){return r<0?-1:1}function wS(r,o,a){var u=r._x1-r._x0,l=o-r._x1,d=(r._y1-r._y0)/(u||l<0&&-0),h=(a-r._y1)/(l||u<0&&-0),g=(d*l+h*u)/(u+l);return(bS(d)+bS(h))*Math.min(Math.abs(d),Math.abs(h),.5*Math.abs(g))||0}function VC(r,o){var a=r._x1-r._x0;return a?(3*(r._y1-r._y0)/a-o)/2:o}function BC(r,o,a){var u=r._x0,d=r._x1,h=r._y1,g=(d-u)/3;r._context.bezierCurveTo(u+g,r._y0+g*o,d-g,h-g*a,d,h)}function Ta(r){this._context=r}function jC(r){this._context=new CS(r)}function CS(r){this._context=r}function GA(r){return new Ta(r)}function Hy(r){return new jC(r)}function UC(r){this._context=r}function DS(r){var o,u,a=r.length-1,l=new Array(a),d=new Array(a),h=new Array(a);for(l[0]=0,d[0]=2,h[0]=r[0]+2*r[1],o=1;o<a-1;++o)l[o]=1,d[o]=4,h[o]=4*r[o]+2*r[o+1];for(l[a-1]=2,d[a-1]=7,h[a-1]=8*r[a-1]+r[a],o=1;o<a;++o)d[o]-=u=l[o]/d[o-1],h[o]-=u*h[o-1];for(l[a-1]=h[a-1]/d[a-1],o=a-2;o>=0;--o)l[o]=(h[o]-l[o+1])/d[o];for(d[a-1]=(r[a]+l[a-1])/2,o=0;o<a-1;++o)d[o]=2*r[o+1]-l[o+1];return[l,d]}function YA(r){return new UC(r)}function yp(r,o){this._context=r,this._t=o}function QA(r){return new yp(r,.5)}function $C(r){return new yp(r,0)}function ES(r){return new yp(r,1)}function lf(r,o){if((h=r.length)>1)for(var u,l,h,a=1,d=r[o[0]],g=d.length;a<h;++a)for(l=d,d=r[o[a]],u=0;u<g;++u)d[u][1]+=d[u][0]=isNaN(l[u][1])?l[u][0]:l[u][1]}function ff(r){for(var o=r.length,a=new Array(o);--o>=0;)a[o]=o;return a}function xS(r,o){return r[o]}function Ia(r){const o=[];return o.key=r,o}function MS(){var r=Ze([]),o=ff,a=lf,u=xS;function l(d){var g,v,h=Array.from(r.apply(this,arguments),Ia),m=h.length,_=-1;for(const C of d)for(g=0,++_;g<m;++g)(h[g][_]=[0,+u(C,h[g].key,_,d)]).data=C;for(g=0,v=tf(o(h));g<m;++g)h[v[g]].index=g;return a(h,v),h}return l.keys=function(d){return arguments.length?(r="function"==typeof d?d:Ze(Array.from(d)),l):r},l.value=function(d){return arguments.length?(u="function"==typeof d?d:Ze(+d),l):u},l.order=function(d){return arguments.length?(o=null==d?ff:"function"==typeof d?d:Ze(Array.from(d)),l):o},l.offset=function(d){return arguments.length?(a=null==d?lf:d,l):a},l}function SS(r,o){if((u=r.length)>0){for(var a,u,h,l=0,d=r[0].length;l<d;++l){for(h=a=0;a<u;++a)h+=r[a][l][1]||0;if(h)for(a=0;a<u;++a)r[a][l][1]/=h}lf(r,o)}}function TS(r,o){if((m=r.length)>0)for(var a,l,d,h,g,m,u=0,_=r[o[0]].length;u<_;++u)for(h=g=0,a=0;a<m;++a)(d=(l=r[o[a]][u])[1]-l[0])>0?(l[0]=h,l[1]=h+=d):d<0?(l[1]=g,l[0]=g+=d):(l[0]=0,l[1]=d)}function zy(r,o){if((l=r.length)>0){for(var l,a=0,u=r[o[0]],d=u.length;a<d;++a){for(var h=0,g=0;h<l;++h)g+=r[h][a][1]||0;u[a][1]+=u[a][0]=-g/2}lf(r,o)}}function IS(r,o){if((h=r.length)>0&&(d=(l=r[o[0]]).length)>0){for(var l,d,h,a=0,u=1;u<d;++u){for(var g=0,m=0,_=0;g<h;++g){for(var v=r[o[g]],C=v[u][1]||0,D=(C-(v[u-1][1]||0))/2,T=0;T<g;++T){var I=r[o[T]];D+=(I[u][1]||0)-(I[u-1][1]||0)}m+=C,_+=D*C}l[u-1][1]+=l[u-1][0]=a,m&&(a-=_/m)}l[u-1][1]+=l[u-1][0]=a,lf(r,o)}}function cn(r){var o=r.map(AS);return ff(r).sort(function(a,u){return o[a]-o[u]})}function AS(r){for(var l,o=-1,a=0,u=r.length,d=-1/0;++o<u;)(l=+r[o][1])>d&&(d=l,a=o);return a}function _p(r){var o=r.map(HC);return ff(r).sort(function(a,u){return o[a]-o[u]})}function HC(r){for(var l,o=0,a=-1,u=r.length;++a<u;)(l=+r[a][1])&&(o+=l);return o}function RS(r){return _p(r).reverse()}function qy(r){var a,u,o=r.length,l=r.map(HC),d=cn(r),h=0,g=0,m=[],_=[];for(a=0;a<o;++a)u=d[a],h<g?(h+=l[u],m.push(u)):(g+=l[u],_.push(u));return _.reverse().concat(m)}function zC(r){return ff(r).reverse()}$y.prototype={areaStart:cs,areaEnd:cs,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(r,o){r=+r,o=+o,this._point?this._context.lineTo(r,o):(this._point=1,this._context.moveTo(r,o))}},Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:BC(this,this._t0,VC(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(r,o){var a=NaN;if(o=+o,(r=+r)!==this._x1||o!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;break;case 2:this._point=3,BC(this,VC(this,a=wS(this,r,o)),a);break;default:BC(this,this._t0,a=wS(this,r,o))}this._x0=this._x1,this._x1=r,this._y0=this._y1,this._y1=o,this._t0=a}}},(jC.prototype=Object.create(Ta.prototype)).point=function(r,o){Ta.prototype.point.call(this,o,r)},CS.prototype={moveTo:function(r,o){this._context.moveTo(o,r)},closePath:function(){this._context.closePath()},lineTo:function(r,o){this._context.lineTo(o,r)},bezierCurveTo:function(r,o,a,u,l,d){this._context.bezierCurveTo(o,r,u,a,d,l)}},UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var r=this._x,o=this._y,a=r.length;if(a)if(this._line?this._context.lineTo(r[0],o[0]):this._context.moveTo(r[0],o[0]),2===a)this._context.lineTo(r[1],o[1]);else for(var u=DS(r),l=DS(o),d=0,h=1;h<a;++d,++h)this._context.bezierCurveTo(u[0][d],l[0][d],u[1][d],l[1][d],r[h],o[h]);(this._line||0!==this._line&&1===a)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(r,o){this._x.push(+r),this._y.push(+o)}},yp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(r,o){switch(r=+r,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(r,o):this._context.moveTo(r,o);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,o),this._context.lineTo(r,o);else{var a=this._x*(1-this._t)+r*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,o)}}this._x=r,this._y=o}};var Wy="%Y-%m-%dT%H:%M:%S.%LZ";const qC=Date.prototype.toISOString?function(r){return r.toISOString()}:iy(Wy),Yy=+new Date("2000-01-01T00:00:00.000Z")?function(r){var o=new Date(r);return isNaN(o)?null:o}:oy(Wy);function WC(r,o,a){var u=new fo,l=o;return null==o?(u.restart(r,o,a),u):(u._restart=u.restart,u.restart=function(d,h,g){h=+h,g=null==g?kc():+g,u._restart(function m(_){_+=l,u._restart(m,l+=h,g),d(_)},h,g)},u.restart(r,o,a),u)}const df=r=>()=>r;function GC(r,{sourceEvent:o,target:a,transform:u,dispatch:l}){Object.defineProperties(this,{type:{value:r,enumerable:!0,configurable:!0},sourceEvent:{value:o,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},transform:{value:u,enumerable:!0,configurable:!0},_:{value:l}})}function So(r,o,a){this.k=r,this.x=o,this.y=a}So.prototype={constructor:So,scale:function(r){return 1===r?this:new So(this.k*r,this.x,this.y)},translate:function(r,o){return 0===r&0===o?this:new So(this.k,this.x+this.k*r,this.y+this.k*o)},apply:function(r){return[r[0]*this.k+this.x,r[1]*this.k+this.y]},applyX:function(r){return r*this.k+this.x},applyY:function(r){return r*this.k+this.y},invert:function(r){return[(r[0]-this.x)/this.k,(r[1]-this.y)/this.k]},invertX:function(r){return(r-this.x)/this.k},invertY:function(r){return(r-this.y)/this.k},rescaleX:function(r){return r.copy().domain(r.range().map(this.invertX,this).map(r.invert,r))},rescaleY:function(r){return r.copy().domain(r.range().map(this.invertY,this).map(r.invert,r))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fr=new So(1,0,0);function YC(r){for(;!r.__zoom;)if(!(r=r.parentNode))return fr;return r.__zoom}function QC(r){r.stopImmediatePropagation()}function hf(r){r.preventDefault(),r.stopImmediatePropagation()}function KA(r){return!(r.ctrlKey&&"wheel"!==r.type||r.button)}function OS(){var r=this;return r instanceof SVGElement?(r=r.ownerSVGElement||r).hasAttribute("viewBox")?[[(r=r.viewBox.baseVal).x,r.y],[r.x+r.width,r.y+r.height]]:[[0,0],[r.width.baseVal.value,r.height.baseVal.value]]:[[0,0],[r.clientWidth,r.clientHeight]]}function KC(){return this.__zoom||fr}function FS(r){return-r.deltaY*(1===r.deltaMode?.05:r.deltaMode?1:.002)*(r.ctrlKey?10:1)}function ZA(){return navigator.maxTouchPoints||"ontouchstart"in this}function LS(r,o,a){var u=r.invertX(o[0][0])-a[0][0],l=r.invertX(o[1][0])-a[1][0],d=r.invertY(o[0][1])-a[0][1],h=r.invertY(o[1][1])-a[1][1];return r.translate(l>u?(u+l)/2:Math.min(0,u)||Math.max(0,l),h>d?(d+h)/2:Math.min(0,d)||Math.max(0,h))}function ZC(){var v,C,b,r=KA,o=OS,a=LS,u=FS,l=ZA,d=[0,1/0],h=[[-1/0,-1/0],[1/0,1/0]],g=250,m=Pl,_=qa("start","zoom","end"),D=500,I=0,x=10;function S(B){B.property("__zoom",KC).on("wheel.zoom",Z).on("mousedown.zoom",te).on("dblclick.zoom",H).filter(l).on("touchstart.zoom",j).on("touchmove.zoom",J).on("touchend.zoom touchcancel.zoom",Y).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function P(B,$){return($=Math.max(d[0],Math.min(d[1],$)))===B.k?B:new So($,B.x,B.y)}function N(B,$,z){var ee=$[0]-z[0]*B.k,ie=$[1]-z[1]*B.k;return ee===B.x&&ie===B.y?B:new So(B.k,ee,ie)}function A(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function F(B,$,z,ee){B.on("start.zoom",function(){V(this,arguments).event(ee).start()}).on("interrupt.zoom end.zoom",function(){V(this,arguments).event(ee).end()}).tween("zoom",function(){var ie=this,ue=arguments,pe=V(ie,ue).event(ee),De=o.apply(ie,ue),Me=null==z?A(De):"function"==typeof z?z.apply(ie,ue):z,wt=Math.max(De[1][0]-De[0][0],De[1][1]-De[0][1]),Je=ie.__zoom,Ct="function"==typeof $?$.apply(ie,ue):$,pn=m(Je.invert(Me).concat(wt/Je.k),Ct.invert(Me).concat(wt/Ct.k));return function(mt){if(1===mt)mt=Ct;else{var xn=pn(mt),ge=wt/xn[2];mt=new So(ge,Me[0]-xn[0]*ge,Me[1]-xn[1]*ge)}pe.zoom(null,mt)}})}function V(B,$,z){return!z&&B.__zooming||new Q(B,$)}function Q(B,$){this.that=B,this.args=$,this.active=0,this.sourceEvent=null,this.extent=o.apply(B,$),this.taps=0}function Z(B,...$){if(r.apply(this,arguments)){var z=V(this,$).event(B),ee=this.__zoom,ie=Math.max(d[0],Math.min(d[1],ee.k*Math.pow(2,u.apply(this,arguments)))),ue=pt(B);if(z.wheel)(z.mouse[0][0]!==ue[0]||z.mouse[0][1]!==ue[1])&&(z.mouse[1]=ee.invert(z.mouse[0]=ue)),clearTimeout(z.wheel);else{if(ee.k===ie)return;z.mouse=[ue,ee.invert(ue)],Ho(this),z.start()}hf(B),z.wheel=setTimeout(pe,150),z.zoom("mouse",a(N(P(ee,ie),z.mouse[0],z.mouse[1]),z.extent,h))}function pe(){z.wheel=null,z.end()}}function te(B,...$){if(!b&&r.apply(this,arguments)){var z=V(this,$,!0).event(B),ee=ft(B.view).on("mousemove.zoom",Me,!0).on("mouseup.zoom",wt,!0),ie=pt(B,ue),ue=B.currentTarget,pe=B.clientX,De=B.clientY;Yf(B.view),QC(B),z.mouse=[ie,this.__zoom.invert(ie)],Ho(this),z.start()}function Me(Je){if(hf(Je),!z.moved){var Ct=Je.clientX-pe,pn=Je.clientY-De;z.moved=Ct*Ct+pn*pn>I}z.event(Je).zoom("mouse",a(N(z.that.__zoom,z.mouse[0]=pt(Je,ue),z.mouse[1]),z.extent,h))}function wt(Je){ee.on("mousemove.zoom mouseup.zoom",null),Wt(Je.view,z.moved),hf(Je),z.event(Je).end()}}function H(B,...$){if(r.apply(this,arguments)){var z=this.__zoom,ee=pt(B.changedTouches?B.changedTouches[0]:B,this),ie=z.invert(ee),ue=z.k*(B.shiftKey?.5:2),pe=a(N(P(z,ue),ee,ie),o.apply(this,$),h);hf(B),g>0?ft(this).transition().duration(g).call(F,pe,ee,B):ft(this).call(S.transform,pe,ee,B)}}function j(B,...$){if(r.apply(this,arguments)){var ue,pe,De,Me,z=B.touches,ee=z.length,ie=V(this,$,B.changedTouches.length===ee).event(B);for(QC(B),pe=0;pe<ee;++pe)Me=[Me=pt(De=z[pe],this),this.__zoom.invert(Me),De.identifier],ie.touch0?!ie.touch1&&ie.touch0[2]!==Me[2]&&(ie.touch1=Me,ie.taps=0):(ie.touch0=Me,ue=!0,ie.taps=1+!!v);v&&(v=clearTimeout(v)),ue&&(ie.taps<2&&(C=Me[0],v=setTimeout(function(){v=null},D)),Ho(this),ie.start())}}function J(B,...$){if(this.__zooming){var ue,pe,De,Me,z=V(this,$).event(B),ee=B.changedTouches,ie=ee.length;for(hf(B),ue=0;ue<ie;++ue)De=pt(pe=ee[ue],this),z.touch0&&z.touch0[2]===pe.identifier?z.touch0[0]=De:z.touch1&&z.touch1[2]===pe.identifier&&(z.touch1[0]=De);if(pe=z.that.__zoom,z.touch1){var wt=z.touch0[0],Je=z.touch0[1],Ct=z.touch1[0],pn=z.touch1[1],mt=(mt=Ct[0]-wt[0])*mt+(mt=Ct[1]-wt[1])*mt,xn=(xn=pn[0]-Je[0])*xn+(xn=pn[1]-Je[1])*xn;pe=P(pe,Math.sqrt(mt/xn)),De=[(wt[0]+Ct[0])/2,(wt[1]+Ct[1])/2],Me=[(Je[0]+pn[0])/2,(Je[1]+pn[1])/2]}else{if(!z.touch0)return;De=z.touch0[0],Me=z.touch0[1]}z.zoom("touch",a(N(pe,De,Me),z.extent,h))}}function Y(B,...$){if(this.__zooming){var ue,pe,z=V(this,$).event(B),ee=B.changedTouches,ie=ee.length;for(QC(B),b&&clearTimeout(b),b=setTimeout(function(){b=null},D),ue=0;ue<ie;++ue)pe=ee[ue],z.touch0&&z.touch0[2]===pe.identifier?delete z.touch0:z.touch1&&z.touch1[2]===pe.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),2===z.taps&&(pe=pt(pe,this),Math.hypot(C[0]-pe[0],C[1]-pe[1])<x)){var De=ft(this).on("dblclick.zoom");De&&De.apply(this,arguments)}}}return S.transform=function(B,$,z,ee){var ie=B.selection?B.selection():B;ie.property("__zoom",KC),B!==ie?F(B,$,z,ee):ie.interrupt().each(function(){V(this,arguments).event(ee).start().zoom(null,"function"==typeof $?$.apply(this,arguments):$).end()})},S.scaleBy=function(B,$,z,ee){S.scaleTo(B,function(){var ie=this.__zoom.k,ue="function"==typeof $?$.apply(this,arguments):$;return ie*ue},z,ee)},S.scaleTo=function(B,$,z,ee){S.transform(B,function(){var ie=o.apply(this,arguments),ue=this.__zoom,pe=null==z?A(ie):"function"==typeof z?z.apply(this,arguments):z,De=ue.invert(pe),Me="function"==typeof $?$.apply(this,arguments):$;return a(N(P(ue,Me),pe,De),ie,h)},z,ee)},S.translateBy=function(B,$,z,ee){S.transform(B,function(){return a(this.__zoom.translate("function"==typeof $?$.apply(this,arguments):$,"function"==typeof z?z.apply(this,arguments):z),o.apply(this,arguments),h)},null,ee)},S.translateTo=function(B,$,z,ee,ie){S.transform(B,function(){var ue=o.apply(this,arguments),pe=this.__zoom,De=null==ee?A(ue):"function"==typeof ee?ee.apply(this,arguments):ee;return a(fr.translate(De[0],De[1]).scale(pe.k).translate("function"==typeof $?-$.apply(this,arguments):-$,"function"==typeof z?-z.apply(this,arguments):-z),ue,h)},ee,ie)},Q.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,$){return this.mouse&&"mouse"!==B&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&"touch"!==B&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&"touch"!==B&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var $=ft(this.that).datum();_.call(B,this.that,new GC(B,{sourceEvent:this.sourceEvent,target:S,type:B,transform:this.that.__zoom,dispatch:_}),$)}},S.wheelDelta=function(B){return arguments.length?(u="function"==typeof B?B:df(+B),S):u},S.filter=function(B){return arguments.length?(r="function"==typeof B?B:df(!!B),S):r},S.touchable=function(B){return arguments.length?(l="function"==typeof B?B:df(!!B),S):l},S.extent=function(B){return arguments.length?(o="function"==typeof B?B:df([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),S):o},S.scaleExtent=function(B){return arguments.length?(d[0]=+B[0],d[1]=+B[1],S):[d[0],d[1]]},S.translateExtent=function(B){return arguments.length?(h[0][0]=+B[0][0],h[1][0]=+B[1][0],h[0][1]=+B[0][1],h[1][1]=+B[1][1],S):[[h[0][0],h[0][1]],[h[1][0],h[1][1]]]},S.constrain=function(B){return arguments.length?(a=B,S):a},S.duration=function(B){return arguments.length?(g=+B,S):g},S.interpolate=function(B){return arguments.length?(m=B,S):m},S.on=function(){var B=_.on.apply(_,arguments);return B===_?S:B},S.clickDistance=function(B){return arguments.length?(I=(B=+B)*B,S):Math.sqrt(I)},S.tapDistance=function(B){return arguments.length?(x=+B,S):x},S}YC.prototype=So.prototype},651:function(Fa,Ti,to){Fa.exports=function(oi){"use strict";function ps(O){if(O&&O.__esModule)return O;var W=Object.create(null);return O&&Object.keys(O).forEach(function(K){if("default"!==K){var G=Object.getOwnPropertyDescriptor(O,K);Object.defineProperty(W,K,G.get?G:{enumerable:!0,get:function(){return O[K]}})}}),W.default=O,Object.freeze(W)}var Tt="object"==typeof window&&window.d3?window.d3:ps(oi);function Cf(O,W,K){return K.find(G=>G.id!==W.id&&(G.id===O.rels.mother||G.id===O.rels.father))}function Df(O,W,K){if(O.exiting=K,W)0!==O.depth||O.spouse?O.spouse?(O._x=O.spouse.x,O._y=O.spouse.y):O.is_ancestry?(O._x=O.parent.x,O._y=O.parent.y):(O._x=O.psx,O._y=O.parent.y):(O._x=O.x,O._y=O.y);else if(K){const ve=O.y>0?1:-1;O._x=O.x+400*(O.x>0?1:-1),O._y=O.y+400*ve}}function y_(O,W){const K=W?"rels":"_rels",G=W?"_rels":"rels";function ve(ce){!O.data[K]||!O.data[K][ce]||(O.data[G]||(O.data[G]={}),O.data[G][ce]=O.data[K][ce],delete O.data[K][ce])}O.is_ancestry||O.data.main?(ve("father"),ve("mother")):function(){if(!O.data[K]||!O.data[K].children)return;const ce=O.data[K].children.slice(0);[O,...O.spouse?[O.spouse]:O.spouses||[]].forEach(se=>ce.forEach(fe=>{se.data[K].children.includes(fe)&&(se.data[G]||(se.data[G]={}),se.data[G].children||(se.data[G].children=[]),se.data[G].children.push(fe),se.data[K].children.splice(se.data[K].children.indexOf(fe),1))}))}()}function La(O,W){O.forEach(K=>{K.data.hide_rels=W,y_(K,W)})}function Ft(O,W){const K=O.rels,G=[K.father,K.mother,...K.spouses||[],...K.children||[]].filter(oe=>!!oe),ve=[];for(let oe=0;oe<G.length;oe++)if(!he(W.find(fe=>fe.id===G[oe]),[O])){ve.push(G[oe]);break}return 0===ve.length;function he(oe,se){let fe;return ce(oe)&&(fe=[oe]),function Le(bt,ae){function Ve(et){const lt=bt.rels;[lt.father,lt.mother,...lt.spouses||[],...lt.children||[]].filter(xe=>xe&&![...se,...ae].find(Fe=>Fe.id===xe)).forEach(xe=>et(xe))}function be(et){Le(W.find(xe=>xe.id===et),ae)}fe||(ae=[...ae,bt],Ve(function(et){ce(et)&&(fe=ae)}),fe||Ve(be))}(oe,[oe]),fe}function ce(oe){return"object"==typeof oe?oe.id===W[0].id:oe===W[0].id}}function Ef(O,W){return delete O.to_add,O}function gs(O,W){return xf(O,W),!1}function xf(O,W){return Ft(O,W)?(W.forEach(G=>{for(let ve in G.rels)!G.rels.hasOwnProperty(ve)||(G.rels[ve]===O.id?delete G.rels[ve]:Array.isArray(G.rels[ve])&&G.rels[ve].includes(O.id)&&G.rels[ve].splice(G.rels[ve].findIndex(he=>he===O.id),1))}),W.splice(W.findIndex(G=>G.id===O.id),1),W.forEach(G=>{G.to_add&&xf(G,W)}),0===W.length&&W.push(pc({}).data[0]),{success:!0}):{success:!1,error:"checkIfRelativesConnectedWithoutPerson"}}function Mf(O,W){const K=O.data.rels;return[K.father,K.mother,...K.spouses||[],...K.children||[]].filter(ve=>ve).every(ve=>W.some(he=>he.data.id===ve))}function Pp(){var O=(new Date).getTime(),W=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(K){var G=16*Math.random();return O>0?(G=(O+G)%16|0,O=Math.floor(O/16)):(G=(W+G)%16|0,W=Math.floor(W/16)),("x"===K?G:3&G|8).toString(16)})}function Vt({datum:O,data_stash:W,rel_type:K,rel_datum:G}){function ce(oe){!G.rels.spouses||G.rels.spouses.forEach(fe=>{const Le=W.find(bt=>bt.id===fe);Le.to_add&&gs(Le,W)}),G.rels.spouses||(G.rels.spouses=[]),G.rels.spouses.push(oe.id),oe.rels.spouses=[G.id]}var oe;"daughter"===K||"son"===K?((oe=O).data.other_parent&&(function(fe){"_new"===fe&&(fe=function(){const ae=Po({rel_type:"spouse",rel_datum:G});return ce(ae),Va({data_stash:W,datum:ae}),ae}().id);const Le=W.find(ae=>ae.id===fe);oe.rels["M"===Le.data.gender?"father":"mother"]=Le.id,Le.rels.hasOwnProperty("children")||(Le.rels.children=[]),Le.rels.children.push(oe.id)}(oe.data.other_parent),delete oe.data.other_parent),oe.rels["M"===G.data.gender?"father":"mother"]=G.id,G.rels.children||(G.rels.children=[]),G.rels.children.push(oe.id)):"father"===K||"mother"===K?function(oe){const se="M"===oe.data.gender,fe=G.rels[se?"father":"mother"];fe&&gs(W.find(bt=>bt.id===fe),W),G.rels[se?"father":"mother"]=oe.id,function(){const ae=G.rels[se?"mother":"father"];if(!ae)return;const Ve=W.find(Te=>Te.id===ae);oe.rels.spouses=[ae],Ve.rels.spouses||(Ve.rels.spouses=[]),Ve.rels.spouses.push(oe.id)}(),oe.rels.children=[G.id]}(O):"spouse"===K&&ce(O)}function hr({data:O,rels:W}){return{id:Pp(),data:O||{},rels:W||{}}}function Po({data:O,rel_type:W,rel_datum:K}){const G=(he=K,["daughter","mother"].includes(ce=W)||"spouse"===ce&&"M"===he.data.gender?"F":"M");var he,ce;return hr({data:O=Object.assign(O||{},{gender:G})})}function Va({data_stash:O,datum:W}){O.push(W)}function pc({data:O,version:W}){return{data:[hr({data:O})],version:W}}function Ba({data_stash:O,main_id:W=null,is_vertical:K=!0,node_separation:G=250,level_separation:ve=150}){!function(O){O.forEach(W=>{!W.rels.children||W.rels.children.sort((K,G)=>{const ve=O.find(Le=>Le.id===K),he=O.find(Le=>Le.id===G),ce=Cf(ve,W,O)||{},oe=Cf(he,W,O)||{},se=W.rels.spouses.indexOf(ce.id),fe=W.rels.spouses.indexOf(oe.id);return"M"===W.data.gender?se-fe:fe-se})})}(O=function(xe){const Fe=[];for(let Ie=0;Ie<xe.length;Ie++){const de=xe[Ie];if(de.rels.children&&de.rels.children.length>0){de.rels.spouses||(de.rels.spouses=[]);const Pe="M"===de.data.gender;let we;de.rels.children.forEach(Bt=>{const gn=xe.find(Ai=>Ai.id===Bt);gn.rels[Pe?"father":"mother"]===de.id&&(gn.rels[Pe?"mother":"father"]||(we||(we=Ne(de),de.rels.spouses.push(we.id)),we.rels.children.push(gn.id),gn.rels[Pe?"mother":"father"]=we.id))})}}return Fe.forEach(Ie=>xe.push(Ie)),xe;function Ne(Ie){const de=hr({data:{gender:"M"===Ie.data.gender?"F":"M"},rels:{spouses:[Ie.id],children:[]}});return de.to_add=!0,Fe.push(de),de}}(O));const he=null!==W?O.find(xe=>xe.id===W):O[0],ce=Le(he,"children",!1),oe=Le(he,"parents",!0);O.forEach(xe=>xe.main=xe===he),function(xe,Fe){const Ne=(xe[0].x-Fe[0].x)/2;xe.forEach(Ie=>Ie.x-=Ne),Fe.forEach(Ie=>Ie.x+=Ne)}(oe,ce);const se=(Fe=ce,(xe=oe).forEach(Ne=>{Ne.is_ancestry=!0}),xe.forEach(Ne=>1===Ne.depth?Ne.parent=Fe[0]:null),[...Fe,...xe.slice(1)]);var xe,Fe;(function({tree:xe}){xe.forEach(Fe=>{delete Fe.children,xe.forEach(Ne=>{Ne.parent===Fe&&(Ne.is_ancestry?(Fe.parents||(Fe.parents=[]),Fe.parents.push(Ne)):(Fe.children||(Fe.children=[]),Fe.children.push(Ne)))})})})({tree:se}),function({tree:xe,node_separation:Fe}){for(let Ne=xe.length;Ne--;){const Ie=xe[Ne];if(!Ie.is_ancestry&&Ie.data.rels.spouses&&Ie.data.rels.spouses.length>0){const de="M"===Ie.data.data.gender?-1:1;Ie.x+=Ie.data.rels.spouses.length/2*Fe*de,Ie.data.rels.spouses.forEach((Pe,we)=>{const Bt={data:O.find(gn=>gn.id===Pe),added:!0};Bt.x=Ie.x-Fe*(we+1)*de,Bt.y=Ie.y,Bt.sx=we>0?Bt.x:Bt.x+Fe/2*de,Bt.depth=Ie.depth,Bt.spouse=Ie,Ie.spouses||(Ie.spouses=[]),Ie.spouses.push(Bt),xe.push(Bt),xe.forEach(gn=>gn.data.rels.father===Ie.data.id&&gn.data.rels.mother===Bt.data.id||gn.data.rels.mother===Ie.data.id&&gn.data.rels.father===Bt.data.id?gn.psx=Bt.sx:null)})}if(Ie.parents&&2===Ie.parents.length){const de=Ie.parents[0],Pe=Ie.parents[1],we=de.x-(de.x-Pe.x)/2,Bt=(gn,Ai)=>we+Fe/2*(gn.x<Ai.x?1:-1);Pe.x=Bt(de,Pe),de.x=Bt(Pe,de)}}}({tree:se,node_separation:G}),function({tree:xe,is_vertical:Fe}){xe.forEach(Ne=>{if(Ne.y*=Ne.is_ancestry?-1:1,!Fe){const Ie=Ne.x;Ne.x=Ne.y,Ne.y=Ie}})}({tree:se,is_vertical:K});const fe=function(xe,Fe,Ne,Ie){Ie||([Fe,Ne]=[Ne,Fe]);const de=Tt.extent(xe,we=>we.x),Pe=Tt.extent(xe,we=>we.y);return{width:de[1]-de[0]+Fe,height:Pe[1]-Pe[0]+Ne,x_off:Fe/2-de[0],y_off:Ne/2-Pe[0]}}(se,G,ve,K);return{data:se,data_stash:O,dim:fe};function Le(xe,Fe,Ne){const Ie="children"===Fe?function(qt){return[...qt.rels.children||[]].map(jt=>O.find(Se=>Se.id===jt))}:function(qt){return[qt.rels.father,qt.rels.mother].filter(jt=>jt).map(jt=>O.find(Se=>Se.id===jt))},de=Tt.tree().nodeSize([G,ve]).separation(function(qt,jt){let Se=1;return Ne||(Bt(qt,jt)||(Se+=.25),function(qt,jt){return Ai(qt)||Ai(jt)}(qt,jt)&&(Se+=function(qt,jt){return.5*Math.max((qt.data.rels.spouses||[]).length,(jt.data.rels.spouses||[]).length)+.5}(qt,jt)),Bt(qt,jt)&&!function(qt,jt){return qt.data.rels.father===jt.data.rels.father&&qt.data.rels.mother===jt.data.rels.mother}(qt,jt)&&(Se+=.125)),Se}),Pe=Tt.hierarchy(xe,Ie);return de(Pe),Pe.descendants();function Bt(qt,jt){return qt.parent==jt.parent}function Ai(qt){return qt.data.rels.spouses&&qt.data.rels.spouses.length>0}}}function no({t:O,svg:W,transition_time:K=2e3}){const G=W.__zoomObj;Tt.select(W).transition().duration(K||0).delay(K?100:0).call(G.transform,Tt.zoomIdentity.scale(O.k).translate(O.x,O.y))}function Ii({svg:O,svg_dim:W,tree_dim:K,with_transition:G,transition_time:ve}){no({t:ms(W,K),svg:O,with_transition:G,transition_time:ve})}function ms(O,W){let K=Math.min(O.width/W.width,O.height/W.height),G=W.x_off+(O.width-W.width*K)/K/2,ve=W.y_off+(O.height-W.height*K)/K/2;return K>1&&(G*=K,ve*=K,K=1),{k:K,x:G,y:ve}}function ja(O,W){const K=Tt.line().curve(Tt.curveMonotoneY),G=Tt.line().curve(Tt.curveBasis),ve=W?O._d():O.d;return O.curve?!0===O.curve?G(ve):void 0:K(ve)}function It({d:O,card_dim:W,card_display:K}){return{template:`\n    <g class="card-body">\n      <rect width="${W.w}" height="${W.h}" class="card-body-rect" />\n      <g transform="translate(${W.text_x}, ${W.text_y})">\n        <text clip-path="url(#card_text_clip)">\n          <tspan x="0" dy="14">${K[0](O.data)}</tspan>\n          <tspan x="0" dy="14" font-size="10">${K[1](O.data)}</tspan>\n        </text>\n        <rect width="${W.w-W.text_x-10}" height="${W.h-20}" style="mask: url(#fade)" class="text-overflow-mask" /> \n      </g>\n    </g>\n  `}}function Sf({card_dim:W,card_add:K,label:G}){return{template:`\n    <g class="card-body ${K?"card_add":"card-unknown"}">\n      <rect class="card-body-rect" width="${W.w}" height="${W.h}" fill="rgb(59, 85, 96)" />\n      <text transform="translate(${W.w/2}, ${W.h/2})" text-anchor="middle" fill="#fff">\n        <tspan font-size="18" dy="8">${G}</tspan>\n      </text>\n    </g>\n  `}}function Tf({d:O,card_dim:W,is_new:K}){return{template:`\n    <rect width="${W.w}" height="${W.h}" rx="4" ry="4" class="card-outline ${O.data.main&&!K?"card-main-outline":""} ${K?"card-new-outline":""}" />\n  `}}function gc({card_dim:W,x:K,y:G}){return{template:`\n    <g transform="translate(${K||W.w-20},${G||W.h-20})scale(.6)" style="cursor: pointer" class="card_edit pencil_icon">\n      <circle fill="rgba(0,0,0,0)" r="17" cx="8.5" cy="8.5" />\n      <path fill="currentColor" transform="translate(-1.5, -1.5)"\n         d="M19.082,2.123L17.749,0.79c-1.052-1.052-2.766-1.054-3.819,0L1.925,12.794c-0.06,0.06-0.104,0.135-0.127,0.216\n          l-1.778,6.224c-0.05,0.175-0.001,0.363,0.127,0.491c0.095,0.095,0.223,0.146,0.354,0.146c0.046,0,0.092-0.006,0.137-0.02\n          l6.224-1.778c0.082-0.023,0.156-0.066,0.216-0.127L19.082,5.942C20.134,4.89,20.134,3.176,19.082,2.123z M3.076,13.057l9.428-9.428\n          l3.738,3.739l-9.428,9.428L3.076,13.057z M2.566,13.961l3.345,3.344l-4.683,1.339L2.566,13.961z M18.375,5.235L16.95,6.66\n          l-3.738-3.739l1.425-1.425c0.664-0.663,1.741-0.664,2.405,0l1.333,1.333C19.038,3.493,19.038,4.572,18.375,5.235z"/>\n    </g>\n  `}}function mc({card_dim:W}){return{template:`\n    <g class="card_family_tree" style="cursor: pointer">\n      <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>\n      <g transform="translate(${.8*W.w},6)scale(.9)">\n        <rect x="-31" y="-25" width="72" height="15" fill="rgba(0,0,0,0)"></rect>\n        <line y2="-17.5" stroke="#fff" />\n        <line x1="-20" x2="20" y1="-17.5" y2="-17.5" stroke="#fff" />\n        <rect x="-31" y="-25" width="25" height="15" rx="5" ry="5" class="card-male" />\n        <rect x="6" y="-25" width="25" height="15" rx="5" ry="5" class="card-female" />\n      </g>\n    </g>\n  `}}function ai({card_dim:W,x:K,y:G}){return{template:`\n    <g class="card_add_relative">\n      <g transform="translate(${K||W.w/2},${G||W.h})scale(.13)">\n        <circle r="80" cx="40" cy="40" fill="rgba(0,0,0,0)" />\n        <g transform="translate(-10, -8)">\n          <line\n            x1="10" x2="90" y1="50" y2="50"\n            stroke="currentColor" stroke-width="15" stroke-linecap="round"\n          />\n          <line\n            x1="50" x2="50" y1="10" y2="90"\n            stroke="currentColor" stroke-width="15" stroke-linecap="round"\n          />\n        </g>\n      </g>\n    </g>\n  `}}function Xt({x:O,y:W,rt:K,closed:G}){return{template:`\n    <g style="\n          transform: translate(-12.2px, -.5px);\n          cursor: pointer;\n        " \n        fill="currentColor" class="card_break_link${G?" closed":""}"\n      >\n      <g style="transform: translate(${O}px,${W}px)scale(.02)rotate(${K+"deg"})">\n        <rect width="1000" height="700" y="150" style="opacity: 0" />\n        <g class="link_upper">\n          <g>\n            <path d="M616.3,426.4c19,4.5,38.1-7.4,42.6-26.4c4.4-19-7.4-38-26.5-42.5L522.5,332c-18,11.1-53.9,33.4-53.9,33.4l80.4,18.6c-7.8,4.9-19.5,12.1-31.3,19.4L616.3,426.4L616.3,426.4z"/>\n            <path d="M727.4,244.2c-50.2-11.6-100.3,3.3-135.7,35.4c28.6,22.6,64.5,30.2,116.4,51.3l141,32.6c23.9,5.6,56.6,47.2,51.1,71l-4.1,17c-5.6,23.7-47.3,56.4-71.2,51l-143.4-33.2c-66.8-8.6-104.1-16.6-132.9-7.5c17.4,44.9,55.9,80.8,106.5,92.4L800.9,588c81.3,18.8,162.3-31.5,181.2-112.4l4-17c18.8-81.1-31.7-161.8-112.9-180.6L727.4,244.2z"/>\n          </g>\n        </g>\n        <g class="link_lower">\n          <path d="M421.2,384.9l-128,127.6c-13.9,13.8-13.9,36.2,0,50s36.3,13.8,50.2,0.1l136.2-135.8v-36.7l-58.4,58.1V384.9L421.2,384.9z"/>\n          <path d="M204.6,742.8c-17.4,17.3-63.3,17.2-80.6,0.1l-12.3-12.3c-17.3-17.3,0.6-81.2,17.9-98.5l100.2-99.9c12.5-14.9,45.8-40.8,66.1-103.7c-47.7-9.4-98.9,4.2-135.8,40.9L54.2,575c-58.9,58.8-58.9,154,0,212.8L66.6,800c58.9,58.8,154.5,58.8,213.4,0l105.8-105.6c38.4-38.3,51.3-91.9,39.7-141c-44,22.7-89,62.3-116,84.8L204.6,742.8z"/>\n        </g>\n        <g class="link_particles">\n          <path d="M351.9,248.4l-26.5,63.4l80.6,30.1L351.9,248.4z"/>\n          <path d="M529.3,208l-43,26.6l35.4,52.3L529.3,208z"/>\n          <path d="M426.6,158.8l-44-2.9l61.7,134.6L426.6,158.8z"/>\n        </g>\n      </g>\n    </g>\n  `}}function Af({d:O,card_dim:W}){let K="",G=O.data.rels,ve=O.data._rels||{},he=O.data.hide_rels,ce=se=>se.father||se.mother,oe=se=>se.children&&se.children.length>0;if((O.is_ancestry||O.data.main)&&(ce(G)||ce(ve))&&(K+=Xt({x:W.w/2,y:0,rt:-45,closed:he}).template),!O.is_ancestry&&O.added){const se=O.spouse,fe=se.data.rels,Le=se.data._rels||{};(oe(G)||oe(ve))&&(oe(fe)||oe(Le))&&(K+=Xt({x:O.sx-O.x+W.w/2+24.4,y:(O.x!==O.sx?W.h/2:W.h)+1,rt:135,closed:he}).template)}return K}function Rf({d:O,image:W,card_dim:K,maleIcon:G,femaleIcon:ve}){return{template:`\n    <g style="transform: translate(${K.img_x}px,${K.img_y}px);" class="card_image" clip-path="url(#card_image_clip)">\n      ${W?`<image href="${W}" height="${K.img_h}" width="${K.img_w}" preserveAspectRatio="xMidYMin slice" />`:"F"===O.data.data.gender&&ve?ve({card_dim:K}):"M"===O.data.data.gender&&G?G({card_dim:K}):`\n      <g class="genderless-icon">\n        <rect height="${K.img_h}" width="${K.img_w}" fill="rgb(59, 85, 96)" />\n        <g transform="scale(${.001616*K.img_w})">\n         <path transform="translate(50,40)" fill="lightgrey" d="M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 \n            64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 \n            0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z" />\n        </g>\n      </g>\n    `}      \n    </g>\n  `}}function yc({datum:O,data_stash:W,card_dim:K,labels:G}){const he=K.h+50,ce=G||{};return{data:[{x:0,y:0,data:O=O||{id:"0",data:{fn:"FN",ln:"LN",gender:"M"}}},{x:-100,y:-he,data:{rel_type:"father",data:{label:ce.father||"Add father",gender:"M"}}},{x:100,y:-he,data:{rel_type:"mother",data:{label:ce.mother||"Add mother",gender:"F"}}},{x:K.w+40,y:0,data:{rel_type:"spouse",data:{label:ce.spouse||"Add spouse",gender:"F"}}},{x:-100,y:he,data:{rel_type:"son",data:{label:ce.son||"Add son",gender:"M"}}},{x:100,y:he,data:{rel_type:"daughter",data:{label:ce.daughter||"Add daughter",gender:"F"}}}].filter(fe=>function(fe){return"father"===fe?!O.rels.father||W.find(Le=>Le.id===O.rels.father).to_add:"mother"!==fe||!O.rels.mother||W.find(Le=>Le.id===O.rels.mother).to_add}(fe.data.rel_type))}}function Nf(O,{store:W,data_stash:K,cont:G,datum:ve,card_dim:he,cardEditForm:ce,scale:oe}){const se=G.getBoundingClientRect(),fe={k:oe||1,x:(be=se).width/2,y:be.height/2};var be;return{template:`\n      <svg id="family-tree-svg" style="width: 100%; height: 100%">\n        <rect width="${se.width}" height="${se.height}" fill="transparent" />\n        <g class="view">\n          <g transform="translate(${fe.x}, ${fe.y})scale(${fe.k})">\n            ${O.data.slice(1).map((be,et)=>function({d:be,is_vertical:et}){return{template:`\n      <path d="${lt()}" fill="none" stroke="#fff" />\n    `};function lt(){const{w:xe,h:Fe}=he;let Ne=et&&be.y<0?{x:0,y:-Fe/2}:et&&be.y>0?{x:0,y:Fe/2}:!et&&be.x<0?{x:-xe/2,y:0}:!et&&be.x>0?{x:xe/2,y:0}:{x:0,y:0};if(et)return"M"+be.x+","+be.y+"C"+be.x+","+(be.y+(be.y<0?50:-50))+" "+Ne.x+","+(Ne.y+(be.y<0?-50:50))+" "+Ne.x+","+Ne.y;{const Ie=be.x>0?1:-1;return"M"+be.x+","+be.y+"C"+(Ne.x+50*Ie)+","+be.y+" "+(Ne.x+150*Ie)+","+Ne.y+" "+Ne.x+","+Ne.y}}}({d:be,is_vertical:!["spouse"].includes(be.data.rel_type)}).template)}\n            ${O.data.slice(1).map((be,et)=>function({d:be,is_main:et}){const[lt,xe]=et?[160,60]:[160,40],Fe={x:be.x,y:be.y};return{template:`\n      <g transform="translate(${Fe.x}, ${Fe.y})" class="card" data-rel_type="${be.data.rel_type}" style="cursor: pointer">\n        <g transform="translate(${-lt/2}, ${-xe/2})">\n          ${Ne({d:be,w:lt,h:xe}).template}\n        </g>\n      </g>\n    `};function Ne({d:Ie,w:de,h:Pe}){return{template:`\n        <g>\n          <rect width="${de}" height="${Pe}" fill="#fff" rx="10" ${Ie.data.main?'stroke="#000"':""} class="${"M"===Ie.data.data.gender?"card-male":"F"===Ie.data.data.gender?"card-female":"card-genderless"}" />\n          <text transform="translate(0, ${Pe/4})">\n            <tspan x="10" dy="14">${Ie.data.data.label}</tspan>\n          </text>\n        </g>\n      `}}}({d:be}).template)}\n          </g>\n        </g>\n      </svg>\n    `,mounted:be=>{!function(be){function et(lt){if(!lt.closest(".card"))return;const Fe=lt.closest(".card").getAttribute("data-rel_type"),Ne=ve,Ie=Po({rel_datum:Ne,rel_type:Fe});return ce({datum:Ie,rel_datum:Ne,rel_type:Fe,postSubmit:()=>{be.remove(),Va({data_stash:K,datum:Ie}),Vt({datum:Ie,data_stash:K,rel_datum:Ne,rel_type:Fe}),W.update.tree()},store:W}),!0}be.addEventListener("click",lt=>{et(lt.target)||be.remove()})}(be)}}}function $a(O,{d:K}){return La(O.getTree().data,!1),O.update.mainId(K.data.id),O.update.tree({tree_position:"inherit"}),!0}function Ha(O,{d:K,cardEditForm:G}){const ve=K.data;G({datum:ve,postSubmit:ce=>{ve.to_add&&Ef(ve,O.getData()),ce&&ce.delete&&(ve.main&&O.update.mainId(null),xf(ve,O.getData())),O.update.tree()},store:O})}function _s(O,{d:K}){K.data.hide_rels=!K.data.hide_rels,y_(K,K.data.hide_rels),O.update.tree({tree_position:"inherit"})}function ro(O){void 0!==(O=function(he){const ce={mini_tree:!0,link_break:!0,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5}};he||(he={});for(const oe in ce)void 0===he[oe]&&(he[oe]=ce[oe]);return he}(O))._callBack&&(O.cardEditForm=O._callBack);const W=O.store;return function(){if(O.svg.querySelector("defs#f3CardDef"))return;const he=O.card_dim;function ce(oe,se,fe){const{w:Le,h:bt}=oe,ae=se,Ve=fe||[],Te=Fe=>Ve.includes(Fe);return`${Te("lx")?"M0,0":`M0,${ae} Q 0,0 5,0`} ${Te("rx")?`H${Le}`:`H${Le-ae} Q ${Le},0 ${Le},5`} ${Te("ry")?`V${bt}`:`V${bt-ae} Q ${Le},${bt} ${Le-ae},${bt}`} ${Te("ly")?"H0":`H${ae} Q 0,${bt} 0,${bt-ae}`} z`}O.svg.insertAdjacentHTML("afterbegin",`\n      <defs id="f3CardDef">\n        <linearGradient id="fadeGrad">\n          <stop offset="0.9" stop-color="white" stop-opacity="0"/>\n          <stop offset=".91" stop-color="white" stop-opacity=".5"/>\n          <stop offset="1" stop-color="white" stop-opacity="1"/>\n        </linearGradient>\n        <mask id="fade" maskContentUnits="objectBoundingBox"><rect width="1" height="1" fill="url(#fadeGrad)"/></mask>\n        <clipPath id="card_clip"><path d="${ce({w:he.w,h:he.h},5)}"></clipPath>\n        <clipPath id="card_text_clip"><rect width="${he.w-he.text_x-10}" height="${he.h-10}"></rect></clipPath>\n        <clipPath id="card_image_clip"><path d="M0,0 Q 0,0 0,0 H${he.img_w} V${he.img_h} H0 Q 0,${he.img_h} 0,${he.img_h} z"></clipPath>\n        <clipPath id="card_image_clip_curved"><path d="${ce({w:he.img_w,h:he.img_h},5,["rx","ry"])}"></clipPath>\n      </defs>\n    `)}(),function({d:ce}){const oe=document.createElementNS("http://www.w3.org/2000/svg","g"),se="M"===ce.data.data.gender?"card-male":"F"===ce.data.data.gender?"card-female":"card-genderless",fe=O.card_dim,Le=!Mf(ce,W.state.tree.data),bt=O.cardEditForm?"ADD":"UNKNOWN";return oe.innerHTML=`\n      <g class="card ${se}" data-id="${ce.data.id}" data-cy="card">\n        <g transform="translate(${-fe.w/2}, ${-fe.h/2})">\n          ${O.mini_tree&&!ce.data.to_add&&Le?mc({d:ce,card_dim:fe}).template:""}\n          ${Tf({d:ce,card_dim:fe,is_new:ce.data.to_add}).template}\n          <g clip-path="url(#card_clip)">\n            ${ce.data.to_add?Sf({d:ce,card_dim:fe,card_add:O.cardEditForm,label:bt}).template:It({d:ce,card_dim:fe,card_display:O.card_display}).template}\n            ${ce.data.to_add?"":Rf({d:ce,image:ce.data.data.avatar||null,card_dim:fe,maleIcon:null,femaleIcon:null}).template}\n            ${!ce.data.to_add&&O.cardEditForm?gc({card_dim:fe,x:fe.w-46,y:fe.h-20}).template:""}\n            ${!ce.data.to_add&&O.cardEditForm?ai({card_dim:fe,x:fe.w-26,y:fe.h-20}).template:""}\n          </g>\n          ${O.link_break?Af({d:ce,card_dim:fe}):""}\n        </g>\n      </g>\n    `,function(he,ce,oe){let se;se=he.querySelector(".card"),se&&se.addEventListener("click",fe=>{fe.stopPropagation(),$a(oe,{card:he,d:ce})}),se=he.querySelector(".card_edit"),se&&O.cardEditForm&&se.addEventListener("click",fe=>{fe.stopPropagation(),Ha(oe,{card:he,d:ce,cardEditForm:O.cardEditForm})}),se=he.querySelector(".card_add"),se&&O.cardEditForm&&se.addEventListener("click",fe=>{fe.stopPropagation(),Ha(oe,{card:he,d:ce,cardEditForm:O.cardEditForm})}),se=he.querySelector(".card_add_relative"),se&&se.addEventListener("click",fe=>{fe.stopPropagation(),O.addRelative({d:ce})}),se=he.querySelector(".card_family_tree"),se&&se.addEventListener("click",fe=>{fe.stopPropagation(),$a(oe,{card:he,d:ce})}),se=he.querySelector(".card_break_link"),se&&se.addEventListener("click",fe=>{fe.stopPropagation(),_s(oe,{card:he,d:ce})})}(oe,ce,W),oe}}return{CalculateTree:Ba,createStore:function(O){let W;const K=O;return{state:K,update:{tree:fe=>{K.tree=Ba({data_stash:K.data,main_id:K.main_id,node_separation:K.node_separation,level_separation:K.level_separation}),W&&W(fe)},mainId:fe=>K.main_id=fe,data:fe=>K.data=fe},getData:()=>K.data,getTree:()=>K.tree,setOnUpdate:fe=>W=fe,methods:{}}},d3AnimationView:function({store:O,cont:W,Card:K}){const G=function(){const ce=W.getBoundingClientRect(),oe=`\n        <svg class="main_svg">\n          <rect width="${ce.width}" height="${ce.height}" fill="transparent" />\n          <g class="view">\n            <g class="links_view"></g>\n            <g class="cards_view"></g>\n          </g>\n          <g style="transform: translate(100%, 100%)">\n            <g class="fit_screen_icon cursor-pointer" style="transform: translate(-50px, -50px); display: none">\n              <rect width="27" height="27" stroke-dasharray="13.5" stroke-dashoffset="6.75" \n                style="stroke:#fff;stroke-width:4px;fill:transparent;"/>\n              <circle r="5" cx="13.5" cy="13.5" style="fill:#fff" />          \n            </g>\n          </g>\n        </svg>\n      `,se=document.createElement("div");se.innerHTML=oe;const fe=se.firstElementChild;return W.innerHTML="",W.appendChild(fe),fe}();return function(O,W){!function(){if(O.__zoom)return;const G=O.querySelector(".view"),ve=Tt.zoom().on("zoom",function(oe){Tt.select(G).attr("transform",oe.transform)});Tt.select(O).call(ve),O.__zoomObj=ve,W&&ve.filter(function(oe){return!("wheel"===oe.type&&!oe.ctrlKey||oe.touches&&oe.touches.length<2)})}()}(G,O.state.zoom_polite),{update:function(ce){ce||(ce={});const oe=O.state.tree,se=Tt.select(G).select(".view"),fe=ce.tree_position||"fit",Le=ce.hasOwnProperty("transition_time")?ce.transition_time:2e3;return function(){const Te=se.select(".cards_view").selectAll("g.card_cont").data(oe.data,Pe=>Pe.data.id),be=Te.exit(),et=Te.enter().append("g").attr("class","card_cont"),lt=et.merge(Te);function xe(Pe){Tt.select(this).attr("transform",`translate(${Pe._x}, ${Pe._y})`).style("opacity",0).node().appendChild(de(this,Pe))}function Fe(Pe){}function Ne(Pe){this.innerHTML="",this.appendChild(de(this,Pe));const we=Ve(Pe);Tt.select(this).transition().duration(Le).delay(we).attr("transform",`translate(${Pe.x}, ${Pe.y})`).style("opacity",1)}function Ie(Pe){const we=Tt.select(this);we.transition().duration(Le).style("opacity",0).attr("transform",`translate(${Pe._x}, ${Pe._y})`).on("end",()=>we.remove())}function de(Pe,we){return K?K({node:Pe,d:we}):ro({store:O,svg:G})({node:Pe,d:we})}be.each(Pe=>Df(Pe,!1,!0)),et.each(Pe=>Df(Pe,!0,!1)),be.each(Ie),Te.each(Fe),et.each(xe),lt.each(Ne)}(),function(){const Te=oe.data.reduce((de,Pe)=>de.concat(function({d:O,tree:W}){const G=[];return O.data.rels.spouses&&O.data.rels.spouses.length>0&&function({d:ae}){ae.data.rels.spouses.forEach(Ve=>{const Te=W.find(be=>be.data.id===Ve);!Te||ae.spouse||G.push({d:[[ae.x,ae.y],[Te.x,Te.y]],_d:()=>[ae.is_ancestry?[se(ae,"x")-1e-4,se(ae,"y")]:[ae.x,ae.y],ae.is_ancestry?[se(Te,"x"),se(Te,"y")]:[ae.x-1e-4,ae.y]],curve:!1,id:[ae.data.id,Te.data.id].join(", "),depth:ae.depth,spouse:!0,is_ancestry:Te.is_ancestry})})}({d:O}),function({d:ae}){if(!ae.parents||0===ae.parents.length)return;const Ve=ae.parents[0],Te=ae.parents[1],be={x:oe(Ve,Te,"x"),y:oe(Ve,Te,"y")};G.push({d:fe(ae,be),_d:()=>fe({x:ae.x,y:ae.y},{x:ae.x,y:ae.y}),curve:!0,id:Le(ae,ae.parents[0],ae.parents[1]),depth:ae.depth+1,is_ancestry:!0})}({d:O}),function({d:ae}){!ae.children||0===ae.children.length||ae.children.forEach((Ve,Te)=>{const be=function(ae,Ve,Te){return Te.find(be=>be.data.id!==Ve.data.id&&(be.data.id===ae.data.rels.mother||be.data.id===ae.data.rels.father))}(Ve,ae,W),et=be.sx;G.push({d:fe(Ve,{x:et,y:ae.y}),_d:()=>fe({x:et,y:ae.y},{x:se(Ve,"x"),y:se(Ve,"y")}),curve:!0,id:Le(Ve,ae,be),depth:ae.depth+1})})}({d:O}),G;function oe(ae,Ve,Te,be){return be?se(ae,Te)-(se(ae,Te)-se(Ve,Te))/2:ae[Te]-(ae[Te]-Ve[Te])/2}function se(ae,Ve){return ae.hasOwnProperty("_"+Ve)?ae["_"+Ve]:ae[Ve]}function fe(ae,Ve){const Te=ae.y+(Ve.y-ae.y)/2;return[[ae.x,ae.y],[ae.x,Te],[ae.x,Te],[Ve.x,Te],[Ve.x,Te],[Ve.x,Ve.y]]}function Le(...ae){return ae.map(Ve=>Ve.data.id).sort().join(", ")}}({d:Pe,tree:oe.data})),[]),be=se.select(".links_view").selectAll("path.link").data(Te,de=>de.id),et=be.exit(),lt=be.enter().append("path").attr("class","link"),xe=lt.merge(be);function Fe(de){Tt.select(this).attr("fill","none").attr("stroke","#fff").style("opacity",0).attr("d",ja(de,!0))}function Ne(de){const Pe=Tt.select(this),we=Ve(de);Pe.transition("path").duration(Le).delay(we).attr("d",ja(de)).style("opacity",1)}function Ie(de){const Pe=Tt.select(this);Pe.transition("op").duration(800).style("opacity",0),Pe.transition("path").duration(Le).attr("d",ja(de,!0)).on("end",()=>Pe.remove())}et.each(Ie),lt.each(Fe),xe.each(Ne)}(),ce.initial?Ii({svg:G,svg_dim:G.getBoundingClientRect(),tree_dim:oe.dim,transition_time:0}):"fit"===fe?Ii({svg:G,svg_dim:G.getBoundingClientRect(),tree_dim:oe.dim,transition_time:Le}):"main_to_middle"===fe&&function({datum:O,svg:W,svg_dim:K,scale:G,transition_time:ve}){const he=G||1;no({t:{k:he,x:(K.width/2-O.x*he)/he,y:(K.height/2-O.y)/he},svg:W,with_transition:!0,transition_time:ve})}({datum:oe.data[0],svg:G,svg_dim:G.getBoundingClientRect(),scale:ce.scale,transition_time:Le}),!0;function Ve(Te){if(!ce.initial)return 0;const et=Math.max(...oe.data.map(xe=>xe.is_ancestry?xe.depth:0));let lt=800*Te.depth;return(0!==Te.depth||!!Te.spouse)&&!Te.is_ancestry&&(lt+=800*et,Te.spouse&&(lt+=800),lt+=800*Te.depth),lt}},svg:G,setCard:ce=>K=ce}},handlers:Object.freeze({__proto__:null,moveToAddToAdded:Ef,removeToAdd:gs,deletePerson:xf,manualZoom:function({amount:O,svg:W,transition_time:K=500}){const G=W.__zoomObj;Tt.select(W).transition().duration(K||0).delay(K?100:0).call(G.scaleBy,O)},isAllRelativeDisplayed:Mf,generateUUID:Pp,cardChangeMain:$a,cardEdit:Ha,cardShowHideRels:_s,handleRelsOfNewDatum:Vt,createNewPerson:hr,createNewPersonWithGenderFromRel:Po,addNewPerson:Va,createTreeDataWithMainNode:pc,addNewPersonAndHandleRels:function({datum:O,data_stash:W,rel_type:K,rel_datum:G}){Va({data_stash:W,datum:O}),Vt({datum:O,data_stash:W,rel_type:K,rel_datum:G})},checkIfRelativesConnectedWithoutPerson:Ft,AddRelative:function({store:O,cont:W,card_dim:K,cardEditForm:G,labels:ve}){return function({d:he,scale:ce}){!ce&&window.innerWidth<650&&(ce=window.innerWidth/650),La(O.getTree().data,!1),O.update.mainId(he.data.id),O.update.tree({tree_position:"main_to_middle",transition_time:1e3,scale:ce}),function(O){const K=Nf(yc(O),O),G=document.createElement("div");G.style.cssText="width: 100%; height: 100%; position: absolute; top: 0; left: 0;background-color: rgba(0,0,0,.3);opacity: 0",G.innerHTML=K.template,O.cont.appendChild(G),K.mounted(G),Tt.select(G).transition().duration(O.transition_time).delay(O.transition_time/4).style("opacity",1)}({store:O,data_stash:O.getData(),cont:W,datum:he.data,transition_time:1e3,scale:ce,card_dim:K,cardEditForm:G,labels:ve})}}}),elements:Object.freeze({__proto__:null,CardBody:It,CardBodyAddNew:Sf,CardBodyOutline:Tf,PencilIcon:gc,HideIcon:function({card_dim:W}){return{template:`\n    <g transform="translate(${W.w-50},${W.h-20})scale(.035)" style="cursor: pointer" class="card_hide_rels hide_rels_icon">\n      <circle fill="rgba(0,0,0,0)" r="256" cx="256" cy="256" />\n      <g fill="currentColor">\n        <path d="m34,256l26.2,26.2c108,108 283.7,108 391.7,0l26.1-26.2-26.2-26.2c-108-108-283.7-108-391.7,0l-26.1,\n          26.2zm222,126.2c-75.8,0-151.6-28.9-209.3-86.6l-32.9-32.9c-3.7-3.7-3.7-9.7 0-13.5l32.9-32.9c115.4-115.4 303.2-115.4 418.6,\n          0l32.9,32.9c3.7,3.7 3.7,9.7 0,13.5l-32.9,32.9c-57.7,57.7-133.5,86.6-209.3,86.6z"/>\n        <path d="m256,183.5c-40,0-72.5,32.5-72.5,72.5s32.5,72.5 72.5,72.5c40,0 72.5-32.5 72.5-72.5s-32.5-72.5-72.5-72.5zm0,\n          164c-50.5,0-91.5-41.1-91.5-91.5 0-50.5 41.1-91.5 91.5-91.5s91.5,41.1 91.5,91.5c0,50.5-41,91.5-91.5,91.5z"/>\n      </g>\n    </g>\n  `}},MiniTree:mc,PlusIcon:ai,LinkBreakIcon:Xt,LinkBreakIconWrapper:Af,CardImage:Rf,Card:ro})}}(to(358))},74:(Fa,Ti,to)=>{"use strict";function oi(t){return"function"==typeof t}let ps=!1;const Vr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else ps&&console.log("RxJS: Back to a better error behavior. Thank you. <3");ps=t},get useDeprecatedSynchronousErrorHandling(){return ps}};function Tt(t){setTimeout(()=>{throw t},0)}const hc={closed:!0,next(t){},error(t){if(Vr.useDeprecatedSynchronousErrorHandling)throw t;Tt(t)},complete(){}},Cf=Array.isArray||(t=>t&&"number"==typeof t.length);function Df(t){return null!==t&&"object"==typeof t}const La=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class Ft{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Ft)n.remove(this);else if(null!==n)for(let f=0;f<n.length;++f)n[f].remove(this);if(oi(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(f){e=f instanceof La?Ef(f.errors):[f]}}if(Cf(c)){let f=-1,p=c.length;for(;++f<p;){const y=c[f];if(Df(y))try{y.unsubscribe()}catch(w){e=e||[],w instanceof La?e=e.concat(Ef(w.errors)):e.push(w)}}}if(e)throw new La(e)}add(e){let n=e;if(!e)return Ft.EMPTY;switch(typeof e){case"function":n=new Ft(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Ft)){const c=n;n=new Ft,n._subscriptions=[c]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof Ft){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(e){const n=this._subscriptions;if(n){const i=n.indexOf(e);-1!==i&&n.splice(i,1)}}}var t;function Ef(t){return t.reduce((e,n)=>e.concat(n instanceof La?n.errors:n),[])}Ft.EMPTY=((t=new Ft).closed=!0,t);const gs="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Lt extends Ft{constructor(e,n,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=hc;break;case 1:if(!e){this.destination=hc;break}if("object"==typeof e){e instanceof Lt?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new Mf(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new Mf(this,e,n,i)}}[gs](){return this}static create(e,n,i){const s=new Lt(e,n,i);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class Mf extends Lt{constructor(e,n,i,s){super(),this._parentSubscriber=e;let c,f=this;oi(n)?c=n:n&&(c=n.next,i=n.error,s=n.complete,n!==hc&&(f=Object.create(n),oi(f.unsubscribe)&&this.add(f.unsubscribe.bind(f)),f.unsubscribe=this.unsubscribe.bind(this))),this._context=f,this._next=c,this._error=i,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Vr.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:i}=Vr;if(this._error)i&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=e,n.syncErrorThrown=!0):Tt(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;Tt(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);Vr.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(i){if(this.unsubscribe(),Vr.useDeprecatedSynchronousErrorHandling)throw i;Tt(i)}}__tryOrSetError(e,n,i){if(!Vr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Vr.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(Tt(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const hr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Po(t){return t}let Pt=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,s){const{operator:c}=this,f=function(t,e,n){if(t){if(t instanceof Lt)return t;if(t[gs])return t[gs]()}return t||e||n?new Lt(t,e,n):new Lt(hc)}(n,i,s);if(f.add(c?c.call(f,this.source):this.source||Vr.useDeprecatedSynchronousErrorHandling&&!f.syncErrorThrowable?this._subscribe(f):this._trySubscribe(f)),Vr.useDeprecatedSynchronousErrorHandling&&f.syncErrorThrowable&&(f.syncErrorThrowable=!1,f.syncErrorThrown))throw f.syncErrorValue;return f}_trySubscribe(n){try{return this._subscribe(n)}catch(i){Vr.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=i),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof Lt?n:null}return!0}(n)?n.error(i):console.warn(i)}}forEach(n,i){return new(i=Ba(i))((s,c)=>{let f;f=this.subscribe(p=>{try{n(p)}catch(y){c(y),f&&f.unsubscribe()}},c,s)})}_subscribe(n){const{source:i}=this;return i&&i.subscribe(n)}[hr](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?Po:1===t.length?t[0]:function(n){return t.reduce((i,s)=>s(i),n)}}(n)(this)}toPromise(n){return new(n=Ba(n))((i,s)=>{let c;this.subscribe(f=>c=f,f=>s(f),()=>i(c))})}}return t.create=e=>new t(e),t})();function Ba(t){if(t||(t=Vr.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const no=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class Ii extends Ft{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const i=n.indexOf(this.subscriber);-1!==i&&n.splice(i,1)}}class ms extends Lt{constructor(e){super(e),this.destination=e}}let si=(()=>{class t extends Pt{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[gs](){return new ms(this)}lift(n){const i=new ja(this,this);return i.operator=n,i}next(n){if(this.closed)throw new no;if(!this.isStopped){const{observers:i}=this,s=i.length,c=i.slice();for(let f=0;f<s;f++)c[f].next(n)}}error(n){if(this.closed)throw new no;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:i}=this,s=i.length,c=i.slice();for(let f=0;f<s;f++)c[f].error(n);this.observers.length=0}complete(){if(this.closed)throw new no;this.isStopped=!0;const{observers:n}=this,i=n.length,s=n.slice();for(let c=0;c<i;c++)s[c].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new no;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new no;return this.hasError?(n.error(this.thrownError),Ft.EMPTY):this.isStopped?(n.complete(),Ft.EMPTY):(this.observers.push(n),new Ii(this,n))}asObservable(){const n=new Pt;return n.source=this,n}}return t.create=(e,n)=>new ja(e,n),t})();class ja extends si{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):Ft.EMPTY}}function Ua(t){return t&&"function"==typeof t.schedule}function It(t,e){return function(i){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Sf(t,e))}}class Sf{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new Tf(e,this.project,this.thisArg))}}class Tf extends Lt{constructor(e,n,i){super(e),this.project=n,this.count=0,this.thisArg=i||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const gc=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()},ai="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",yc=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Nf(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const ys=t=>{if(t&&"function"==typeof t[hr])return(t=>e=>{const n=t[hr]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(yc(t))return gc(t);if(Nf(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Tt),e))(t);if(t&&"function"==typeof t[ai])return(t=>e=>{const n=t[ai]();for(;;){let i;try{i=n.next()}catch(s){return e.error(s),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${Df(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function _s(t,e){return new Pt(n=>{const i=new Ft;let s=0;return i.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function In(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[hr]}(t))return function(t,e){return new Pt(n=>{const i=new Ft;return i.add(e.schedule(()=>{const s=t[hr]();i.add(s.subscribe({next(c){i.add(e.schedule(()=>n.next(c)))},error(c){i.add(e.schedule(()=>n.error(c)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Nf(t))return function(t,e){return new Pt(n=>{const i=new Ft;return i.add(e.schedule(()=>t.then(s=>{i.add(e.schedule(()=>{n.next(s),i.add(e.schedule(()=>n.complete()))}))},s=>{i.add(e.schedule(()=>n.error(s)))}))),i})}(t,e);if(yc(t))return _s(t,e);if(function(t){return t&&"function"==typeof t[ai]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pt(n=>{const i=new Ft;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(e.schedule(()=>{s=t[ai](),i.add(e.schedule(function(){if(n.closed)return;let c,f;try{const p=s.next();c=p.value,f=p.done}catch(p){return void n.error(p)}f?n.complete():(n.next(c),this.schedule())}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Pt?t:new Pt(ys(t))}class _c extends Lt{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class O extends Lt{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function K(t,e){if(e.closed)return;if(t instanceof Pt)return t.subscribe(e);let n;try{n=ys(t)(e)}catch(i){e.error(i)}return n}function G(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(G((s,c)=>In(t(s,c)).pipe(It((f,p)=>e(s,f,c,p))),n)):("number"==typeof e&&(n=e),i=>i.lift(new ve(t,n)))}class ve{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new he(e,this.project,this.concurrent))}}class he extends O{constructor(e,n,i=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const i=this.index++;try{n=this.project(e,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(n)}_innerSub(e){const n=new _c(this),i=this.destination;i.add(n);const s=K(e,n);s!==n&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function oe(t=Number.POSITIVE_INFINITY){return G(Po,t)}function se(t,e){return e?_s(t,e):new Pt(gc(t))}function Le(){return function(e){return e.lift(new bt(e))}}class bt{constructor(e){this.connectable=e}call(e,n){const{connectable:i}=this;i._refCount++;const s=new ae(e,i),c=n.subscribe(s);return s.closed||(s.connection=i.connect()),c}}class ae extends Lt{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:i}=this,s=e._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Ve extends Pt{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new Ft,e.add(this.source.subscribe(new be(this.getSubject(),this))),e.closed&&(this._connection=null,e=Ft.EMPTY)),e}refCount(){return Le()(this)}}const Te=(()=>{const t=Ve.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class be extends ms{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function Ne(){return new si}function de(t){for(let e in t)if(t[e]===de)return e;throw Error("Could not find renamed property on target object.")}function we(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(we).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Bt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const gn=de({__forward_ref__:de});function Ai(t){return t.__forward_ref__=Ai,t.toString=function(){return we(this())},t}function Re(t){return function(t){return"function"==typeof t&&t.hasOwnProperty(gn)&&t.__forward_ref__===Ai}(t)?t():t}class ui extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function Yn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():function(t){return"string"==typeof t?t:null==t?"":String(t)}(t)}function Lf(t,e){const n=e?` in ${e}`:"";throw new ui("201",`No provider for ${Yn(t)} found${n}`)}function gr(t,e){null==t&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(null==i?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}(e,t,null,"!=")}function rt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function oo(t){return{providers:t.providers||[],imports:t.imports||[]}}function Br(t){return vc(t,Vf)||vc(t,C_)}function vc(t,e){return t.hasOwnProperty(e)?t[e]:null}function Fp(t){return t&&(t.hasOwnProperty(Lp)||t.hasOwnProperty(HD))?t[Lp]:null}const Vf=de({\u0275prov:de}),Lp=de({\u0275inj:de}),C_=de({ngInjectableDef:de}),HD=de({ngInjectorDef:de});var Ue=(()=>((Ue=Ue||{})[Ue.Default=0]="Default",Ue[Ue.Host=1]="Host",Ue[Ue.Self=2]="Self",Ue[Ue.SkipSelf=4]="SkipSelf",Ue[Ue.Optional=8]="Optional",Ue))();let za;function ko(t){const e=za;return za=t,e}function D_(t,e,n){const i=Br(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Ue.Optional?null:void 0!==e?e:void Lf(we(t),"Injector")}function Oo(t){return{toString:t}.toString()}var mr=(()=>((mr=mr||{})[mr.OnPush=0]="OnPush",mr[mr.Default=1]="Default",mr))(),mn=(()=>((mn=mn||{})[mn.Emulated=0]="Emulated",mn[mn.None=2]="None",mn[mn.ShadowDom=3]="ShadowDom",mn))();const E_="undefined"!=typeof globalThis&&globalThis,qa="undefined"!=typeof window&&window,qD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dt=E_||"undefined"!=typeof global&&global||qa||qD,Fo={},At=[],Bf=de({\u0275cmp:de}),wc=de({\u0275dir:de}),jf=de({\u0275pipe:de}),M_=de({\u0275mod:de}),WD=de({\u0275loc:de}),so=de({\u0275fac:de}),Cc=de({__NG_ELEMENT_ID__:de});let GD=0;function Wa(t){return Oo(()=>{const n={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||At,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mn.Emulated,id:"c",styles:t.styles||At,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,c=t.features,f=t.pipes;return i.id+=GD++,i.inputs=I_(t.inputs,n),i.outputs=I_(t.outputs),c&&c.forEach(p=>p(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(S_):null,i.pipeDefs=f?()=>("function"==typeof f?f():f).map(T_):null,i})}function S_(t){return jn(t)||function(t){return t[wc]||null}(t)}function T_(t){return function(t){return t[jf]||null}(t)}const jp={};function vs(t){return Oo(()=>{const e={type:t.type,bootstrap:t.bootstrap||At,declarations:t.declarations||At,imports:t.imports||At,exports:t.exports||At,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(jp[t.id]=t.type),e})}function I_(t,e){if(null==t)return Fo;const n={};for(const i in t)if(t.hasOwnProperty(i)){let s=t[i],c=s;Array.isArray(s)&&(c=s[1],s=s[0]),n[s]=i,e&&(e[s]=c)}return n}const Bn=Wa;function jn(t){return t[Bf]||null}function jr(t,e){const n=t[M_]||null;if(!n&&!0===e)throw new Error(`Type ${we(t)} does not have '\u0275mod' property.`);return n}function $r(t){return Array.isArray(t)&&"object"==typeof t[1]}function Hr(t){return Array.isArray(t)&&!0===t[1]}function qf(t){return 0!=(8&t.flags)}function xc(t){return 2==(2&t.flags)}function Wf(t){return 1==(1&t.flags)}function ci(t){return null!==t.template}function XD(t){return 0!=(512&t[2])}function xs(t,e){return t.hasOwnProperty(so)?t[so]:null}class N_{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ms(){return P_}function P_(t){return t.type.prototype.ngOnChanges&&(t.setInput=n2),t2}function t2(){const t=O_(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Fo)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function n2(t,e,n,i){const s=O_(t)||function(t,e){return t[k_]=e}(t,{previous:Fo,current:null}),c=s.current||(s.current={}),f=s.previous,p=this.declaredInputs[n],y=f[p];c[p]=new N_(y&&y.currentValue,e,f===Fo),t[i]=e}Ms.ngInherit=!0;const k_="__ngSimpleChanges__";function O_(t){return t[k_]||null}let Cn;function ft(t){return!!t.listen}const Ss={createRenderer:(t,e)=>void 0!==Cn?Cn:"undefined"!=typeof document?document:void 0};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function yn(t,e){return Wt(e[t.index])}function en(t,e){const n=e[t];return $r(n)?n:n[0]}function Wp(t){return 128==(128&t[2])}function jo(t,e){return null==e?null:t[e]}function U_(t){t[18]=0}function Gp(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const We={lFrame:Jp(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uo(){return We.bindingsEnabled}function ne(){return We.lFrame.lView}function it(){return We.lFrame.tView}function dn(){let t=Yp();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yp(){return We.lFrame.currentTNode}function fi(t,e){const n=We.lFrame;n.currentTNode=t,n.isParent=e}function Zf(){return We.lFrame.isParent}function Sc(){return We.isInCheckNoChangesMode}function Tc(t){We.isInCheckNoChangesMode=t}function Ic(t,e){const n=We.lFrame;n.bindingIndex=n.bindingRootIndex=t,Xf(e)}function Xf(t){We.lFrame.currentDirectiveIndex=t}function ed(t){We.lFrame.currentQueryIndex=t}function u2(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Xp(t,e,n){if(n&Ue.SkipSelf){let s=e,c=t;for(;!(s=s.parent,null!==s||n&Ue.Host||(s=u2(c),null===s||(c=c[15],10&s.type))););if(null===s)return!1;e=s,t=c}const i=We.lFrame=br();return i.currentTNode=e,i.lView=t,!0}function Ac(t){const e=br(),n=t[1];We.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function br(){const t=We.lFrame,e=null===t?null:t.child;return null===e?Jp(t):e}function Jp(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function td(){const t=We.lFrame;return We.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nd=td;function rd(){const t=td();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lo(t){We.lFrame.selectedIndex=t}function Is(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const c=t.data[n].type.prototype,{ngAfterContentInit:f,ngAfterContentChecked:p,ngAfterViewInit:y,ngAfterViewChecked:w,ngOnDestroy:E}=c;f&&(t.contentHooks||(t.contentHooks=[])).push(-n,f),p&&((t.contentHooks||(t.contentHooks=[])).push(n,p),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,p)),y&&(t.viewHooks||(t.viewHooks=[])).push(-n,y),w&&((t.viewHooks||(t.viewHooks=[])).push(n,w),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,w)),null!=E&&(t.destroyHooks||(t.destroyHooks=[])).push(n,E)}}function Ni(t,e,n){tg(t,e,3,n)}function As(t,e,n,i){(3&t[2])===n&&tg(t,e,n,i)}function Rs(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function tg(t,e,n,i){const c=null!=i?i:-1,f=e.length-1;let p=0;for(let y=void 0!==i?65535&t[18]:0;y<f;y++)if("number"==typeof e[y+1]){if(p=e[y],null!=i&&p>=i)break}else e[y]<0&&(t[18]+=65536),(p<c||-1==c)&&(kc(t,n,e,y),t[18]=(4294901760&t[18])+y+2),y++}function kc(t,e,n,i){const s=n[i]<0,c=n[i+1],p=t[s?-n[i]:n[i]];if(s){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{c.call(p)}finally{}}}else try{c.call(p)}finally{}}class fo{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function sd(t,e,n){const i=ft(t);let s=0;for(;s<n.length;){const c=n[s];if("number"==typeof c){if(0!==c)break;s++;const f=n[s++],p=n[s++],y=n[s++];i?t.setAttribute(e,p,y,f):e.setAttributeNS(f,p,y)}else{const f=c,p=n[++s];Oc(f)?i&&t.setProperty(e,f,p):i?t.setAttribute(e,f,p):e.setAttribute(f,p),s++}}return s}function ig(t){return 3===t||4===t||6===t}function Oc(t){return 64===t.charCodeAt(0)}function nu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?n=s:0===n||Fc(t,n,s,null,-1===n||2===n?e[++i]:null)}}return t}function Fc(t,e,n,i,s){let c=0,f=t.length;if(-1===e)f=-1;else for(;c<t.length;){const p=t[c++];if("number"==typeof p){if(p===e){f=-1;break}if(p>e){f=c-1;break}}}for(;c<t.length;){const p=t[c];if("number"==typeof p)break;if(p===n){if(null===i)return void(null!==s&&(t[c+1]=s));if(i===t[c+1])return void(t[c+2]=s)}c++,null!==i&&c++,null!==s&&c++}-1!==f&&(t.splice(f,0,e),c=f+1),t.splice(c++,0,n),null!==i&&t.splice(c++,0,i),null!==s&&t.splice(c++,0,s)}function og(t){return-1!==t}function $o(t){return 32767&t}function ho(t,e){let n=function(t){return t>>16}(t),i=e;for(;n>0;)i=i[15],n--;return i}let Lc=!0;function wr(t){const e=Lc;return Lc=t,e}let f2=0;function Ns(t,e){const n=ru(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,ud(i.data,t),ud(e,null),ud(i.blueprint,null));const s=cd(t,e),c=t.injectorIndex;if(og(s)){const f=$o(s),p=ho(s,e),y=p[1].data;for(let w=0;w<8;w++)e[c+w]=p[f+w]|y[f+w]}return e[c+8]=s,c}function ud(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ru(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function cd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,i=null,s=e;for(;null!==s;){const c=s[1],f=c.type;if(i=2===f?c.declTNode:1===f?s[6]:null,null===i)return-1;if(n++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function ld(t,e,n){!function(t,e,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Cc)&&(i=n[Cc]),null==i&&(i=n[Cc]=f2++);const s=255&i;e.data[t+(s>>5)]|=1<<s}(t,e,n)}function sg(t,e,n){if(n&Ue.Optional)return t;Lf(e,"NodeInjector")}function ag(t,e,n,i){if(n&Ue.Optional&&void 0===i&&(i=null),0==(n&(Ue.Self|Ue.Host))){const s=t[9],c=ko(void 0);try{return s?s.get(e,i,n&Ue.Optional):D_(e,i,n&Ue.Optional)}finally{ko(c)}}return sg(i,e,n)}function X_(t,e,n,i=Ue.Default,s){if(null!==t){const c=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Cc)?t[Cc]:void 0;return"number"==typeof e?e>=0?255&e:d2:e}(n);if("function"==typeof c){if(!Xp(e,t,i))return i&Ue.Host?sg(s,n,i):ag(e,n,i,s);try{const f=c(i);if(null!=f||i&Ue.Optional)return f;Lf(n)}finally{nd()}}else if("number"==typeof c){let f=null,p=ru(t,e),y=-1,w=i&Ue.Host?e[16][6]:null;for((-1===p||i&Ue.SkipSelf)&&(y=-1===p?cd(t,e):e[p+8],-1!==y&&t1(i,!1)?(f=e[1],p=$o(y),e=ho(y,e)):p=-1);-1!==p;){const E=e[1];if(e1(c,p,E.data)){const M=ug(p,e,n,f,i,w);if(M!==J_)return M}y=e[p+8],-1!==y&&t1(i,e[1].data[p+8]===w)&&e1(c,p,e)?(f=E,p=$o(y),e=ho(y,e)):p=-1}}}return ag(e,n,i,s)}const J_={};function d2(){return new iu(dn(),ne())}function ug(t,e,n,i,s,c){const f=e[1],p=f.data[t+8],E=function(t,e,n,i,s){const c=t.providerIndexes,f=e.data,p=1048575&c,y=t.directiveStart,E=c>>20,R=s?p+E:t.directiveEnd;for(let k=i?p:p+E;k<R;k++){const L=f[k];if(k<y&&n===L||k>=y&&L.type===n)return k}if(s){const k=f[y];if(k&&ci(k)&&k.type===n)return y}return null}(p,f,n,null==i?xc(p)&&Lc:i!=f&&0!=(3&p.type),s&Ue.Host&&c===p);return null!==E?Bc(e,f,E,p):J_}function Bc(t,e,n,i){let s=t[n];const c=e.data;if(function(t){return t instanceof fo}(s)){const f=s;f.resolving&&function(t,e){throw new ui("200",`Circular dependency in DI detected for ${t}`)}(Yn(c[n]));const p=wr(f.canSeeViewProviders);f.resolving=!0;const y=f.injectImpl?ko(f.injectImpl):null;Xp(t,i,Ue.Default);try{s=t[n]=f.factory(void 0,c,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:c}=e.type.prototype;if(i){const f=P_(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,f),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,f)}s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,s),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,c))}(n,c[n],e)}finally{null!==y&&ko(y),wr(p),f.resolving=!1,nd()}}return s}function e1(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function t1(t,e){return!(t&Ue.Self||t&Ue.Host&&e)}class iu{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return X_(this._tNode,this._lView,e,i,n)}}function jc(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const i=n.length;let s=0;for(;s<i;){const c=n[s];if(ig(c))break;if(0===c)s+=2;else if("number"==typeof c)for(s++;s<i&&"string"==typeof n[s];)s++;else{if(c===e)return n[s+1];s+=2}}}return null}(dn(),t)}const su="__parameters__";function Ps(t,e,n){return Oo(()=>{const i=function(t){return function(...n){if(t){const i=t(...n);for(const s in i)this[s]=i[s]}}}(e);function s(...c){if(this instanceof s)return i.apply(this,c),this;const f=new s(...c);return p.annotation=f,p;function p(y,w,E){const M=y.hasOwnProperty(su)?y[su]:Object.defineProperty(y,su,{value:[]})[su];for(;M.length<=E;)M.push(null);return(M[E]=M[E]||[]).push(f),y}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}class vt{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=rt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const y2=new vt("AnalyzeForEntryComponents"),Hc=Function;function ki(t,e){t.forEach(n=>Array.isArray(n)?ki(n,e):e(n))}function dd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ks(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const Fs={},gg="__NG_DI_FLAG__",uu="ngTempTokenPath",o1=/\n/gm,qo="__source",pd=de({provide:String,useValue:de});let hn;function rn(t){const e=hn;return hn=t,e}function s1(t,e=Ue.Default){if(void 0===hn)throw new Error("inject() must be called from an injection context");return null===hn?D_(t,void 0,e):hn.get(t,e&Ue.Optional?null:void 0,e)}function _e(t,e=Ue.Default){return(za||s1)(Re(t),e)}function Ls(t){const e=[];for(let n=0;n<t.length;n++){const i=Re(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,c=Ue.Default;for(let f=0;f<i.length;f++){const p=i[f],y=a1(p);"number"==typeof y?-1===y?s=p.token:c|=y:s=p}e.push(_e(s,c))}else e.push(_e(i))}return e}function Dr(t,e){return t[gg]=e,t.prototype[gg]=e,t}function a1(t){return t[gg]}function vg(t,e,n,i){const s=t[uu];throw e[qo]&&s.unshift(e[qo]),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let s=we(e);if(Array.isArray(e))s=e.map(we).join(" -> ");else if("object"==typeof e){let c=[];for(let f in e)if(e.hasOwnProperty(f)){let p=e[f];c.push(f+":"+("string"==typeof p?JSON.stringify(p):we(p)))}s=`{${c.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${t.replace(o1,"\n  ")}`}("\n"+t.message,s,n,i),t.ngTokenPath=s,t[uu]=null,t}const Oi=Dr(Ps("Inject",t=>({token:t})),-1),ar=Dr(Ps("Optional"),8),Wo=Dr(Ps("SkipSelf"),4);var Er=(()=>((Er=Er||{})[Er.Important=1]="Important",Er[Er.DashCase=2]="DashCase",Er))();const Go="__ngContext__";function Hn(t,e){t[Go]=e}function Ig(t){const e=function(t){return t[Go]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function _d(t,e){return undefined(t,e)}function lu(t){const e=t[3];return Hr(e)?e[3]:e}function Yo(t){return g1(t[13])}function bd(t){return g1(t[4])}function g1(t){for(;null!==t&&!Hr(t);)t=t[4];return t}function fu(t,e,n,i,s){if(null!=i){let c,f=!1;Hr(i)?c=i:$r(i)&&(f=!0,i=i[0]);const p=Wt(i);0===t&&null!==n?null==s?y1(e,n,p):Qo(e,n,p,s||null,!0):1===t&&null!==n?Qo(e,n,p,s||null,!0):2===t?function(t,e,n){const i=xd(t,e);i&&function(t,e,n,i){ft(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,p,f):3===t&&e.destroyNode(p),null!=c&&function(t,e,n,i,s){const c=n[7];c!==Wt(n)&&fu(e,t,i,c,s);for(let p=10;p<n.length;p++){const y=n[p];js(y[1],y,t,e,i,c)}}(e,t,c,n,s)}}function Qc(t,e,n){return ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Lg(t,e){const n=t[9],i=n.indexOf(e),s=e[3];1024&e[2]&&(e[2]&=-1025,Gp(s,-1)),n.splice(i,1)}function Cd(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const s=i[17];null!==s&&s!==t&&Lg(s,i),e>0&&(t[n-1][4]=i[4]);const c=ks(t,10+e);!function(t,e){js(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const f=c[19];null!==f&&f.detachView(c[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Dd(t,e){if(!(256&e[2])){const n=e[11];ft(n)&&n.destroyNode&&js(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Kc(t[1],t);for(;e;){let n=null;if($r(e))n=e[13];else{const i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)$r(e)&&Kc(e[1],e),e=e[3];null===e&&(e=t),$r(e)&&Kc(e[1],e),n=e&&e[4]}e=n}}(e)}}function Kc(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const s=e[n[i]];if(!(s instanceof fo)){const c=n[i+1];if(Array.isArray(c))for(let f=0;f<c.length;f+=2){const p=s[c[f]],y=c[f+1];try{y.call(p)}finally{}}else try{c.call(s)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,i=e[7];let s=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const f=n[c+1],p="function"==typeof f?f(e):Wt(e[f]),y=i[s=n[c+2]],w=n[c+3];"boolean"==typeof w?p.removeEventListener(n[c],y,w):w>=0?i[s=w]():i[s=-w].unsubscribe(),c+=2}else{const f=i[s=n[c+1]];n[c].call(f)}if(null!==i){for(let c=s+1;c<i.length;c++)i[c]();e[7]=null}}(t,e),1===e[1].type&&ft(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Hr(e[3])){n!==e[3]&&Lg(n,e);const i=e[19];null!==i&&i.detachView(t)}}}function Vg(t,e,n){return function(t,e,n){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){const s=t.data[i.directiveStart].encapsulation;if(s===mn.None||s===mn.Emulated)return null}return yn(i,n)}(t,e.parent,n)}function Qo(t,e,n,i,s){ft(t)?t.insertBefore(e,n,i,s):e.insertBefore(n,i,s)}function y1(t,e,n){ft(t)?t.appendChild(e,n):e.appendChild(n)}function Yr(t,e,n,i,s){null!==i?Qo(t,e,n,i,s):y1(t,e,n)}function xd(t,e){return ft(t)?t.parentNode(e):e.parentNode}let po=function(t,e,n){return 40&t.type?yn(t,n):null};function Md(t,e,n,i){const s=Vg(t,i,e),c=e[11],p=function(t,e,n){return po(t,e,n)}(i.parent||e[6],i,e);if(null!=s)if(Array.isArray(n))for(let y=0;y<n.length;y++)Yr(c,s,n[y],p,!1);else Yr(c,s,n,p,!1)}function Sd(t,e){if(null!==e){const n=e.type;if(3&n)return yn(e,t);if(4&n)return Ug(-1,t[e.index]);if(8&n){const i=e.child;if(null!==i)return Sd(t,i);{const s=t[e.index];return Hr(s)?Ug(-1,s):Wt(s)}}if(32&n)return _d(e,t)()||Wt(t[e.index]);{const i=C1(t,e);return null!==i?Array.isArray(i)?i[0]:Sd(lu(t[16]),i):Sd(t,e.next)}}return null}function C1(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ug(t,e){const n=10+t+1;if(n<e.length){const i=e[n],s=i[1].firstChild;if(null!==s)return Sd(i,s)}return e[7]}function Td(t,e,n,i,s,c,f){for(;null!=n;){const p=i[n.index],y=n.type;if(f&&0===e&&(p&&Hn(Wt(p),i),n.flags|=4),64!=(64&n.flags))if(8&y)Td(t,e,n.child,i,s,c,!1),fu(e,t,s,p,c);else if(32&y){const w=_d(n,i);let E;for(;E=w();)fu(e,t,s,E,c);fu(e,t,s,p,c)}else 16&y?D1(t,e,i,n,s,c):fu(e,t,s,p,c);n=f?n.projectionNext:n.next}}function js(t,e,n,i,s,c){Td(n,i,t.firstChild,e,s,c,!1)}function D1(t,e,n,i,s,c){const f=n[16],y=f[6].projection[i.projection];if(Array.isArray(y))for(let w=0;w<y.length;w++)fu(e,t,s,y[w],c);else Td(t,e,y,f[3],s,c,!0)}function E1(t,e,n){ft(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Id(t,e,n){ft(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Pd(t){return t.ngOriginalError}function aE(t,...e){t.error(...e)}class Gs{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),i=this._findContext(e),s=function(t){return t&&t.ngErrorLogger||aE}(e);s(this._console,"ERROR",e),n&&s(this._console,"ORIGINAL ERROR",n),i&&s(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Pd(e)):null}_findOriginalError(e){let n=e&&Pd(e);for(;n&&Pd(n);)n=Pd(n);return n||null}}const $1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Dt))();function Ui(t){return t instanceof Function?t():t}function Ys(t,e,n){let i=t.length;for(;;){const s=t.indexOf(e,n);if(-1===s)return s;if(0===s||t.charCodeAt(s-1)<=32){const c=e.length;if(s+c===i||t.charCodeAt(s+c)<=32)return s}n=s+1}}const Od="ng-template";function hE(t,e,n){let i=0;for(;i<t.length;){let s=t[i++];if(n&&"class"===s){if(s=t[i],-1!==Ys(s.toLowerCase(),e,0))return!0}else if(1===s){for(;i<t.length&&"string"==typeof(s=t[i++]);)if(s.toLowerCase()===e)return!0;return!1}}return!1}function i0(t){return 4===t.type&&t.value!==Od}function pE(t,e,n){return e===(4!==t.type||n?t.value:Od)}function gE(t,e,n){let i=4;const s=t.attrs||[],c=function(t){for(let e=0;e<t.length;e++)if(ig(t[e]))return e;return t.length}(s);let f=!1;for(let p=0;p<e.length;p++){const y=e[p];if("number"!=typeof y){if(!f)if(4&i){if(i=2|1&i,""!==y&&!pE(t,y,n)||""===y&&1===e.length){if(pi(i))return!1;f=!0}}else{const w=8&i?y:e[++p];if(8&i&&null!==t.attrs){if(!hE(t.attrs,w,n)){if(pi(i))return!1;f=!0}continue}const M=mE(8&i?"class":y,s,i0(t),n);if(-1===M){if(pi(i))return!1;f=!0;continue}if(""!==w){let R;R=M>c?"":s[M+1].toLowerCase();const k=8&i?R:null;if(k&&-1!==Ys(k,w,0)||2&i&&w!==R){if(pi(i))return!1;f=!0}}}}else{if(!f&&!pi(i)&&!pi(y))return!1;if(f&&pi(y))continue;f=!1,i=y|1&i}}return pi(i)||f}function pi(t){return 0==(1&t)}function mE(t,e,n,i){if(null===e)return-1;let s=0;if(i||!n){let c=!1;for(;s<e.length;){const f=e[s];if(f===t)return s;if(3===f||6===f)c=!0;else{if(1===f||2===f){let p=e[++s];for(;"string"==typeof p;)p=e[++s];continue}if(4===f)break;if(0===f){s+=4;continue}}s+=c?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function W1(t,e,n=!1){for(let i=0;i<e.length;i++)if(gE(t,e[i],n))return!0;return!1}function Y1(t,e){return t?":not("+e.trim()+")":e}function vE(t){let e=t[0],n=1,i=2,s="",c=!1;for(;n<t.length;){let f=t[n];if("string"==typeof f)if(2&i){const p=t[++n];s+="["+f+(p.length>0?'="'+p+'"':"")+"]"}else 8&i?s+="."+f:4&i&&(s+=" "+f);else""!==s&&!pi(f)&&(e+=Y1(c,s),s=""),i=f,c=c||!pi(i);n++}return""!==s&&(e+=Y1(c,s)),e}const Qe={};function rv(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i],c=n[i+1];if(-1!==c){const f=t.data[c];ed(s),f.contentQueries(2,e[c],c)}}}function nl(t,e,n,i,s,c,f,p,y,w){const E=e.blueprint.slice();return E[0]=s,E[2]=140|i,U_(E),E[3]=E[15]=t,E[8]=n,E[10]=f||t&&t[10],E[11]=p||t&&t[11],E[12]=y||t&&t[12]||null,E[9]=w||t&&t[9]||null,E[6]=c,E[16]=2==e.type?t[16]:E,E}function Ks(t,e,n,i,s){let c=t.data[e];if(null===c)c=function(t,e,n,i,s){const c=Yp(),f=Zf(),y=t.data[e]=function(t,e,n,i,s,c){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,f?c:c&&c.parent,n,e,i,s);return null===t.firstChild&&(t.firstChild=y),null!==c&&(f?null==c.child&&null!==y.parent&&(c.child=y):null===c.next&&(c.next=y)),y}(t,e,n,i,s),We.lFrame.inI18n&&(c.flags|=64);else if(64&c.type){c.type=n,c.value=i,c.attrs=s;const f=function(){const t=We.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();c.injectorIndex=null===f?-1:f.injectorIndex}return fi(c,!0),c}function Zs(t,e,n,i){if(0===n)return-1;const s=e.length;for(let c=0;c<n;c++)e.push(i),t.blueprint.push(i),t.data.push(null);return s}function _u(t,e,n){Ac(e);try{const i=t.viewQuery;null!==i&&Cu(1,i,n);const s=t.template;null!==s&&m0(t,e,s,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rv(t,e),t.staticViewQueries&&Cu(2,t.viewQuery,n);const c=t.components;null!==c&&function(t,e){for(let n=0;n<e.length;n++)D0(t,e[n])}(e,c)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[2]&=-5,rd()}}function Xs(t,e,n,i){const s=e[2];if(256==(256&s))return;Ac(e);const c=Sc();try{U_(e),function(t){We.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&m0(t,e,n,2,i);const f=3==(3&s);if(!c)if(f){const w=t.preOrderCheckHooks;null!==w&&Ni(e,w,null)}else{const w=t.preOrderHooks;null!==w&&As(e,w,0,null),Rs(e,0)}if(function(t){for(let e=Yo(t);null!==e;e=bd(e)){if(!e[2])continue;const n=e[9];for(let i=0;i<n.length;i++){const s=n[i],c=s[3];0==(1024&s[2])&&Gp(c,1),s[2]|=1024}}}(e),function(t){for(let e=Yo(t);null!==e;e=bd(e))for(let n=10;n<e.length;n++){const i=e[n],s=i[1];Wp(i)&&Xs(s,i,s.template,i[8])}}(e),null!==t.contentQueries&&rv(t,e),!c)if(f){const w=t.contentCheckHooks;null!==w&&Ni(e,w)}else{const w=t.contentHooks;null!==w&&As(e,w,1),Rs(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)lo(~s);else{const c=s,f=n[++i],p=n[++i];Ic(f,c),p(2,e[c])}}}finally{lo(-1)}}(t,e);const p=t.components;null!==p&&function(t,e){for(let n=0;n<e.length;n++)fv(t,e[n])}(e,p);const y=t.viewQuery;if(null!==y&&Cu(2,y,i),!c)if(f){const w=t.viewCheckHooks;null!==w&&Ni(e,w)}else{const w=t.viewHooks;null!==w&&As(e,w,2),Rs(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),c||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Gp(e[3],-1))}finally{rd()}}function iv(t,e,n,i){const s=e[10],c=!Sc(),f=function(t){return 4==(4&t[2])}(e);try{c&&!f&&s.begin&&s.begin(),f&&_u(t,e,i),Xs(t,e,n,i)}finally{c&&!f&&s.end&&s.end()}}function m0(t,e,n,i,s){const c=We.lFrame.selectedIndex,f=2&i;try{lo(-1),f&&e.length>20&&function(t,e,n,i){if(!i)if(3==(3&e[2])){const c=t.preOrderCheckHooks;null!==c&&Ni(e,c,n)}else{const c=t.preOrderHooks;null!==c&&As(e,c,0,n)}lo(n)}(t,e,20,Sc()),n(i,s)}finally{lo(c)}}function zd(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=rl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function rl(t,e,n,i,s,c,f,p,y,w){const E=20+i,M=E+s,R=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:Qe);return n}(E,M),k="function"==typeof w?w():w;return R[1]={type:t,blueprint:R,template:n,queries:null,viewQuery:p,declTNode:e,data:R.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof f?f():f,firstChild:null,schemas:y,consts:k,incompleteFirstPass:!1}}function Gt(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,s):n[i]=[e,s]}return n}function Wd(t,e,n,i,s,c){const f=c.hostBindings;if(f){let p=t.hostBindingOpCodes;null===p&&(p=t.hostBindingOpCodes=[]);const y=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(p)!=y&&p.push(y),p.push(i,s,f)}}function Mr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yd(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function er(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;ci(e)&&(n[""]=t)}}function w0(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $t(t,e,n,i,s){t.data[i]=s;const c=s.factory||(s.factory=xs(s.type)),f=new fo(c,ci(s),null);t.blueprint[i]=f,n[i]=f,Wd(t,e,0,i,Zs(t,n,s.hostVars,Qe),s)}function Qd(t,e,n){const i=yn(e,t),s=zd(n),c=t[10],f=Sr(t,nl(t,s,null,n.onPush?64:16,i,e,c,c.createRenderer(i,n),null,null));t[e.index]=f}function C0(t,e,n,i,s,c){const f=c[e];if(null!==f){const p=i.setInput;for(let y=0;y<f.length;){const w=f[y++],E=f[y++],M=f[y++];null!==p?i.setInput(n,M,w,E):n[E]=M}}}function cv(t,e){let n=null,i=0;for(;i<e.length;){const s=e[i];if(0!==s)if(5!==s){if("number"==typeof s)break;t.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,t[s],e[i+1])),i+=2}else i+=2;else i+=4}return n}function fv(t,e){const n=en(e,t);if(Wp(n)){const i=n[1];80&n[2]?Xs(i,n,i.template,n[8]):n[5]>0&&sl(n)}}function sl(t){for(let i=Yo(t);null!==i;i=bd(i))for(let s=10;s<i.length;s++){const c=i[s];if(1024&c[2]){const f=c[1];Xs(f,c,f.template,c[8])}else c[5]>0&&sl(c)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const s=en(n[i],t);Wp(s)&&s[5]>0&&sl(s)}}function D0(t,e){const n=en(e,t),i=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(i,n),_u(i,n,n[8])}function Sr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function x0(t){for(;t;){t[2]|=64;const e=lu(t);if(XD(t)&&!e)return t;t=e}return null}function Xd(t,e,n){const i=e[10];i.begin&&i.begin();try{Xs(t,e,t.template,n)}catch(s){throw tr(e,s),s}finally{i.end&&i.end()}}function dv(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Ig(n),s=i[1];iv(s,i,s.template,n)}}(t[8])}function Cu(t,e,n){ed(0),e(t,n)}const S0=(()=>Promise.resolve(null))();function ul(t){return t[7]||(t[7]=[])}function cl(t){return t.cleanup||(t.cleanup=[])}function tr(t,e){const n=t[9],i=n?n.get(Gs,null):null;i&&i.handleError(e)}function Hi(t,e,n){let i=n?t.styles:null,s=n?t.classes:null,c=0;if(null!==e)for(let f=0;f<e.length;f++){const p=e[f];"number"==typeof p?c=p:1==c?s=Bt(s,p):2==c&&(i=Bt(i,p+": "+e[++f]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=s:t.classesWithoutHost=s}const zi=new vt("INJECTOR",-1);class vo{get(e,n=Fs){if(n===Fs){const i=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw i.name="NullInjectorError",i}return n}}const Tr=new vt("Set Injector scope."),Ir={},T0={};let eh;function I0(){return void 0===eh&&(eh=new vo),eh}function A0(t,e=null,n=null,i){return new NE(t,n,e||I0(),i)}class NE{constructor(e,n,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];n&&ki(n,p=>this.processProvider(p,e,n)),ki([e],p=>this.processInjectorType(p,[],c)),this.records.set(zi,Du(void 0,this));const f=this.records.get(Tr);this.scope=null!=f?f.value:null,this.source=s||("object"==typeof e?null:we(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Fs,i=Ue.Default){this.assertNotDestroyed();const s=rn(this),c=ko(void 0);try{if(!(i&Ue.SkipSelf)){let p=this.records.get(e);if(void 0===p){const y=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof vt}(e)&&Br(e);p=y&&this.injectableDefInScope(y)?Du(R0(e),Ir):null,this.records.set(e,p)}if(null!=p)return this.hydrate(e,p)}return(i&Ue.Self?I0():this.parent).get(e,n=i&Ue.Optional&&n===Fs?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[uu]=f[uu]||[]).unshift(we(e)),s)throw f;return vg(f,e,"R3InjectorError",this.source)}throw f}finally{ko(c),rn(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,s)=>e.push(we(s))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,i){if(!(e=Re(e)))return!1;let s=Fp(e);const c=null==s&&e.ngModule||void 0,f=void 0===c?e:c,p=-1!==i.indexOf(f);if(void 0!==c&&(s=Fp(c)),null==s)return!1;if(null!=s.imports&&!p){let E;i.push(f);try{ki(s.imports,M=>{this.processInjectorType(M,n,i)&&(void 0===E&&(E=[]),E.push(M))})}finally{}if(void 0!==E)for(let M=0;M<E.length;M++){const{ngModule:R,providers:k}=E[M];ki(k,L=>this.processProvider(L,R,k||At))}}this.injectorDefTypes.add(f);const y=xs(f)||(()=>new f);this.records.set(f,Du(y,Ir));const w=s.providers;if(null!=w&&!p){const E=e;ki(w,M=>this.processProvider(M,E,w))}return void 0!==c&&void 0!==e.providers}processProvider(e,n,i){let s=bo(e=Re(e))?e:Re(e&&e.provide);const c=function(t,e,n){return Eu(t)?Du(void 0,t.useValue):Du(function(t,e,n){let i;if(bo(t)){const s=Re(t);return xs(s)||R0(s)}if(Eu(t))i=()=>Re(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))i=()=>t.useFactory(...Ls(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>_e(Re(t.useExisting));else{const s=Re(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return xs(s)||R0(s);i=()=>new s(...Ls(t.deps))}return i}(t),Ir)}(e);if(bo(e)||!0!==e.multi)this.records.get(s);else{let f=this.records.get(s);f||(f=Du(void 0,Ir,!0),f.factory=()=>Ls(f.multi),this.records.set(s,f)),s=e,f.multi.push(e)}this.records.set(s,c)}hydrate(e,n){return n.value===Ir&&(n.value=T0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Re(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function R0(t){const e=Br(t),n=null!==e?e.factory:xs(t);if(null!==n)return n;if(t instanceof vt)throw new Error(`Token ${we(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const i=function(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${we(t)}: (${i.join(", ")}).`)}const n=function(t){const e=t&&(t[Vf]||t[C_]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Du(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Eu(t){return null!==t&&"object"==typeof t&&pd in t}function bo(t){return"function"==typeof t}const ah=function(t,e,n){return function(t,e=null,n=null,i){const s=A0(t,e,n,i);return s._resolveInjectorDefTypes(),s}({name:n},e,t,n)};let xt=(()=>{class t{static create(n,i){return Array.isArray(n)?ah(n,i,""):ah(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=Fs,t.NULL=new vo,t.\u0275prov=rt({token:t,providedIn:"any",factory:()=>_e(zi)}),t.__NG_ELEMENT_ID__=-1,t})();function dl(t,e){Is(Ig(t)[1],dn())}let mh=null;function ta(){if(!mh){const t=Dt.Symbol;if(t&&t.iterator)mh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(mh=i)}}}return mh}function Jo(t){return!!Su(t)&&(Array.isArray(t)||!(t instanceof Map)&&ta()in t)}function Su(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function je(t,e=Ue.Default){const n=ne();return null===n?_e(t,e):X_(dn(),n,Re(t),e)}function em(t,e,n,i,s){const f=s?"class":"style";!function(t,e,n,i,s){for(let c=0;c<n.length;){const f=n[c++],p=n[c++],y=e[f],w=t.data[f];null!==w.setInput?w.setInput(y,s,i,p):y[p]=s}}(t,n,e.inputs[f],f,i)}function El(t,e,n,i){const s=ne(),c=it(),f=20+t,p=s[11],y=s[f]=Qc(p,e,We.lFrame.currentNamespace),w=c.firstCreatePass?function(t,e,n,i,s,c,f){const p=e.consts,w=Ks(e,t,2,s,jo(p,c));return function(t,e,n,i){let s=!1;if(uo()){const c=function(t,e,n){const i=t.directiveRegistry;let s=null;if(i)for(let c=0;c<i.length;c++){const f=i[c];W1(n,f.selectors,!1)&&(s||(s=[]),ld(Ns(n,e),t,f.type),ci(f)?(Yd(t,n),s.unshift(f)):s.push(f))}return s}(t,e,n),f=null===i?null:{"":-1};if(null!==c){s=!0,w0(n,t.data.length,c.length);for(let E=0;E<c.length;E++){const M=c[E];M.providersResolver&&M.providersResolver(M)}let p=!1,y=!1,w=Zs(t,e,c.length,null);for(let E=0;E<c.length;E++){const M=c[E];n.mergedAttrs=nu(n.mergedAttrs,M.hostAttrs),$t(t,n,e,w,M),er(w,M,f),null!==M.contentQueries&&(n.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(n.flags|=128);const R=M.type.prototype;!p&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),p=!0),!y&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),y=!0),w++}!function(t,e){const i=e.directiveEnd,s=t.data,c=e.attrs,f=[];let p=null,y=null;for(let w=e.directiveStart;w<i;w++){const E=s[w],M=E.inputs,R=null===c||i0(e)?null:cv(M,c);f.push(R),p=Gt(M,w,p),y=Gt(E.outputs,w,y)}null!==p&&(p.hasOwnProperty("class")&&(e.flags|=16),p.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=f,e.inputs=p,e.outputs=y}(t,n)}f&&function(t,e,n){if(e){const i=t.localNames=[];for(let s=0;s<e.length;s+=2){const c=n[e[s+1]];if(null==c)throw new ui("301",`Export of name '${e[s+1]}' not found!`);i.push(e[s],c)}}}(n,i,f)}n.mergedAttrs=nu(n.mergedAttrs,n.attrs)}(e,n,w,jo(p,f)),null!==w.attrs&&Hi(w,w.attrs,!1),null!==w.mergedAttrs&&Hi(w,w.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,w),w}(f,c,s,0,e,n,i):c.data[f];fi(w,!0);const E=w.mergedAttrs;null!==E&&sd(p,y,E);const M=w.classes;null!==M&&Id(p,y,M);const R=w.styles;null!==R&&E1(p,y,R),64!=(64&w.flags)&&Md(c,s,y,w),0===We.lFrame.elementDepthCount&&Hn(y,s),We.lFrame.elementDepthCount++,Wf(w)&&(function(t,e,n){!uo()||(function(t,e,n,i){const s=n.directiveStart,c=n.directiveEnd;t.firstCreatePass||Ns(n,e),Hn(i,e);const f=n.initialInputs;for(let p=s;p<c;p++){const y=t.data[p],w=ci(y);w&&Qd(e,n,y);const E=Bc(e,t,p,n);Hn(E,e),null!==f&&C0(0,p-s,E,y,0,f),w&&(en(n.index,e)[8]=E)}}(t,e,n,yn(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,s=n.directiveEnd,f=n.index,p=We.lFrame.currentDirectiveIndex;try{lo(f);for(let y=i;y<s;y++){const w=t.data[y],E=e[y];Xf(y),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&Mr(w,E)}}finally{lo(-1),Xf(p)}}(t,e,n))}(c,s,w),function(t,e,n){if(qf(e)){const s=e.directiveEnd;for(let c=e.directiveStart;c<s;c++){const f=t.data[c];f.contentQueries&&f.contentQueries(1,n[c],c)}}}(c,w,s)),null!==i&&function(t,e,n=yn){const i=e.localNames;if(null!==i){let s=e.index+1;for(let c=0;c<i.length;c+=2){const f=i[c+1],p=-1===f?n(e,t):t[f];t[s++]=p}}}(s,w)}function Nr(){let t=dn();Zf()?We.lFrame.isParent=!1:(t=t.parent,fi(t,!1));const e=t;We.lFrame.elementDepthCount--;const n=it();n.firstCreatePass&&(Is(n,t),qf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&em(n,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&em(n,e,ne(),e.stylesWithoutHost,!1)}function ca(t,e,n,i){El(t,e,n,i),Nr()}function Ah(t){return!!t&&"function"==typeof t.then}const la=function(t){return!!t&&"function"==typeof t.subscribe};function Ou(t,e,n,i){const s=ne(),c=it(),f=dn();return function(t,e,n,i,s,c,f,p){const y=Wf(i),E=t.firstCreatePass&&cl(t),M=e[8],R=ul(e);let k=!0;if(3&i.type||p){const U=yn(i,e),re=p?p(U):U,X=R.length,Ce=p?Oe=>p(Wt(Oe[i.index])):i.index;if(ft(n)){let Oe=null;if(!p&&y&&(Oe=function(t,e,n,i){const s=t.cleanup;if(null!=s)for(let c=0;c<s.length-1;c+=2){const f=s[c];if(f===n&&s[c+1]===i){const p=e[7],y=s[c+2];return p.length>y?p[y]:null}"string"==typeof f&&(c+=2)}return null}(t,e,s,i.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=c,Oe.__ngLastListenerFn__=c,k=!1;else{c=im(i,e,M,c,!1);const ct=n.listen(re,s,c);R.push(c,ct),E&&E.push(s,Ce,X,X+1)}}else c=im(i,e,M,c,!0),re.addEventListener(s,c,f),R.push(c),E&&E.push(s,Ce,X,f)}else c=im(i,e,M,c,!1);const L=i.outputs;let q;if(k&&null!==L&&(q=L[s])){const U=q.length;if(U)for(let re=0;re<U;re+=2){const Vn=e[q[re]][q[re+1]].subscribe(c),eo=R.length;R.push(c,Vn),E&&E.push(s,i.index,eo,-(eo+1))}}}(c,s,s[11],f,t,e,!!n,i),Ou}function Fu(t,e,n,i){try{return!1!==n(i)}catch(s){return tr(t,s),!1}}function im(t,e,n,i,s){return function c(f){if(f===Function)return i;const p=2&t.flags?en(t.index,e):e;0==(32&e[2])&&x0(p);let y=Fu(e,0,i,f),w=c.__ngNextListenerFn__;for(;w;)y=Fu(e,0,w,f)&&y,w=w.__ngNextListenerFn__;return s&&!1===y&&(f.preventDefault(),f.returnValue=!1),y}}function fm(t,e=""){const n=ne(),i=it(),s=t+20,c=i.firstCreatePass?Ks(i,s,1,e,null):i.data[s],f=n[s]=function(t,e){return ft(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Md(i,n,f,c),fi(c,!1)}const da=void 0;var Bh=["en",[["a","p"],["AM","PM"],da],[["AM","PM"],da,da],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],da,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],da,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",da,"{1} 'at' {0}",da],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ha={};function Nb(t){return t in ha||(ha[t]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[t]),ha[t]}var ye=(()=>((ye=ye||{})[ye.LocaleId=0]="LocaleId",ye[ye.DayPeriodsFormat=1]="DayPeriodsFormat",ye[ye.DayPeriodsStandalone=2]="DayPeriodsStandalone",ye[ye.DaysFormat=3]="DaysFormat",ye[ye.DaysStandalone=4]="DaysStandalone",ye[ye.MonthsFormat=5]="MonthsFormat",ye[ye.MonthsStandalone=6]="MonthsStandalone",ye[ye.Eras=7]="Eras",ye[ye.FirstDayOfWeek=8]="FirstDayOfWeek",ye[ye.WeekendRange=9]="WeekendRange",ye[ye.DateFormat=10]="DateFormat",ye[ye.TimeFormat=11]="TimeFormat",ye[ye.DateTimeFormat=12]="DateTimeFormat",ye[ye.NumberSymbols=13]="NumberSymbols",ye[ye.NumberFormats=14]="NumberFormats",ye[ye.CurrencyCode=15]="CurrencyCode",ye[ye.CurrencySymbol=16]="CurrencySymbol",ye[ye.CurrencyName=17]="CurrencyName",ye[ye.Currencies=18]="Currencies",ye[ye.Directionality=19]="Directionality",ye[ye.PluralCase=20]="PluralCase",ye[ye.ExtraData=21]="ExtraData",ye))();const Nl="en-US";let Pb=Nl;function bm(t){gr(t,"Expected localeId to be defined"),"string"==typeof t&&(Pb=t.toLowerCase().replace(/_/g,"-"))}class Zh{}const Xh="ngComponent";class Fm{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${we(t)}. Did you add it to @NgModule.entryComponents?`);return e[Xh]=t,e}(e)}}let Ot=(()=>{class t{}return t.NULL=new Fm,t})();function jl(...t){}function Pr(t,e){return new kr(yn(t,e))}const Vm=function(){return Pr(dn(),ne())};let kr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=Vm,t})();class Jh{}let Ul=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ma(),t})();const ma=function(){const t=ne(),n=en(dn().index,t);return function(t){return t[11]}($r(n)?n:t)};let ep=(()=>{class t{}return t.\u0275prov=rt({token:t,providedIn:"root",factory:()=>null}),t})();class zl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ns=new zl("12.2.17");class jm{constructor(){}supports(e){return Jo(e)}create(e){return new qx(e)}}const mw=(t,e)=>e;class qx{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mw}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,s=0,c=null;for(;n||i;){const f=!i||n&&n.currentIndex<_w(i,s,c)?n:i,p=_w(f,s,c),y=f.currentIndex;if(f===i)s--,i=i._nextRemoved;else if(n=n._next,null==f.previousIndex)s++;else{c||(c=[]);const w=p-s,E=y-s;if(w!=E){for(let R=0;R<w;R++){const k=R<c.length?c[R]:c[R]=0,L=k+R;E<=L&&L<w&&(c[R]=k+1)}c[f.previousIndex]=E-w}}p!==y&&e(f,p,y)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Jo(e))throw new Error(`Error trying to diff '${we(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let s,c,f,n=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let p=0;p<this.length;p++)c=e[p],f=this._trackByFn(p,c),null!==n&&Object.is(n.trackById,f)?(i&&(n=this._verifyReinsertion(n,c,f,p)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,f,p),i=!0),n=n._next}else s=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ta()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(e,p=>{f=this._trackByFn(s,p),null!==n&&Object.is(n.trackById,f)?(i&&(n=this._verifyReinsertion(n,p,f,s)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,f,s),i=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,s){let c;return null===e?c=this._itTail:(c=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,c,s)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,c,s)):e=this._addAfter(new Wx(n,i),c,s),e}_verifyReinsertion(e,n,i,s){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==c?e=this._reinsertAfter(c,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,c=e._nextRemoved;return null===s?this._removalsHead=c:s._nextRemoved=c,null===c?this._removalsTail=s:c._prevRemoved=s,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){const s=null===n?this._itHead:n._next;return e._next=s,e._prev=n,null===s?this._itTail=e:s._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new yw),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,i=e._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Wx{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gx{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const n=e._prevDup,i=e._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class yw{constructor(){this.map=new Map}put(e){const n=e.trackById;let i=this.map.get(n);i||(i=new Gx,this.map.set(n,i)),i.add(e)}get(e,n){const s=this.map.get(e);return s?s.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _w(t,e,n){const i=t.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+e+s}class vw{constructor(){}supports(e){return e instanceof Map||Su(e)}create(){return new bw}}class bw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Su(e)))throw new Error(`Error trying to diff '${we(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(s,i);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const s=this._records.get(e);this._maybeAddToChanges(s,n);const c=s._prev,f=s._next;return c&&(c._next=f),f&&(f._prev=c),s._next=null,s._prev=null,s}const i=new Um(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}}class Um{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ww(){return new ya([new jm])}let ya=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(null!=i){const s=i.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||ww()),deps:[[t,new Wo,new ar]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=rt({token:t,providedIn:"root",factory:ww}),t})();function Cw(){return new _a([new vw])}let _a=(()=>{class t{constructor(n){this.factories=n}static create(n,i){if(i){const s=i.factories.slice();n=n.concat(s)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||Cw()),deps:[[t,new Wo,new ar]]}}find(n){const i=this.factories.find(s=>s.supports(n));if(i)return i;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=rt({token:t,providedIn:"root",factory:Cw}),t})();function Yu(t,e,n,i,s=!1){for(;null!==n;){const c=e[n.index];if(null!==c&&i.push(Wt(c)),Hr(c))for(let p=10;p<c.length;p++){const y=c[p],w=y[1].firstChild;null!==w&&Yu(y[1],y,w,i)}const f=n.type;if(8&f)Yu(t,e,n.child,i);else if(32&f){const p=_d(n,e);let y;for(;y=p();)i.push(y)}else if(16&f){const p=C1(e,n);if(Array.isArray(p))i.push(...p);else{const y=lu(e[16]);Yu(y[1],y,p,i,!0)}}n=s?n.projectionNext:n.next}return i}class ql{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Yu(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Hr(e)){const n=e[8],i=n?n.indexOf(this):-1;i>-1&&(Cd(e,i),ks(n,i))}this._attachedToViewContainer=!1}Dd(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,i){const s=ul(e);null===n?s.push(i):(s.push(n),t.firstCreatePass&&cl(t).push(i,s.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){x0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Tc(!0);try{Xd(t,e,n)}finally{Tc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){js(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Dw extends ql{constructor(e){super(e),this._view=e}detectChanges(){dv(this._view)}checkNoChanges(){!function(t){Tc(!0);try{dv(t)}finally{Tc(!1)}}(this._view)}get context(){return null}}const Ew=function(t){return function(t,e,n){if(xc(t)&&!n){const i=en(t.index,e);return new ql(i,i)}return 47&t.type?new ql(e[16],e):null}(dn(),ne(),16==(16&t))};let va=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ew,t})();const Qu=[new vw],xw=new ya([new jm]),Mw=new _a(Qu);class Qi{}class Tw{}const Jx=function(){return function(t,e){let n;const i=e[t.index];if(Hr(i))n=i;else{let s;if(8&t.type)s=Wt(i);else{const c=e[11];s=c.createComment("");const f=yn(t,e);Qo(c,xd(c,f),s,function(t,e){return ft(t)?t.nextSibling(e):e.nextSibling}(c,f),!1)}e[t.index]=n=function(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}(i,e,s,t),Sr(e,n)}return new Hm(n,t,e)}(dn(),ne())};let Or=(()=>{class t{}return t.__NG_ELEMENT_ID__=Jx,t})();const eM=Or,Hm=class extends eM{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Pr(this._hostTNode,this._hostLView)}get injector(){return new iu(this._hostTNode,this._hostLView)}get parentInjector(){const e=cd(this._hostTNode,this._hostLView);if(og(e)){const n=ho(e,this._hostLView),i=$o(e);return new iu(n[1].data[i+8],n)}return new iu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=zm(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,i){const s=e.createEmbeddedView(n||{});return this.insert(s,i),s}createComponent(e,n,i,s,c){const f=i||this.parentInjector;if(!c&&null==e.ngModule&&f){const y=f.get(Qi,null);y&&(c=y)}const p=e.create(f,s,void 0,c);return this.insert(p.hostView,n),p}insert(e,n){const i=e._lView,s=i[1];if(function(t){return Hr(t[3])}(i)){const E=this.indexOf(e);if(-1!==E)this.detach(E);else{const M=i[3],R=new Hm(M,M[6],M[3]);R.detach(R.indexOf(e))}}const c=this._adjustIndex(n),f=this._lContainer;!function(t,e,n,i){const s=10+i,c=n.length;i>0&&(n[s-1][4]=e),i<c-10?(e[4]=n[s],dd(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const f=e[17];null!==f&&n!==f&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(f,e);const p=e[19];null!==p&&p.insertView(t),e[2]|=128}(s,i,f,c);const p=Ug(c,f),y=i[11],w=xd(y,f[7]);return null!==w&&function(t,e,n,i,s,c){i[0]=s,i[6]=e,js(t,i,n,1,s,c)}(s,f[6],y,i,w,p),e.attachToViewContainerRef(),dd(np(f),c,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=zm(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),i=Cd(this._lContainer,n);i&&(ks(np(this._lContainer),n),Dd(i[1],i))}detach(e){const n=this._adjustIndex(e,-1),i=Cd(this._lContainer,n);return i&&null!=ks(np(this._lContainer),n)?new ql(i):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function zm(t){return t[8]}function np(t){return t[8]||(t[8]=[])}const tc={};class dy extends Ot{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=jn(e);return new iC(n,this.ngModule)}}function tC(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const RM=new vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$1});class iC extends Zh{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(vE).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return tC(this.componentDef.inputs)}get outputs(){return tC(this.componentDef.outputs)}create(e,n,i,s){const c=(s=s||this.ngModule)?function(t,e){return{get:(n,i,s)=>{const c=t.get(n,tc,s);return c!==tc||i===tc?c:e.get(n,i,s)}}}(e,s.injector):e,f=c.get(Jh,Ss),p=c.get(ep,null),y=f.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",E=i?function(t,e,n){if(ft(t))return t.selectRootElement(e,n===mn.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(y,i,this.componentDef.encapsulation):Qc(f.createRenderer(null,this.componentDef),w,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(w)),M=this.componentDef.onPush?576:528,R=function(t,e){return{components:[],scheduler:t||$1,clean:S0,playerHandler:e||null,flags:0}}(),k=rl(0,null,null,1,0,null,null,null,null,null),L=nl(null,k,R,M,null,null,f,y,p,c);let q,U;Ac(L);try{const re=function(t,e,n,i,s,c){const f=n[1];n[20]=t;const y=Ks(f,20,2,"#host",null),w=y.mergedAttrs=e.hostAttrs;null!==w&&(Hi(y,w,!0),null!==t&&(sd(s,t,w),null!==y.classes&&Id(s,t,y.classes),null!==y.styles&&E1(s,t,y.styles)));const E=i.createRenderer(t,e),M=nl(n,zd(e),null,e.onPush?64:16,n[20],y,i,E,c||null,null);return f.firstCreatePass&&(ld(Ns(y,n),f,e.type),Yd(f,y),w0(y,n.length,1)),Sr(n,M),n[20]=M}(E,this.componentDef,L,f,y);if(E)if(i)sd(y,E,["ng-version",ns.full]);else{const{attrs:X,classes:Ce}=function(t){const e=[],n=[];let i=1,s=2;for(;i<t.length;){let c=t[i];if("string"==typeof c)2===s?""!==c&&e.push(c,t[++i]):8===s&&n.push(c);else{if(!pi(s))break;s=c}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);X&&sd(y,E,X),Ce&&Ce.length>0&&Id(y,E,Ce.join(" "))}if(U=function(t,e){return t.data[e]}(k,20),void 0!==n){const X=U.projection=[];for(let Ce=0;Ce<this.ngContentSelectors.length;Ce++){const Oe=n[Ce];X.push(null!=Oe?Array.from(Oe):null)}}q=function(t,e,n,i,s){const c=n[1],f=function(t,e,n){const i=dn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),$t(t,i,e,Zs(t,e,1,null),n));const s=Bc(e,t,i.directiveStart,i);Hn(s,e);const c=yn(i,e);return c&&Hn(c,e),s}(c,n,e);if(i.components.push(f),t[8]=f,s&&s.forEach(y=>y(f,e)),e.contentQueries){const y=dn();e.contentQueries(1,f,y.directiveStart)}const p=dn();return!c.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(lo(p.index),Wd(n[1],p,0,p.directiveStart,p.directiveEnd,e),Mr(e,f)),f}(re,this.componentDef,L,R,[dl]),_u(k,L,null)}finally{rd()}return new sC(this.componentType,q,Pr(U,L),L,U)}}class sC extends class{}{constructor(e,n,i,s,c){super(),this.location=i,this._rootLView=s,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new Dw(s),this.componentType=e}get injector(){return new iu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const Ea=new Map;class uC extends Qi{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dy(this);const i=jr(e),s=function(t){return t[WD]||null}(e);s&&bm(s),this._bootstrapComponents=Ui(i.bootstrap),this._r3Injector=A0(e,n,[{provide:Qi,useValue:this},{provide:Ot,useValue:this.componentFactoryResolver}],we(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=xt.THROW_IF_NOT_FOUND,i=Ue.Default){return e===xt||e===Qi||e===zi?this:this._r3Injector.get(e,n,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class py extends Tw{constructor(e){super(),this.moduleType=e,null!==jr(e)&&function(t){const e=new Set;!function n(i){const s=jr(i,!0),c=s.id;null!==c&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${we(e)} vs ${we(e.name)}`)}(c,Ea.get(c),i),Ea.set(c,i));const f=Ui(s.imports);for(const p of f)e.has(p)||(e.add(p),n(p))}(t)}(e)}create(e){return new uC(this.moduleType,e)}}function cp(t){return e=>{setTimeout(t,void 0,e)}}const ni=class extends si{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){var s,c,f;let p=e,y=n||(()=>null),w=i;if(e&&"object"==typeof e){const M=e;p=null===(s=M.next)||void 0===s?void 0:s.bind(M),y=null===(c=M.error)||void 0===c?void 0:c.bind(M),w=null===(f=M.complete)||void 0===f?void 0:f.bind(M)}this.__isAsync&&(y=cp(y),p&&(p=cp(p)),w&&(w=cp(w)));const E=super.subscribe({next:p,error:y,complete:w});return e instanceof Ft&&e.add(E),E}};Symbol;const sf=new vt("Application Initializer");let ls=(()=>{class t{constructor(n){this.appInits=n,this.resolve=jl,this.reject=jl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const c=this.appInits[s]();if(Ah(c))n.push(c);else if(la(c)){const f=new Promise((p,y)=>{c.subscribe({complete:p,error:y})});n.push(f)}}Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),0===n.length&&i(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(_e(sf,8))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const af=new vt("AppId"),vS={provide:af,useFactory:function(){return`${uf()}${uf()}${uf()}`},deps:[]};function uf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const By=new vt("Platform Initializer"),jy=new vt("Platform ID"),Uy=new vt("appBootstrapListener");let cf=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const fs=new vt("LocaleId"),$y=new vt("DefaultCurrencyCode");class jC{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const Hy=function(t){return new py(t)},UC=Hy,yp=function(t){return Promise.resolve(Hy(t))},$C=function(t){const e=Hy(t),i=Ui(jr(t).declarations).reduce((s,c)=>{const f=jn(c);return f&&s.push(new iC(f)),s},[]);return new jC(e,i)},ES=$C,xS=function(t){return Promise.resolve($C(t))};let Ia=(()=>{class t{constructor(){this.compileModuleSync=UC,this.compileModuleAsync=yp,this.compileModuleAndAllComponentsSync=ES,this.compileModuleAndAllComponentsAsync=xS}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const TS=(()=>Promise.resolve(0))();function zy(t){"undefined"==typeof Zone?TS.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class cn{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ni(!1),this.onMicrotaskEmpty=new ni(!1),this.onStable=new ni(!1),this.onError=new ni(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let t=Dt.requestAnimationFrame,e=Dt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qy(t),t.isCheckStableRunning=!0,_p(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,s,c,f,p)=>{try{return zC(t),n.invokeTask(s,c,f,p)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&e(),Wy(t)}},onInvoke:(n,i,s,c,f,p,y)=>{try{return zC(t),n.invoke(s,c,f,p,y)}finally{t.shouldCoalesceRunChangeDetection&&e(),Wy(t)}},onHasTask:(n,i,s,c)=>{n.hasTask(s,c),i===s&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,qy(t),_p(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,i,s,c)=>(n.handleError(s,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,s){const c=this._inner,f=c.scheduleEventTask("NgZoneEvent: "+s,e,AS,jl,jl);try{return c.runTask(f,n,i)}finally{c.cancelTask(f)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}}const AS={};function _p(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wy(t){t._nesting--,_p(t)}class NS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ni,this.onMicrotaskEmpty=new ni,this.onStable=new ni,this.onError=new ni}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,s){return e.apply(n,i)}}let Gy=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cn.assertNotInAngularZone(),zy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,s){let c=-1;i&&i>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:s})}whenStable(n,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,i,s){return[]}}return t.\u0275fac=function(n){return new(n||t)(_e(cn))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})(),qC=(()=>{class t{constructor(){this._applications=new Map,Yy.addToWindow(this)}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Yy.findTestabilityInTree(this,n,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();class PS{addToWindow(e){}findTestabilityInTree(e,n,i){return null}}let Yy=new PS,WC=!0,df=!1;let fr;const ZC=new vt("AllowMultipleToken");class r{constructor(e,n){this.name=e,this.token=n}}function a(t,e,n=[]){const i=`Platform: ${e}`,s=new vt(i);return(c=[])=>{let f=d();if(!f||f.injector.get(ZC,!1))if(t)t(n.concat(c).concat({provide:s,useValue:!0}));else{const p=n.concat(c).concat({provide:s,useValue:!0},{provide:Tr,useValue:"platform"});!function(t){if(fr&&!fr.destroyed&&!fr.injector.get(ZC,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fr=t.get(h);const e=t.get(By,null);e&&e.forEach(n=>n())}(xt.create({providers:p,name:i}))}return function(t){const e=d();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(s)}}function d(){return fr&&!fr.destroyed?fr:null}let h=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const p=function(t,e){let n;return n="noop"===t?new NS:("zone.js"===t?void 0:t)||new cn({enableLongStackTrace:(df=!0,WC),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),y=[{provide:cn,useValue:p}];return p.run(()=>{const w=xt.create({providers:y,parent:this.injector,name:n.moduleType.name}),E=n.create(w),M=E.injector.get(Gs,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return p.runOutsideAngular(()=>{const R=p.onError.subscribe({next:k=>{M.handleError(k)}});E.onDestroy(()=>{C(this._modules,E),R.unsubscribe()})}),function(t,e,n){try{const i=n();return Ah(i)?i.catch(s=>{throw e.runOutsideAngular(()=>t.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(M,p,()=>{const R=E.injector.get(ls);return R.runInitializers(),R.donePromise.then(()=>(bm(E.injector.get(fs,Nl)||Nl),this._moduleDoBootstrap(E),E))})})}bootstrapModule(n,i=[]){const s=_({},i);return function(t,e,n){const i=new py(n);return Promise.resolve(i)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,s))}_moduleDoBootstrap(n){const i=n.injector.get(v);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${we(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(_e(xt))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();function _(t,e){return Array.isArray(e)?e.reduce(_,t):Object.assign(Object.assign({},t),e)}let v=(()=>{class t{constructor(n,i,s,c,f){this._zone=n,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=c,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new Pt(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new Pt(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{cn.assertNotInAngularZone(),zy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{cn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),M.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ua(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Pt?t[0]:oe(e)(se(t,n))}(p,y.pipe(t=>Le()(function(t,e){return function(i){let s;s="function"==typeof t?t:function(){return t};const c=Object.create(i,Te);return c.source=i,c.subjectFactory=s,c}}(Ne)(t))))}bootstrap(n,i){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let s;s=n instanceof Zh?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(s.componentType);const c=function(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Qi),p=s.create(xt.NULL,[],i||s.selector,c),y=p.location.nativeElement,w=p.injector.get(Gy,null),E=w&&p.injector.get(qC);return w&&E&&E.registerApplication(y,w),p.onDestroy(()=>{this.detachView(p.hostView),C(this.components,p),E&&E.unregisterApplication(y)}),this._loadComponent(p),p}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;C(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Uy,[]).concat(this._bootstrapListeners).forEach(s=>s(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(_e(cn),_e(xt),_e(Gs),_e(Ot),_e(ls))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();function C(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class T{}class F{}const V={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Q=(()=>{class t{constructor(n,i){this._compiler=n,this._config=i||V}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[i,s]=n.split("#");return void 0===s&&(s="default"),to(255)(i).then(c=>c[s]).then(c=>Z(c,i,s)).then(c=>this._compiler.compileModuleAsync(c))}loadFactory(n){let[i,s]=n.split("#"),c="NgFactory";return void 0===s&&(s="default",c=""),to(255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(f=>f[s+c]).then(f=>Z(f,i,s))}}return t.\u0275fac=function(n){return new(n||t)(_e(Ia),_e(F,8))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();function Z(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const eN=a(null,"core",[{provide:jy,useValue:"unknown"},{provide:h,deps:[xt]},{provide:qC,deps:[]},{provide:cf,deps:[]}]),oN=[{provide:v,useClass:v,deps:[cn,xt,Gs,Ot,ls]},{provide:RM,deps:[cn],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:ls,useClass:ls,deps:[[new ar,sf]]},{provide:Ia,useClass:Ia,deps:[]},vS,{provide:ya,useFactory:function(){return xw},deps:[]},{provide:_a,useFactory:function(){return Mw},deps:[]},{provide:fs,useFactory:function(t){return bm(t=t||"undefined"!=typeof $localize&&$localize.locale||Nl),t},deps:[[new Oi(fs),new ar,new Wo]]},{provide:$y,useValue:"USD"}];let aN=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(_e(v))},t.\u0275mod=vs({type:t}),t.\u0275inj=oo({providers:oN}),t})(),iD=null;function uc(){return iD}const ir=new vt("DocumentToken");let gf=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({factory:s8,token:t,providedIn:"platform"}),t})();function s8(){return _e(mR)}const a8=new vt("Location Initialized");let mR=(()=>{class t extends gf{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uc().getBaseHref(this._doc)}onPopState(n){const i=uc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=uc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,s){yR()?this._history.pushState(n,i,s):this.location.hash=s}replaceState(n,i,s){yR()?this._history.replaceState(n,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(_e(ir))},t.\u0275prov=rt({factory:u8,token:t,providedIn:"platform"}),t})();function yR(){return!!window.history.pushState}function u8(){return new mR(_e(ir))}function YS(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function _R(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Na(t){return t&&"?"!==t[0]?"?"+t:t}let Cp=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({factory:c8,token:t,providedIn:"root"}),t})();function c8(t){const e=_e(ir).location;return new vR(_e(gf),e&&e.origin||"")}const QS=new vt("appBaseHref");let vR=(()=>{class t extends Cp{constructor(n,i){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return YS(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Na(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,c){const f=this.prepareExternalUrl(s+Na(c));this._platformLocation.pushState(n,i,f)}replaceState(n,i,s,c){const f=this.prepareExternalUrl(s+Na(c));this._platformLocation.replaceState(n,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(_e(gf),_e(QS,8))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})(),l8=(()=>{class t extends Cp{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=YS(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,s,c){let f=this.prepareExternalUrl(s+Na(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,i,f)}replaceState(n,i,s,c){let f=this.prepareExternalUrl(s+Na(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(_e(gf),_e(QS,8))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})(),oD=(()=>{class t{constructor(n,i){this._subject=new ni,this._urlChangeListeners=[],this._platformStrategy=n;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=_R(bR(s)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Na(i))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,bR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._platformStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Na(i)),s)}replaceState(n,i="",s=null){this._platformStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Na(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}}return t.\u0275fac=function(n){return new(n||t)(_e(Cp),_e(gf))},t.normalizeQueryParams=Na,t.joinWithSlash=YS,t.stripTrailingSlash=_R,t.\u0275prov=rt({factory:f8,token:t,providedIn:"root"}),t})();function f8(){return new oD(_e(Cp),_e(gf))}function bR(t){return t.replace(/\/index.html$/,"")}var Sn=(()=>((Sn=Sn||{})[Sn.Zero=0]="Zero",Sn[Sn.One=1]="One",Sn[Sn.Two=2]="Two",Sn[Sn.Few=3]="Few",Sn[Sn.Many=4]="Many",Sn[Sn.Other=5]="Other",Sn))();const v8=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Nb(e);if(n)return n;const i=e.split("-")[0];if(n=Nb(i),n)return n;if("en"===i)return Bh;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ye.PluralCase]};class gD{}let Y8=(()=>{class t extends gD{constructor(n){super(),this.locale=n}getPluralCategory(n,i){switch(v8(i||this.locale)(n)){case Sn.Zero:return"zero";case Sn.One:return"one";case Sn.Two:return"two";case Sn.Few:return"few";case Sn.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(_e(fs))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})(),TP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vs({type:t}),t.\u0275inj=oo({providers:[{provide:gD,useClass:Y8}]}),t})();let kR=(()=>{class t{}return t.\u0275prov=rt({token:t,providedIn:"root",factory:()=>new NP(_e(ir),window)}),t})();class NP{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const c=s.shadowRoot;if(c){const f=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(f)return f}s=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,s=n.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],s-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=OR(this.window.history)||OR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function OR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class uT extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){iD||(iD=t)}(new uT)}onAndCancel(e,n,i){return e.addEventListener(n,i,!1),()=>{e.removeEventListener(n,i,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(t_=t_||document.querySelector("base"),t_?t_.getAttribute("href"):null);return null==n?null:function(t){mD=mD||document.createElement("a"),mD.setAttribute("href",t);const e=mD.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){t_=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[s,c]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(s.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let mD,t_=null;const FR=new vt("TRANSITION_ID"),BP=[{provide:sf,useFactory:function(t,e,n){return()=>{n.get(ls).donePromise.then(()=>{const i=uc(),s=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let c=0;c<s.length;c++)i.remove(s[c])})}},deps:[FR,ir,xt],multi:!0}];class cT{static init(){!function(t){Yy=t}(new cT)}addToWindow(e){Dt.getAngularTestability=(i,s=!0)=>{const c=e.findTestabilityInTree(i,s);if(null==c)throw new Error("Could not find testability for element.");return c},Dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Dt.getAllAngularRootElements=()=>e.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(i=>{const s=Dt.getAllAngularTestabilities();let c=s.length,f=!1;const p=function(y){f=f||y,c--,0==c&&i(f)};s.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,n,i){if(null==n)return null;const s=e.getTestability(n);return null!=s?s:i?uc().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let jP=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const n_=new vt("EventManagerPlugins");let _D=(()=>{class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>s.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}addGlobalEventListener(n,i,s){return this._findPluginFor(i).addGlobalEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const s=this._plugins;for(let c=0;c<s.length;c++){const f=s[c];if(f.supports(n))return this._eventNameToPlugin.set(n,f),f}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(_e(n_),_e(cn))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();class lT{constructor(e){this._doc=e}addGlobalEventListener(e,n,i){const s=uc().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${n}`);return this.addEventListener(s,n,i)}}let VR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})(),r_=(()=>{class t extends VR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,s){n.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,s.push(i.appendChild(f))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(BR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(n,s,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(BR))}}return t.\u0275fac=function(n){return new(n||t)(_e(ir))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();function BR(t){uc().remove(t)}const fT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dT=/%COMP%/g;function vD(t,e,n){for(let i=0;i<e.length;i++){let s=e[i];Array.isArray(s)?vD(t,s,n):(s=s.replace(dT,t),n.push(s))}return n}function $R(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let hT=(()=>{class t{constructor(n,i,s){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new pT(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case mn.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new t6(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(n),s}case 1:case mn.ShadowDom:return new n6(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const s=vD(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(_e(_D),_e(r_),_e(af))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();class pT{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(fT[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,i){e&&e.insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,s){if(s){n=s+":"+n;const c=fT[s];c?e.setAttributeNS(c,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const s=fT[i];s?e.removeAttributeNS(s,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,s){s&(Er.DashCase|Er.Important)?e.style.setProperty(n,i,s&Er.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Er.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,$R(i)):this.eventManager.addEventListener(e,n,$R(i))}}class t6 extends pT{constructor(e,n,i,s){super(e),this.component=i;const c=vD(s+"-"+i.id,i.styles,[]);n.addStyles(c),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(dT,t)}(s+"-"+i.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(dT,t)}(s+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}class n6 extends pT{constructor(e,n,i,s){super(e),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=vD(s.id,s.styles,[]);for(let f=0;f<c.length;f++){const p=document.createElement("style");p.textContent=c[f],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let r6=(()=>{class t extends lT{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}}return t.\u0275fac=function(n){return new(n||t)(_e(ir))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const qR=["alt","control","meta","shift"],l6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WR={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},f6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let d6=(()=>{class t extends lT{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,s){const c=t.parseEventName(i),f=t.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uc().onAndCancel(n,c.domEventName,f))}static parseEventName(n){const i=n.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const c=t._normalizeKey(i.pop());let f="";if(qR.forEach(y=>{const w=i.indexOf(y);w>-1&&(i.splice(w,1),f+=y+".")}),f+=c,0!=i.length||0===c.length)return null;const p={};return p.domEventName=s,p.fullKey=f,p}static getEventFullKey(n){let i="",s=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&WR.hasOwnProperty(e)&&(e=WR[e]))}return l6[e]||e}(n);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),qR.forEach(c=>{c!=s&&f6[c](n)&&(i+=c+".")}),i+=s,i}static eventCallback(n,i,s){return c=>{t.getEventFullKey(c)===n&&s.runGuarded(()=>i(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(_e(ir))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const _6=[{provide:jy,useValue:"browser"},{provide:By,useValue:function(){uT.makeCurrent(),cT.init()},multi:!0},{provide:ir,useFactory:function(){return function(t){Cn=t}(document),document},deps:[]}],b6=a(eN,"browser",_6),w6=[[],{provide:Tr,useValue:"root"},{provide:Gs,useFactory:function(){return new Gs},deps:[]},{provide:n_,useClass:r6,multi:!0,deps:[ir,cn,jy]},{provide:n_,useClass:d6,multi:!0,deps:[ir]},[],{provide:hT,useClass:hT,deps:[_D,r_,af]},{provide:Jh,useExisting:hT},{provide:VR,useExisting:r_},{provide:r_,useClass:r_,deps:[ir]},{provide:Gy,useClass:Gy,deps:[cn]},{provide:_D,useClass:_D,deps:[n_,cn]},{provide:class{},useClass:jP,deps:[]},[]];let C6=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:af,useValue:n.appId},{provide:FR,useExisting:af},BP]}}}return t.\u0275fac=function(n){return new(n||t)(_e(t,12))},t.\u0275mod=vs({type:t}),t.\u0275inj=oo({providers:w6,imports:[TP,aN]}),t})();function nt(...t){let e=t[t.length-1];return Ua(e)?(t.pop(),_s(t,e)):se(t)}"undefined"!=typeof window&&window;class No extends si{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new no;return this._value}next(e){super.next(this._value=e)}}class A6 extends Lt{notifyNext(e,n,i,s,c){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class R6 extends Lt{constructor(e,n,i){super(),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function N6(t,e,n,i,s=new R6(t,n,i)){if(!s.closed)return e instanceof Pt?e.subscribe(s):ys(e)(s)}const YR={};class k6{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new O6(e,this.resultSelector))}}class O6 extends A6{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(YR),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let i=0;i<n;i++)this.add(N6(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,i){const s=this.values,f=this.toRespond?s[i]===YR?--this.toRespond:this.toRespond:0;s[i]=n,0===f&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(n)}}const bD=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function vT(...t){return oe(1)(nt(...t))}const Dp=new Pt(t=>t.complete());function bT(t){return t?function(t){return new Pt(e=>t.schedule(()=>e.complete()))}(t):Dp}function QR(t){return new Pt(e=>{let n;try{n=t()}catch(s){return void e.error(s)}return(n?In(n):bT()).subscribe(e)})}function lc(t,e){return"function"==typeof e?n=>n.pipe(lc((i,s)=>In(t(i,s)).pipe(It((c,f)=>e(i,c,s,f))))):n=>n.lift(new V6(t))}class V6{constructor(e){this.project=e}call(e,n){return n.subscribe(new B6(e,this.project))}}class B6 extends O{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const i=this.index++;try{n=this.project(e,i)}catch(s){return void this.destination.error(s)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const i=new _c(this),s=this.destination;s.add(i),this.innerSubscription=K(e,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const KR=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function wT(t){return e=>0===t?bT():e.lift(new j6(t))}class j6{constructor(e){if(this.total=e,this.total<0)throw new KR}call(e,n){return n.subscribe(new U6(e,this.total))}}class U6 extends Lt{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,i=++this.count;i<=n&&(this.destination.next(e),i===n&&(this.destination.complete(),this.unsubscribe()))}}function ZR(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new H6(t,e,n))}}class H6{constructor(e,n,i=!1){this.accumulator=e,this.seed=n,this.hasSeed=i}call(e,n){return n.subscribe(new z6(e,this.accumulator,this.seed,this.hasSeed))}}class z6 extends Lt{constructor(e,n,i,s){super(e),this.accumulator=n,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let i;try{i=this.accumulator(this.seed,e,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function Ep(t,e){return function(i){return i.lift(new q6(t,e))}}class q6{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new W6(e,this.predicate,this.thisArg))}}class W6 extends Lt{constructor(e,n,i){super(e),this.predicate=n,this.thisArg=i,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}n&&this.destination.next(e)}}function mf(t){return function(n){const i=new G6(t),s=n.lift(i);return i.caught=s}}class G6{constructor(e){this.selector=e}call(e,n){return n.subscribe(new Y6(e,this.selector,this.caught))}}class Y6 extends O{constructor(e,n,i){super(e),this.selector=n,this.caught=i}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const i=new _c(this);this.add(i);const s=K(n,i);s!==i&&this.add(s)}}}function i_(t,e){return G(t,e,1)}function CT(t){return function(n){return 0===t?bT():n.lift(new Q6(t))}}class Q6{constructor(e){if(this.total=e,this.total<0)throw new KR}call(e,n){return n.subscribe(new K6(e,this.total))}}class K6 extends Lt{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,i=this.total,s=this.count++;n.length<i?n.push(e):n[s%i]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let c=0;c<i;c++){const f=n++%i;e.next(s[f])}}e.complete()}}function XR(t=J6){return e=>e.lift(new Z6(t))}class Z6{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new X6(e,this.errorFactory))}}class X6 extends Lt{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function J6(){return new bD}function JR(t=null){return e=>e.lift(new ek(t))}class ek{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new tk(e,this.defaultValue))}}class tk extends Lt{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function xp(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Ep((s,c)=>t(s,c,i)):Po,wT(1),n?JR(e):XR(()=>new bD))}function fc(){}function Si(t,e,n){return function(s){return s.lift(new rk(t,e,n))}}class rk{constructor(e,n,i){this.nextOrObserver=e,this.error=n,this.complete=i}call(e,n){return n.subscribe(new ik(e,this.nextOrObserver,this.error,this.complete))}}class ik extends Lt{constructor(e,n,i,s){super(e),this._tapNext=fc,this._tapError=fc,this._tapComplete=fc,this._tapError=i||fc,this._tapComplete=s||fc,oi(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||fc,this._tapError=n.error||fc,this._tapComplete=n.complete||fc)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class sk{constructor(e){this.callback=e}call(e,n){return n.subscribe(new ak(e,this.callback))}}class ak extends Lt{constructor(e,n){super(e),this.add(new Ft(n))}}class ka{constructor(e,n){this.id=e,this.url=n}}class DT extends ka{constructor(e,n,i="imperative",s=null){super(e,n),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class o_ extends ka{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class e3 extends ka{constructor(e,n,i){super(e,n),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uk extends ka{constructor(e,n,i){super(e,n),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ck extends ka{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lk extends ka{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fk extends ka{constructor(e,n,i,s,c){super(e,n),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dk extends ka{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hk extends ka{constructor(e,n,i,s){super(e,n),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t3{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class n3{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pk{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gk{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mk{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yk{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r3{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class _k{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Mp(t){return new _k(t)}const i3="ngNavigationCancelingError";function ET(t){const e=Error("NavigationCancelingError: "+t);return e[i3]=!0,e}function bk(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const s={};for(let c=0;c<i.length;c++){const f=i[c],p=t[c];if(f.startsWith(":"))s[f.substring(1)]=p;else if(f!==p.path)return null}return{consumed:t.slice(0,i.length),posParams:s}}function ds(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let s;for(let c=0;c<n.length;c++)if(s=n[c],!o3(t[s],e[s]))return!1;return!0}function o3(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((s,c)=>i[c]===s)}return t===e}function s3(t){return Array.prototype.concat.apply([],t)}function a3(t){return t.length>0?t[t.length-1]:null}function or(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function hs(t){return la(t)?t:Ah(t)?In(Promise.resolve(t)):nt(t)}const Dk={exact:function l3(t,e,n){if(!_f(t.segments,e.segments)||!wD(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!l3(t.children[i],e.children[i],n))return!1;return!0},subset:f3},u3={exact:function(t,e){return ds(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>o3(t[n],e[n]))},ignored:()=>!0};function c3(t,e,n){return Dk[n.paths](t.root,e.root,n.matrixParams)&&u3[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function f3(t,e,n){return d3(t,e,e.segments,n)}function d3(t,e,n,i){if(t.segments.length>n.length){const s=t.segments.slice(0,n.length);return!(!_f(s,n)||e.hasChildren()||!wD(s,n,i))}if(t.segments.length===n.length){if(!_f(t.segments,n)||!wD(t.segments,n,i))return!1;for(const s in e.children)if(!t.children[s]||!f3(t.children[s],e.children[s],i))return!1;return!0}{const s=n.slice(0,t.segments.length),c=n.slice(t.segments.length);return!!(_f(t.segments,s)&&wD(t.segments,s,i)&&t.children[ht])&&d3(t.children[ht],e,c,i)}}function wD(t,e,n){return e.every((i,s)=>u3[n](t[s].parameters,i.parameters))}class yf{constructor(e,n,i){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mp(this.queryParams)),this._queryParamMap}toString(){return Tk.serialize(this)}}class _t{constructor(e,n){this.segments=e,this.children=n,this.parent=null,or(n,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return CD(this)}}class s_{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Mp(this.parameters)),this._parameterMap}toString(){return m3(this)}}function _f(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}class xT{}class h3{parse(e){const n=new Lk(e);return new yf(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${a_(e.root,!0)}`,i=function(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(s=>`${DD(n)}=${DD(s)}`).join("&"):`${DD(n)}=${DD(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),s="string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${i}${s}`}}const Tk=new h3;function CD(t){return t.segments.map(e=>m3(e)).join("/")}function a_(t,e){if(!t.hasChildren())return CD(t);if(e){const n=t.children[ht]?a_(t.children[ht],!1):"",i=[];return or(t.children,(s,c)=>{c!==ht&&i.push(`${c}:${a_(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function(t,e){let n=[];return or(t.children,(i,s)=>{s===ht&&(n=n.concat(e(i,s)))}),or(t.children,(i,s)=>{s!==ht&&(n=n.concat(e(i,s)))}),n}(t,(i,s)=>s===ht?[a_(t.children[ht],!1)]:[`${s}:${a_(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ht]?`${CD(t)}/${n[0]}`:`${CD(t)}/(${n.join("//")})`}}function p3(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function DD(t){return p3(t).replace(/%3B/gi,";")}function MT(t){return p3(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ED(t){return decodeURIComponent(t)}function g3(t){return ED(t.replace(/\+/g,"%20"))}function m3(t){return`${MT(t.path)}${function(t){return Object.keys(t).map(e=>`;${MT(e)}=${MT(t[e])}`).join("")}(t.parameters)}`}const Nk=/^[^\/()?;=#]+/;function xD(t){const e=t.match(Nk);return e?e[0]:""}const Pk=/^[^=?&#]+/,Ok=/^[^?&#]+/;class Lk{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[ht]=new _t(e,n)),i}parseSegment(){const e=xD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new s_(ED(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=xD(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const s=xD(this.remaining);s&&(i=s,this.capture(i))}e[ED(n)]=ED(i)}parseQueryParam(e){const n=function(t){const e=t.match(Pk);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const f=function(t){const e=t.match(Ok);return e?e[0]:""}(this.remaining);f&&(i=f,this.capture(i))}const s=g3(n),c=g3(i);if(e.hasOwnProperty(s)){let f=e[s];Array.isArray(f)||(f=[f],e[s]=f),f.push(c)}else e[s]=c}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=xD(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let c;i.indexOf(":")>-1?(c=i.substr(0,i.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=ht);const f=this.parseChildren();n[c]=1===Object.keys(f).length?f[ht]:new _t([],f),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class y3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=ST(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=ST(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=TT(e,this._root);return n.length<2?[]:n[n.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return TT(e,this._root).map(n=>n.value)}}function ST(t,e){if(t===e.value)return e;for(const n of e.children){const i=ST(t,n);if(i)return i}return null}function TT(t,e){if(t===e.value)return[e];for(const n of e.children){const i=TT(t,n);if(i.length)return i.unshift(e),i}return[]}class Oa{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function u_(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class _3 extends y3{constructor(e,n){super(e),this.snapshot=n,IT(this,e)}toString(){return this.snapshot.toString()}}function v3(t,e){const n=function(t,e){const f=new MD([],{},{},"",{},ht,e,null,t.root,-1,{});return new w3("",new Oa(f,[]))}(t,e),i=new No([new s_("",{})]),s=new No({}),c=new No({}),f=new No({}),p=new No(""),y=new Sp(i,s,f,p,c,ht,e,n.root);return y.snapshot=n.root,new _3(new Oa(y,[]),n)}class Sp{constructor(e,n,i,s,c,f,p,y){this.url=e,this.params=n,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=f,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(It(e=>Mp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(It(e=>Mp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b3(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const s=n[i],c=n[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(c.component)break;i--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class MD{constructor(e,n,i,s,c,f,p,y,w,E,M){this.url=e,this.params=n,this.queryParams=i,this.fragment=s,this.data=c,this.outlet=f,this.component=p,this.routeConfig=y,this._urlSegment=w,this._lastPathIndex=E,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Mp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Mp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class w3 extends y3{constructor(e,n){super(n),this.url=e,IT(this,n)}toString(){return C3(this._root)}}function IT(t,e){e.value._routerState=t,e.children.forEach(n=>IT(t,n))}function C3(t){const e=t.children.length>0?` { ${t.children.map(C3).join(", ")} } `:"";return`${t.value}${e}`}function AT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ds(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ds(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ds(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ds(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function RT(t,e){const n=ds(t.params,e.params)&&function(t,e){return _f(t,e)&&t.every((n,i)=>ds(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||RT(t.parent,e.parent))}function SD(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const s=function(t,e,n){return e.children.map(i=>{for(const s of n.children)if(t.shouldReuseRoute(i.value,s.value.snapshot))return SD(t,i,s);return SD(t,i)})}(t,e,n);return new Oa(i,s)}{if(t.shouldAttach(e.value)){const c=t.retrieve(e.value);if(null!==c){const f=c.route;return D3(e,f),f}}const i=function(t){return new Sp(new No(t.url),new No(t.params),new No(t.queryParams),new No(t.fragment),new No(t.data),t.outlet,t.component,t)}(e.value),s=e.children.map(c=>SD(t,c));return new Oa(i,s)}}function D3(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)D3(t.children[n],e.children[n])}function TD(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function c_(t){return"object"==typeof t&&null!=t&&t.outlets}function NT(t,e,n,i,s){let c={};return i&&or(i,(f,p)=>{c[p]=Array.isArray(f)?f.map(y=>`${y}`):`${f}`}),new yf(n.root===t?e:E3(n.root,t,e),c,s)}function E3(t,e,n){const i={};return or(t.children,(s,c)=>{i[c]=s===e?n:E3(s,e,n)}),new _t(t.segments,i)}class x3{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&TD(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(c_);if(s&&s!==a3(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PT{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function M3(t,e,n){if(t||(t=new _t([],{})),0===t.segments.length&&t.hasChildren())return ID(t,e,n);const i=function(t,e,n){let i=0,s=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<t.segments.length;){if(i>=n.length)return c;const f=t.segments[s],p=n[i];if(c_(p))break;const y=`${p}`,w=i<n.length-1?n[i+1]:null;if(s>0&&void 0===y)break;if(y&&w&&"object"==typeof w&&void 0===w.outlets){if(!T3(y,w,f))return c;i+=2}else{if(!T3(y,{},f))return c;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(t,e,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const c=new _t(t.segments.slice(0,i.pathIndex),{});return c.children[ht]=new _t(t.segments.slice(i.pathIndex),t.children),ID(c,0,s)}return i.match&&0===s.length?new _t(t.segments,{}):i.match&&!t.hasChildren()?kT(t,e,n):i.match?ID(t,0,s):kT(t,e,n)}function ID(t,e,n){if(0===n.length)return new _t(t.segments,{});{const i=function(t){return c_(t[0])?t[0].outlets:{[ht]:t}}(n),s={};return or(i,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[f]=M3(t.children[f],e,c))}),or(t.children,(c,f)=>{void 0===i[f]&&(s[f]=c)}),new _t(t.segments,s)}}function kT(t,e,n){const i=t.segments.slice(0,e);let s=0;for(;s<n.length;){const c=n[s];if(c_(c)){const y=Qk(c.outlets);return new _t(i,y)}if(0===s&&TD(n[0])){i.push(new s_(t.segments[e].path,S3(n[0]))),s++;continue}const f=c_(c)?c.outlets[ht]:`${c}`,p=s<n.length-1?n[s+1]:null;f&&p&&TD(p)?(i.push(new s_(f,S3(p))),s+=2):(i.push(new s_(f,{})),s++)}return new _t(i,{})}function Qk(t){const e={};return or(t,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[i]=kT(new _t([],{}),0,n))}),e}function S3(t){const e={};return or(t,(n,i)=>e[i]=`${n}`),e}function T3(t,e,n){return t==n.path&&ds(e,n.parameters)}class Zk{constructor(e,n,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=s}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),AT(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const s=u_(n);e.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,s[f],i),delete s[f]}),or(s,(c,f)=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(e,n,i){const s=e.value,c=n?n.value:null;if(s===c)if(s.component){const f=i.getContext(s.outlet);f&&this.deactivateChildRoutes(e,n,f.children)}else this.deactivateChildRoutes(e,n,i);else c&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet);if(i&&i.outlet){const s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),s=i&&e.value.component?i.children:n,c=u_(e);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,n,i){const s=u_(n);e.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],i),this.forwardEvent(new yk(c.value.snapshot))}),e.children.length&&this.forwardEvent(new gk(e.value.snapshot))}activateRoutes(e,n,i){const s=e.value,c=n?n.value:null;if(AT(s),s===c)if(s.component){const f=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,n,f.children)}else this.activateChildRoutes(e,n,i);else if(s.component){const f=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const p=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(p.contexts),f.attachRef=p.componentRef,f.route=p.route.value,f.outlet&&f.outlet.attach(p.componentRef,p.route.value),I3(p.route)}else{const p=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(s.snapshot),y=p?p.module.componentFactoryResolver:null;f.attachRef=null,f.route=s,f.resolver=y,f.outlet&&f.outlet.activateWith(s,y),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,i)}}function I3(t){AT(t.value),t.children.forEach(I3)}class OT{constructor(e,n){this.routes=e,this.module=n}}function dc(t){return"function"==typeof t}function vf(t){return t instanceof yf}const l_=Symbol("INITIAL_VALUE");function f_(){return lc(t=>function(...t){let e,n;return Ua(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Cf(t[0])&&(t=t[0]),se(t,n).lift(new k6(e))}(t.map(e=>e.pipe(wT(1),function(...t){const e=t[t.length-1];return Ua(e)?(t.pop(),n=>vT(t,n,e)):n=>vT(t,n)}(l_)))).pipe(ZR((e,n)=>{let i=!1;return n.reduce((s,c,f)=>s!==l_?s:(c===l_&&(i=!0),i||!1!==c&&f!==n.length-1&&!vf(c)?s:c),e)},l_),Ep(e=>e!==l_),It(e=>vf(e)?e:!0===e),wT(1)))}let A3=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wa({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,i){1&n&&ca(0,"router-outlet")},directives:function(){return[UT]},encapsulation:2}),t})();function R3(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];i5(i,o5(e,i))}}function i5(t,e){t.children&&R3(t.children,e)}function o5(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function FT(t){const e=t.children&&t.children.map(FT),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ht&&(n.component=A3),n}function Ji(t){return t.outlet||ht}function N3(t,e){const n=t.filter(i=>Ji(i)===e);return n.push(...t.filter(i=>Ji(i)!==e)),n}const P3={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function AD(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},P3):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(e.matcher||bk)(n,t,e);if(!c)return Object.assign({},P3);const f={};or(c.posParams,(y,w)=>{f[w]=y.path});const p=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:p,positionalParamSegments:null!==(i=c.posParams)&&void 0!==i?i:{}}}function RD(t,e,n,i,s="corrected"){if(n.length>0&&function(t,e,n){return n.some(i=>ND(t,e,i)&&Ji(i)!==ht)}(t,n,i)){const f=new _t(e,function(t,e,n,i){const s={};s[ht]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const c of n)if(""===c.path&&Ji(c)!==ht){const f=new _t([],{});f._sourceSegment=t,f._segmentIndexShift=e.length,s[Ji(c)]=f}return s}(t,e,i,new _t(n,t.children)));return f._sourceSegment=t,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(i=>ND(t,e,i))}(t,n,i)){const f=new _t(t.segments,function(t,e,n,i,s,c){const f={};for(const p of i)if(ND(t,n,p)&&!s[Ji(p)]){const y=new _t([],{});y._sourceSegment=t,y._segmentIndexShift="legacy"===c?t.segments.length:e.length,f[Ji(p)]=y}return Object.assign(Object.assign({},s),f)}(t,e,n,i,t.children,s));return f._sourceSegment=t,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:n}}const c=new _t(t.segments,t.children);return c._sourceSegment=t,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:n}}function ND(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function k3(t,e,n,i){return!!(Ji(t)===i||i!==ht&&ND(e,n,t))&&("**"===t.path||AD(e,t,n).matched)}function O3(t,e,n){return 0===e.length&&!t.children[n]}class d_{constructor(e){this.segmentGroup=e||null}}class F3{constructor(e){this.urlTree=e}}function PD(t){return new Pt(e=>e.error(new d_(t)))}function L3(t){return new Pt(e=>e.error(new F3(t)))}function l5(t){return new Pt(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class h5{constructor(e,n,i,s,c){this.configLoader=n,this.urlSerializer=i,this.urlTree=s,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(Qi)}apply(){const e=RD(this.urlTree.root,[],[],this.config).segmentGroup,n=new _t(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ht).pipe(It(c=>this.createUrlTree(LT(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mf(c=>{if(c instanceof F3)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof d_?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ht).pipe(It(s=>this.createUrlTree(LT(s),e.queryParams,e.fragment))).pipe(mf(s=>{throw s instanceof d_?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,i){const s=e.segments.length>0?new _t([],{[ht]:e}):e;return new yf(s,n,i)}expandSegmentGroup(e,n,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,n,i).pipe(It(c=>new _t([],c))):this.expandSegment(e,i,n,i.segments,s,!0)}expandChildren(e,n,i){const s=[];for(const c of Object.keys(i.children))"primary"===c?s.unshift(c):s.push(c);return In(s).pipe(i_(c=>{const f=i.children[c],p=N3(n,c);return this.expandSegmentGroup(e,p,f,c).pipe(It(y=>({segment:y,outlet:c})))}),ZR((c,f)=>(c[f.outlet]=f.segment,c),{}),function(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Ep((s,c)=>t(s,c,i)):Po,CT(1),n?JR(e):XR(()=>new bD))}())}expandSegment(e,n,i,s,c,f){return In(i).pipe(i_(p=>this.expandSegmentAgainstRoute(e,n,i,p,s,c,f).pipe(mf(w=>{if(w instanceof d_)return nt(null);throw w}))),xp(p=>!!p),mf((p,y)=>{if(p instanceof bD||"EmptyError"===p.name){if(O3(n,s,c))return nt(new _t([],{}));throw new d_(n)}throw p}))}expandSegmentAgainstRoute(e,n,i,s,c,f,p){return k3(s,n,c,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,n,s,c,f):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,i,s,c,f):PD(n):PD(n)}expandSegmentAgainstRouteUsingRedirect(e,n,i,s,c,f){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,s,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,s,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s){const c=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?L3(c):this.lineralizeSegments(i,c).pipe(G(f=>{const p=new _t(f,{});return this.expandSegment(e,p,n,f,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,s,c,f){const{matched:p,consumedSegments:y,lastChild:w,positionalParamSegments:E}=AD(n,s,c);if(!p)return PD(n);const M=this.applyRedirectCommands(y,s.redirectTo,E);return s.redirectTo.startsWith("/")?L3(M):this.lineralizeSegments(s,M).pipe(G(R=>this.expandSegment(e,n,i,R.concat(c.slice(w)),f,!1)))}matchSegmentAgainstRoute(e,n,i,s,c){if("**"===i.path)return i.loadChildren?(i._loadedConfig?nt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(It(R=>(i._loadedConfig=R,new _t(s,{})))):nt(new _t(s,{}));const{matched:f,consumedSegments:p,lastChild:y}=AD(n,i,s);if(!f)return PD(n);const w=s.slice(y);return this.getChildConfig(e,i,s).pipe(G(M=>{const R=M.module,k=M.routes,{segmentGroup:L,slicedSegments:q}=RD(n,p,w,k),U=new _t(L.segments,L.children);if(0===q.length&&U.hasChildren())return this.expandChildren(R,k,U).pipe(It(Oe=>new _t(p,Oe)));if(0===k.length&&0===q.length)return nt(new _t(p,{}));const re=Ji(i)===c;return this.expandSegment(R,U,k,q,re?ht:c,!0).pipe(It(Ce=>new _t(p.concat(Ce.segments),Ce.children)))}))}getChildConfig(e,n,i){return n.children?nt(new OT(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?nt(n._loadedConfig):this.runCanLoadGuards(e.injector,n,i).pipe(G(s=>s?this.configLoader.load(e.injector,n).pipe(It(c=>(n._loadedConfig=c,c))):function(t){return new Pt(e=>e.error(ET(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):nt(new OT([],e))}runCanLoadGuards(e,n,i){const s=n.canLoad;if(!s||0===s.length)return nt(!0);const c=s.map(f=>{const p=e.get(f);let y;if(function(t){return t&&dc(t.canLoad)}(p))y=p.canLoad(n,i);else{if(!dc(p))throw new Error("Invalid CanLoad guard");y=p(n,i)}return hs(y)});return nt(c).pipe(f_(),Si(f=>{if(!vf(f))return;const p=ET(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw p.url=f,p}),It(f=>!0===f))}lineralizeSegments(e,n){let i=[],s=n.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return nt(i);if(s.numberOfChildren>1||!s.children[ht])return l5(e.redirectTo);s=s.children[ht]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreatreUrlTree(e,n,i,s){const c=this.createSegmentGroup(e,n.root,i,s);return new yf(c,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return or(e,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const p=s.substring(1);i[c]=n[p]}else i[c]=s}),i}createSegmentGroup(e,n,i,s){const c=this.createSegments(e,n.segments,i,s);let f={};return or(n.children,(p,y)=>{f[y]=this.createSegmentGroup(e,p,i,s)}),new _t(c,f)}createSegments(e,n,i,s){return n.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,s):this.findOrReturn(c,i))}findPosParam(e,n,i){const s=i[n.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return s}findOrReturn(e,n){let i=0;for(const s of n){if(s.path===e.path)return n.splice(i),s;i++}return e}}function LT(t){const e={};for(const i of Object.keys(t.children)){const c=LT(t.children[i]);(c.segments.length>0||c.hasChildren())&&(e[i]=c)}return function(t){if(1===t.numberOfChildren&&t.children[ht]){const e=t.children[ht];return new _t(t.segments.concat(e.segments),e.children)}return t}(new _t(t.segments,e))}class V3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class kD{constructor(e,n){this.component=e,this.route=n}}function m5(t,e,n){const i=t._root;return h_(i,e?e._root:null,n,[i.value])}function OD(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function h_(t,e,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=u_(e);return t.children.forEach(f=>{(function(t,e,n,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=t.value,f=e?e.value:null,p=n?n.getContext(t.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const y=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_f(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_f(t.url,e.url)||!ds(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!RT(t,e)||!ds(t.queryParams,e.queryParams);default:return!RT(t,e)}}(f,c,c.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new V3(i)):(c.data=f.data,c._resolvedData=f._resolvedData),h_(t,e,c.component?p?p.children:null:n,i,s),y&&p&&p.outlet&&p.outlet.isActivated&&s.canDeactivateChecks.push(new kD(p.outlet.component,f))}else f&&p_(e,p,s),s.canActivateChecks.push(new V3(i)),h_(t,null,c.component?p?p.children:null:n,i,s)})(f,c[f.value.outlet],n,i.concat([f.value]),s),delete c[f.value.outlet]}),or(c,(f,p)=>p_(f,n.getContext(p),s)),s}function p_(t,e,n){const i=u_(t),s=t.value;or(i,(c,f)=>{p_(c,s.component?e?e.children.getContext(f):null:e,n)}),n.canDeactivateChecks.push(new kD(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class I5{}function B3(t){return new Pt(e=>e.error(t))}class R5{constructor(e,n,i,s,c,f){this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const e=RD(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ht);if(null===n)return null;const i=new MD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Oa(i,n),c=new w3(this.url,s);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const n=e.value,i=b3(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,i)}processChildren(e,n){const i=[];for(const c of Object.keys(n.children)){const f=n.children[c],p=N3(e,c),y=this.processSegmentGroup(p,f,c);if(null===y)return null;i.push(...y)}const s=j3(i);return function(t){t.sort((e,n)=>e.value.outlet===ht?-1:n.value.outlet===ht?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}processSegment(e,n,i,s){for(const c of e){const f=this.processSegmentAgainstRoute(c,n,i,s);if(null!==f)return f}return O3(n,i,s)?[]:null}processSegmentAgainstRoute(e,n,i,s){if(e.redirectTo||!k3(e,n,i,s))return null;let c,f=[],p=[];if("**"===e.path){const k=i.length>0?a3(i).parameters:{};c=new MD(i,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,H3(e),Ji(e),e.component,e,U3(n),$3(n)+i.length,z3(e))}else{const k=AD(n,e,i);if(!k.matched)return null;f=k.consumedSegments,p=i.slice(k.lastChild),c=new MD(f,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,H3(e),Ji(e),e.component,e,U3(n),$3(n)+f.length,z3(e))}const y=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:E}=RD(n,f,p,y.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);if(0===E.length&&w.hasChildren()){const k=this.processChildren(y,w);return null===k?null:[new Oa(c,k)]}if(0===y.length&&0===E.length)return[new Oa(c,[])];const M=Ji(e)===s,R=this.processSegment(y,w,E,M?ht:s);return null===R?null:[new Oa(c,R)]}}function k5(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j3(t){const e=[],n=new Set;for(const i of t){if(!k5(i)){e.push(i);continue}const s=e.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...i.children),n.add(s)):e.push(i)}for(const i of n){const s=j3(i.children);e.push(new Oa(i.value,s))}return e.filter(i=>!n.has(i))}function U3(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function $3(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function H3(t){return t.data||{}}function z3(t){return t.resolve||{}}function VT(t){return lc(e=>{const n=t(e);return n?In(n).pipe(It(()=>e)):nt(e)})}class $5 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const BT=new vt("ROUTES");class q3{constructor(e,n,i,s){this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=s}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const s=this.loadModuleFactory(n.loadChildren).pipe(It(c=>{this.onLoadEndListener&&this.onLoadEndListener(n);const f=c.create(e);return new OT(s3(f.injector.get(BT,void 0,Ue.Self|Ue.Optional)).map(FT),f)}),mf(c=>{throw n._loader$=void 0,c}));return n._loader$=new Ve(s,()=>new si).pipe(Le()),n._loader$}loadModuleFactory(e){return"string"==typeof e?In(this.loader.load(e)):hs(e()).pipe(G(n=>n instanceof Tw?nt(n):In(this.compiler.compileModuleAsync(n))))}}class H5{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Tp,this.attachRef=null}}class Tp{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new H5,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class q5{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function W5(t){throw t}function G5(t,e,n){return e.parse("/")}function W3(t,e){return nt(null)}const Y5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Q5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ii=(()=>{class t{constructor(n,i,s,c,f,p,y,w){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=s,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new si,this.errorHandler=W5,this.malformedUriErrorHandler=G5,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:W3,afterPreactivation:W3},this.urlHandlingStrategy=new q5,this.routeReuseStrategy=new $5,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(Qi),this.console=f.get(cf);const R=f.get(cn);this.isNgZoneEnabled=R instanceof cn&&cn.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=new yf(new _t([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new q3(p,y,k=>this.triggerEvent(new t3(k)),k=>this.triggerEvent(new n3(k))),this.routerState=v3(this.currentUrlTree,this.rootComponentType),this.transitions=new No({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const i=this.events;return n.pipe(Ep(s=>0!==s.id),It(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),lc(s=>{let c=!1,f=!1;return nt(s).pipe(Si(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),lc(p=>{const y=this.browserUrlTree.toString(),w=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return FD(p.source)&&(this.browserUrlTree=p.extractedUrl),nt(p).pipe(lc(M=>{const R=this.transitions.getValue();return i.next(new DT(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),R!==this.transitions.getValue()?Dp:Promise.resolve(M)}),function(t,e,n,i){return lc(s=>function(t,e,n,i,s){return new h5(t,e,n,i,s).apply()}(t,e,n,s.extractedUrl,i).pipe(It(c=>Object.assign(Object.assign({},s),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Si(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(t,e,n,i,s){return G(c=>function(t,e,n,i,s="emptyOnly",c="legacy"){try{const f=new R5(t,e,n,i,s,c).recognize();return null===f?B3(new I5):nt(f)}catch(f){return B3(f)}}(t,e,c.urlAfterRedirects,n(c.urlAfterRedirects),i,s).pipe(It(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),Si(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const R=new ck(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);i.next(R)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:k,source:L,restoredState:q,extras:U}=p,re=new DT(R,this.serializeUrl(k),L,q);i.next(re);const X=v3(k,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},p),{targetSnapshot:X,urlAfterRedirects:k,extras:Object.assign(Object.assign({},U),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,this.browserUrlTree=p.urlAfterRedirects,p.resolve(null),Dp}),VT(p=>{const{targetSnapshot:y,id:w,extractedUrl:E,rawUrl:M,extras:{skipLocationChange:R,replaceUrl:k}}=p;return this.hooks.beforePreactivation(y,{navigationId:w,appliedUrlTree:E,rawUrlTree:M,skipLocationChange:!!R,replaceUrl:!!k})}),Si(p=>{const y=new lk(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),It(p=>Object.assign(Object.assign({},p),{guards:m5(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function(t,e){return G(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:f}}=n;return 0===f.length&&0===c.length?nt(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return In(t).pipe(G(s=>function(t,e,n,i,s){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return c&&0!==c.length?nt(c.map(p=>{const y=OD(p,e,s);let w;if(function(t){return t&&dc(t.canDeactivate)}(y))w=hs(y.canDeactivate(t,e,n,i));else{if(!dc(y))throw new Error("Invalid CanDeactivate guard");w=hs(y(t,e,n,i))}return w.pipe(xp())})).pipe(f_()):nt(!0)}(s.component,s.route,n,e,i)),xp(s=>!0!==s,!0))}(f,i,s,t).pipe(G(p=>p&&function(t){return"boolean"==typeof t}(p)?function(t,e,n,i){return In(e).pipe(i_(s=>vT(function(t,e){return null!==t&&e&&e(new pk(t)),nt(!0)}(s.route.parent,i),function(t,e){return null!==t&&e&&e(new mk(t)),nt(!0)}(s.route,i),function(t,e,n){const i=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(f=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(f)).filter(f=>null!==f).map(f=>QR(()=>nt(f.guards.map(y=>{const w=OD(y,f.node,n);let E;if(function(t){return t&&dc(t.canActivateChild)}(w))E=hs(w.canActivateChild(i,t));else{if(!dc(w))throw new Error("Invalid CanActivateChild guard");E=hs(w(i,t))}return E.pipe(xp())})).pipe(f_())));return nt(c).pipe(f_())}(t,s.path,n),function(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const s=i.map(c=>QR(()=>{const f=OD(c,e,n);let p;if(function(t){return t&&dc(t.canActivate)}(f))p=hs(f.canActivate(e,t));else{if(!dc(f))throw new Error("Invalid CanActivate guard");p=hs(f(e,t))}return p.pipe(xp())}));return nt(s).pipe(f_())}(t,s.route,n))),xp(s=>!0!==s,!0))}(i,c,t,e):nt(p)),It(p=>Object.assign(Object.assign({},n),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),Si(p=>{if(vf(p.guardsResult)){const w=ET(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw w.url=p.guardsResult,w}const y=new fk(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Ep(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),VT(p=>{if(p.guards.canActivateChecks.length)return nt(p).pipe(Si(y=>{const w=new dk(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),lc(y=>{let w=!1;return nt(y).pipe(function(t,e){return G(n=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=n;if(!s.length)return nt(n);let c=0;return In(s).pipe(i_(f=>function(t,e,n,i){return function(t,e,n,i){const s=Object.keys(t);if(0===s.length)return nt({});const c={};return In(s).pipe(G(f=>function(t,e,n,i){const s=OD(t,e,i);return hs(s.resolve?s.resolve(e,n):s(e,n))}(t[f],e,n,i).pipe(Si(p=>{c[f]=p}))),CT(1),G(()=>Object.keys(c).length===s.length?nt(c):Dp))}(t._resolve,t,e,i).pipe(It(c=>(t._resolvedData=c,t.data=Object.assign(Object.assign({},t.data),b3(t,n).resolve),null)))}(f.route,i,t,e)),Si(()=>c++),CT(1),G(f=>c===s.length?nt(n):Dp))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Si({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),Si(y=>{const w=new hk(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}))}),VT(p=>{const{targetSnapshot:y,id:w,extractedUrl:E,rawUrl:M,extras:{skipLocationChange:R,replaceUrl:k}}=p;return this.hooks.afterPreactivation(y,{navigationId:w,appliedUrlTree:E,rawUrlTree:M,skipLocationChange:!!R,replaceUrl:!!k})}),It(p=>{const y=function(t,e,n){const i=SD(t,e._root,n?n._root:void 0);return new _3(i,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),Si(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((t,e,n)=>It(i=>(new Zk(e,i.targetRouterState,i.currentRouterState,n).activate(t),i)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),Si({next(){c=!0},complete(){c=!0}}),function(t){return e=>e.lift(new sk(t))}(()=>{var p;if(!c&&!f){const y=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,y)):this.cancelNavigationTransition(s,y)}(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===s.id&&(this.currentNavigation=null)}),mf(p=>{if(f=!0,function(t){return t&&t[i3]}(p)){const y=vf(p.url);y||(this.navigated=!0,this.restoreHistory(s,!0));const w=new e3(s.id,this.serializeUrl(s.extractedUrl),p.message);i.next(w),y?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FD(s.source)};this.scheduleNavigation(E,"imperative",null,M,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const y=new uk(s.id,this.serializeUrl(s.extractedUrl),p);i.next(y);try{s.resolve(this.errorHandler(p))}catch(w){s.reject(w)}}return Dp}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:s,state:c,urlTree:f}=i,p={replaceUrl:!0};if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(p.state=y)}this.scheduleNavigation(f,s,c,p)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(n){var i;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,i){if(!n)return!0;const s=i.urlTree.toString()===n.urlTree.toString();return i.transitionId!==n.transitionId||!s||!("hashchange"===i.source&&"popstate"===n.source||"popstate"===i.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){R3(n),this.config=n.map(FT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:s,queryParams:c,fragment:f,queryParamsHandling:p,preserveFragment:y}=i,w=s||this.routerState.root,E=y?this.currentUrlTree.fragment:f;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=c||null}return null!==M&&(M=this.removeEmptyProps(M)),function(t,e,n,i,s){if(0===n.length)return NT(e.root,e.root,e,i,s);const c=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new x3(!0,0,t);let e=0,n=!1;const i=t.reduce((s,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return or(c.outlets,(y,w)=>{p[w]="string"==typeof y?y.split("/"):y}),[...s,{outlets:p}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===f?(c.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?n=!0:".."===p?e++:""!=p&&s.push(p))}),s):[...s,c]},[]);return new x3(n,e,i)}(n);if(c.toRoot())return NT(e.root,new _t([],{}),e,i,s);const f=function(t,e,n){if(t.isAbsolute)return new PT(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const c=n.snapshot._urlSegment;return new PT(c,c===e.root,0)}const i=TD(t.commands[0])?0:1;return function(t,e,n){let i=t,s=e,c=n;for(;c>s;){if(c-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new PT(i,!1,s-c)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(c,e,t),p=f.processChildren?ID(f.segmentGroup,f.index,c.commands):M3(f.segmentGroup,f.index,c.commands);return NT(f.segmentGroup,p,e,i,s)}(w,this.currentUrlTree,n,M,null!=E?E:null)}navigateByUrl(n,i={skipLocationChange:!1}){const s=vf(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,n)}return i}isActive(n,i){let s;if(s=!0===i?Object.assign({},Y5):!1===i?Object.assign({},Q5):i,vf(n))return c3(this.currentUrlTree,n,s);const c=this.parseUrl(n);return c3(this.currentUrlTree,c,s)}removeEmptyProps(n){return Object.keys(n).reduce((i,s)=>{const c=n[s];return null!=c&&(i[s]=c),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new o_(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,s,c,f){var p,y;if(this.disposed)return Promise.resolve(!1);const w=this.getTransition(),E=FD(i)&&w&&!FD(w.source),k=(this.lastSuccessfulId===w.id||this.currentNavigation?w.rawUrl:w.urlAfterRedirects).toString()===n.toString();if(E&&k)return Promise.resolve(!0);let L,q,U;f?(L=f.resolve,q=f.reject,U=f.promise):U=new Promise((Ce,Oe)=>{L=Ce,q=Oe});const re=++this.navigationId;let X;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),X=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):X=0,this.setTransition({id:re,targetPageId:X,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:c,resolve:L,reject:q,promise:U,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),U.catch(Ce=>Promise.reject(Ce))}setBrowserUrl(n,i){const s=this.urlSerializer.serialize(n),c=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(n,i=!1){var s,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i){const s=new e3(n.id,this.serializeUrl(n.extractedUrl),i);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(_e(Hc),_e(xT),_e(Tp),_e(oD),_e(xt),_e(T),_e(Ia),_e(void 0))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();function FD(t){return"imperative"!==t}let g_=(()=>{class t{constructor(n,i,s,c,f){this.router=n,this.route=i,this.commands=[],this.onChanges=new si,null==s&&c.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}onClick(){const n={skipLocationChange:Ip(this.skipLocationChange),replaceUrl:Ip(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ip(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(je(ii),je(Sp),jc("tabindex"),je(Ul),je(kr))},t.\u0275dir=Bn({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,i){1&n&&Ou("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ms]}),t})();function Ip(t){return""===t||!!t}let UT=(()=>{class t{constructor(n,i,s,c,f){this.parentContexts=n,this.location=i,this.resolver=s,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new ni,this.deactivateEvents=new ni,this.name=c||ht,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const f=(i=i||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new J5(n,p,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(je(Tp),je(Or),je(Ot),jc("name"),je(va))},t.\u0275dir=Bn({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class J5{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Sp?this.route:e===Tp?this.childContexts:this.parent.get(e,n)}}class G3{}class Y3{preload(e,n){return nt(null)}}let Q3=(()=>{class t{constructor(n,i,s,c,f){this.router=n,this.injector=c,this.preloadingStrategy=f,this.loader=new q3(i,s,w=>n.triggerEvent(new t3(w)),w=>n.triggerEvent(new n3(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ep(n=>n instanceof o_),i_(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Qi);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const s=[];for(const c of i)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;s.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?s.push(this.preloadConfig(n,c)):c.children&&s.push(this.processRoutes(n,c.children));return In(s).pipe(oe(),It(c=>{}))}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?nt(i._loadedConfig):this.loader.load(n.injector,i)).pipe(G(c=>(i._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(_e(ii),_e(T),_e(Ia),_e(xt),_e(G3))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})(),$T=(()=>{class t{constructor(n,i,s={}){this.router=n,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof DT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof o_&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof r3&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.router.triggerEvent(new r3(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(_e(ii),_e(kR),_e(void 0))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();const bf=new vt("ROUTER_CONFIGURATION"),K3=new vt("ROUTER_FORROOT_GUARD"),t4=[oD,{provide:xT,useClass:h3},{provide:ii,useFactory:function(t,e,n,i,s,c,f,p={},y,w){const E=new ii(null,t,e,n,i,s,c,s3(f));return y&&(E.urlHandlingStrategy=y),w&&(E.routeReuseStrategy=w),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(p,E),p.enableTracing&&E.events.subscribe(M=>{var R,k;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(k=console.groupEnd)||void 0===k||k.call(console)}),E},deps:[xT,Tp,oD,xt,T,Ia,BT,bf,[class{},new ar],[class{},new ar]]},Tp,{provide:Sp,useFactory:function(t){return t.routerState.root},deps:[ii]},{provide:T,useClass:Q},Q3,Y3,class{preload(e,n){return n().pipe(mf(()=>nt(null)))}},{provide:bf,useValue:{enableTracing:!1}}];function n4(){return new r("Router",ii)}let Z3=(()=>{class t{constructor(n,i){}static forRoot(n,i){return{ngModule:t,providers:[t4,X3(n),{provide:K3,useFactory:o4,deps:[[ii,new ar,new Wo]]},{provide:bf,useValue:i||{}},{provide:Cp,useFactory:i4,deps:[gf,[new Oi(QS),new ar],bf]},{provide:$T,useFactory:r4,deps:[ii,kR,bf]},{provide:G3,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Y3},{provide:r,multi:!0,useFactory:n4},[HT,{provide:sf,multi:!0,useFactory:c4,deps:[HT]},{provide:J3,useFactory:l4,deps:[HT]},{provide:Uy,multi:!0,useExisting:J3}]]}}static forChild(n){return{ngModule:t,providers:[X3(n)]}}}return t.\u0275fac=function(n){return new(n||t)(_e(K3,8),_e(ii,8))},t.\u0275mod=vs({type:t}),t.\u0275inj=oo({}),t})();function r4(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new $T(t,e,n)}function i4(t,e,n={}){return n.useHash?new l8(t,e):new vR(t,e)}function o4(t){return"guarded"}function X3(t){return[{provide:y2,multi:!0,useValue:t},{provide:BT,multi:!0,useValue:t}]}let HT=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new si}appInitializer(){return this.injector.get(a8,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(p=>i=p),c=this.injector.get(ii),f=this.injector.get(bf);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),i(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),c.initialNavigation()):i(!0),s})}bootstrapListener(n){const i=this.injector.get(bf),s=this.injector.get(Q3),c=this.injector.get($T),f=this.injector.get(ii),p=this.injector.get(v);n===p.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&f.initialNavigation(),s.setUpPreloading(),c.init(),f.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(_e(xt))},t.\u0275prov=rt({token:t,factory:t.\u0275fac}),t})();function c4(t){return t.appInitializer.bind(t)}function l4(t){return t.bootstrapListener.bind(t)}const J3=new vt("Router Initializer");let d4=(()=>{class t{constructor(){this.title="family-chart-angular-demo"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wa({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,i){1&n&&ca(0,"router-outlet")},directives:[UT],styles:[""]}),t})();var wf=to(651);const h4=[{path:"",component:(()=>{class t{constructor(){this.tree=[]}ngOnInit(){this.tree=null===localStorage.getItem("tree")?this.data():JSON.parse(localStorage.getItem("tree")||""),this.setTree()}setTree(){const n=wf.createStore({data:this.tree,node_separation:250,level_separation:150}),i=wf.d3AnimationView({store:n,cont:document.querySelector("#FamilyChart")}),s=wf.elements.Card({store:n,svg:i.svg,card_dim:{w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},card_display:[c=>`${c.data["first name"]||""} ${c.data["last name"]||""}`,c=>`${c.data.birthday||""}`],mini_tree:!0,link_break:!1});i.setCard(s),n.setOnUpdate(c=>i.update(c||{})),n.update.tree({initial:!0})}data(){return[{id:"0",rels:{father:"d10190e9-3a2f-4ecc-b663-6cfda87c4b26",mother:"3880d51a-28bf-44a9-8546-b572a27aa7d6",spouses:["a836d151-28fc-4f05-ba3f-d4f7e1c60bbe"],children:["62997598-0786-47a3-901d-80298e33a137"]},data:{"first name":"Richard","last name":"",birthday:"1977",avatar:"",gender:"M"}},{id:"d10190e9-3a2f-4ecc-b663-6cfda87c4b26",data:{gender:"M","first name":"Nelson","last name":"",birthday:"1954",avatar:""},rels:{children:["0"],spouses:["3880d51a-28bf-44a9-8546-b572a27aa7d6"]}},{id:"3880d51a-28bf-44a9-8546-b572a27aa7d6",data:{gender:"F","first name":"Lourdes","last name":"",birthday:"1956",avatar:""},rels:{spouses:["d10190e9-3a2f-4ecc-b663-6cfda87c4b26"],children:["0"]}},{id:"a836d151-28fc-4f05-ba3f-d4f7e1c60bbe",data:{gender:"F","first name":"Carina","last name":"",birthday:"1977",avatar:""},rels:{spouses:["0"],children:["62997598-0786-47a3-901d-80298e33a137"]}},{id:"62997598-0786-47a3-901d-80298e33a137",data:{gender:"M","first name":"Brandon","last name":"",birthday:"2015",avatar:""},rels:{mother:"a836d151-28fc-4f05-ba3f-d4f7e1c60bbe",father:"0"}}]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wa({type:t,selectors:[["app-arbol"]],decls:3,vars:0,consts:[["id","FamilyChart",1,"f3"],["routerLink","editar",2,"position","fixed","top","15px","left","15px","z-index","2"]],template:function(n,i){1&n&&(ca(0,"div",0),El(1,"button",1),fm(2,"Edit"),Nr())},directives:[g_],styles:[""]}),t})()},{path:"editar",component:(()=>{class t{constructor(){this.tree=[]}ngOnInit(){this.tree=null===localStorage.getItem("tree")?this.data():JSON.parse(localStorage.getItem("tree")||""),this.setTree()}setTree(){const n=document.querySelector("#FamilyChart"),i={w:220,h:70,text_x:75,text_y:15,img_w:60,img_h:60,img_x:5,img_y:5},s=this.cardDisplay(),c=this.cardEditParams(),f=E=>{const M=E.postSubmit;E.postSubmit=R=>{M(R),localStorage.setItem("tree",JSON.stringify(this.tree))},this.Form(Object.assign(Object.assign({},E),{card_edit:c,card_display:s}))},p=wf.createStore({data:this.tree,node_separation:250,level_separation:150}),y=wf.d3AnimationView({store:p,cont:n,card_edit:this.cardEditParams()}),w=wf.elements.Card({store:p,svg:y.svg,card_dim:i,card_display:this.cardDisplay(),card_edit:this.cardEditParams(),mini_tree:!0,link_break:!1,_callBack:f,addRelative:wf.handlers.AddRelative({store:p,cont:n,card_dim:i,cardEditForm:f})});y.setCard(w),p.setOnUpdate(E=>y.update(E||{})),p.update.tree({initial:!0})}Form(n){const s=document.querySelector("#FamilyChart");let c=document.createElement("div");c.setAttribute("style","padding-top:50px;position: fixed;overflow: auto;width: 350px;height: 100%;top: 0;right: 0;bottom: 0;background-color: rgba(255,255,255,1);color: white;z-index: 2;cursor: pointer;"),null==s||s.append(c);let f=document.createElement("form");n.card_edit.map(E=>{let M=document.createElement("input");M.setAttribute("type",E.type),M.setAttribute("name",E.key),M.setAttribute("placeholder",E.placeholder),M.setAttribute("value",void 0===n.datum.data[E.key]?"":n.datum.data[E.key]),M.setAttribute("style","clear:both"),f.appendChild(M)}),c.appendChild(f);let p=document.createElement("button");p.setAttribute("style","margin-left:25%; padding:15px;border-radius:15"),p.setAttribute("type","submit"),p.textContent="save",f.appendChild(p),f.addEventListener("submit",E=>{E.preventDefault(),new FormData(E.target).forEach((k,L)=>n.datum.data[L]=k),n.postSubmit(),c.remove()});const y=document.createElement("button");y.setAttribute("style","float:right"),y.textContent="X",null==f||f.prepend(y),y.addEventListener("click",()=>{c.remove()});const w=document.createElement("button");w.setAttribute("style","margin-left:15px;padding:15px;border-radius:15"),w.textContent="delete",f.appendChild(w),w.addEventListener("click",()=>{n.postSubmit({delete:!0})})}cardDisplay(){return[s=>`${s.data["first name"]||""} ${s.data["last name"]||""}`,s=>`${s.data.birthday}`]}cardEditParams(){return[{type:"text",placeholder:"nombre",key:"first name"},{type:"text",placeholder:"apellido",key:"last name"},{data_type:"date",type:"text",placeholder:"nacimiento",key:"birthday"},{data_type:"date",type:"text",placeholder:"fallecimiento",key:"dead"},{type:"textarea",placeholder:"resumen corto descriptivo 2048 caracteres maximo",key:"short_bio"},{type:"text",placeholder:"foto",key:"avatar"}]}data(){return[{id:"0",rels:{father:"d10190e9-3a2f-4ecc-b663-6cfda87c4b26",mother:"3880d51a-28bf-44a9-8546-b572a27aa7d6",spouses:["a836d151-28fc-4f05-ba3f-d4f7e1c60bbe"],children:["62997598-0786-47a3-901d-80298e33a137"]},data:{"first name":"Richard","last name":"",birthday:"1977",avatar:"",gender:"M"}},{id:"d10190e9-3a2f-4ecc-b663-6cfda87c4b26",data:{gender:"M","first name":"Nelson","last name":"",birthday:"1954",avatar:""},rels:{children:["0"],spouses:["3880d51a-28bf-44a9-8546-b572a27aa7d6"]}},{id:"3880d51a-28bf-44a9-8546-b572a27aa7d6",data:{gender:"F","first name":"Lourdes","last name":"",birthday:"1956",avatar:""},rels:{spouses:["d10190e9-3a2f-4ecc-b663-6cfda87c4b26"],children:["0"]}},{id:"a836d151-28fc-4f05-ba3f-d4f7e1c60bbe",data:{gender:"F","first name":"Carina","last name":"",birthday:"1977",avatar:""},rels:{spouses:["0"],children:["62997598-0786-47a3-901d-80298e33a137"]}},{id:"62997598-0786-47a3-901d-80298e33a137",data:{gender:"M","first name":"Brandon","last name":"",birthday:"2015",avatar:""},rels:{mother:"a836d151-28fc-4f05-ba3f-d4f7e1c60bbe",father:"0"}}]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Wa({type:t,selectors:[["app-edit"]],decls:3,vars:0,consts:[["id","FamilyChart",1,"f3"],["routerLink","/",2,"position","fixed","top","15px","left","15px","z-index","2"]],template:function(n,i){1&n&&(ca(0,"div",0),El(1,"button",1),fm(2,"back"),Nr())},directives:[g_],styles:[""]}),t})()}];let p4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vs({type:t}),t.\u0275inj=oo({imports:[[Z3.forRoot(h4)],Z3]}),t})(),g4=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vs({type:t,bootstrap:[d4]}),t.\u0275inj=oo({providers:[],imports:[[C6,p4]]}),t})();(function(){if(df)throw new Error("Cannot enable prod mode after platform setup.");WC=!1})(),b6().bootstrapModule(g4).catch(t=>console.error(t))}},Fa=>{Fa(Fa.s=74)}]);